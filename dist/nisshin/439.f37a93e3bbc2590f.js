"use strict";(self.webpackChunknisshin=self.webpackChunknisshin||[]).push([[439],{8593:(w,Y,l)=>{l.d(Y,{n:()=>N});var d=l(6895),C=l(4006),S=l(1571);let N=(()=>{class b{}return b.\u0275fac=function(c){return new(c||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[d.ez,C.UX]}),b})()},6502:(w,Y,l)=>{l.d(Y,{P:()=>c});var d=l(1571),C=l(3761),S=l(6303),N=l(5155);const b=["*",[["","message",""]]],R=["*","[message]"];let c=(()=>{class t{constructor(){this.inputType="text",this.invalid=!1,this.labelSize="base"}onClear(){this.formCtrl.setValue("")}}return t.\u0275fac=function(x){return new(x||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-text-clear-container"]],inputs:{inputType:"inputType",nameAttrValue:"nameAttrValue",idAttrValue:"idAttrValue",formCtrl:"formCtrl",placeholder:"placeholder",invalid:"invalid",labelSize:"labelSize"},ngContentSelectors:R,decls:7,vars:8,consts:[[1,"flex","flex-col"],[1,"ml-1","mb-1",3,"labelSize","forAttrValue"],[1,"flex","flex-row","items-center"],[1,"grow",3,"inputType","nameAttrValue","idAttrValue","formCtrl","placeholder","invalid"],["icon","close-circle-fill",1,"w-6","ml-1","fill-slate-500","cursor-pointer",3,"click"]],template:function(x,A){1&x&&(d.F$t(b),d.TgZ(0,"div",0)(1,"app-label",1),d.Hsn(2),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"app-text",3),d.TgZ(5,"app-icon",4),d.NdJ("click",function(){return A.onClear()}),d.qZA()(),d.Hsn(6,1),d.qZA()),2&x&&(d.xp6(1),d.Q6J("labelSize",A.labelSize)("forAttrValue",A.idAttrValue),d.xp6(3),d.Q6J("inputType",A.inputType)("nameAttrValue",A.nameAttrValue)("idAttrValue",A.idAttrValue)("formCtrl",A.formCtrl)("placeholder",A.placeholder)("invalid",A.invalid))},dependencies:[C.o,S._,N.T]}),t})()},956:(w,Y,l)=>{l.d(Y,{$:()=>S});var d=l(1571),C=l(1914);let S=(()=>{class N{constructor(){}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275cmp=d.Xpm({type:N,selectors:[["app-delete-link-org"]],decls:4,vars:0,consts:[[1,"cursor-pointer"],["icon","delete-bin-line","appendClassForIcon","fill-danger group-hover:fill-danger-hover"],[1,"text-gray-900","group-hover:text-danger-hover"]],template:function(R,c){1&R&&(d.TgZ(0,"div",0)(1,"app-icon-container",1)(2,"p",2),d._uU(3,"\u524a\u9664"),d.qZA()()())},dependencies:[C.J]}),N})()},2923:(w,Y,l)=>{l.d(Y,{D:()=>N});var d=l(6895),C=l(1326),S=l(1571);let N=(()=>{class b{}return b.\u0275fac=function(c){return new(c||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[d.ez,C.z]}),b})()},1439:(w,Y,l)=>{l.r(Y),l.d(Y,{RepairSlipModule:()=>es});var d=l(6895),C=l(1690),S=l(727),N=l(5698),b=l(9300),R=l(8037),c=l(6585),t=l(1571),Q=l(1609),x=l(2334),A=l(8832),U=l(2125);let H=(()=>{class n{constructor(e,i,r,o){this.modalService=e,this.errorService=i,this.router=r,this.common=o,this.subscription=new S.w0,this.isLoading=!1}ngOnInit(){this.subscription.add(this.errorService.getError().subscribe(e=>{this.handleError(e)})),this.subscription.add(this.common.loading$.subscribe(e=>{setTimeout(()=>this.isLoading=e)}))}ngOnDestroy(){this.subscription.unsubscribe()}handleError(e){e.redirectPath&&(this.redirectPath=e.redirectPath),this.modalService.setModal(e.title,0===e.status?e.message+R.c.GUIDANCE_OF_SUPPORT:`\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9: ${e.status} \n\u30e1\u30c3\u30bb\u30fc\u30b8: `+e.message+R.c.GUIDANCE_OF_SUPPORT,"danger",c.yR.BUTTON_TITLE.CLOSE,""),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,N.q)(1),(0,b.h)(r=>this.modalService.getModalProperties().title===e.title)).subscribe(r=>{this.redirectPath&&this.router.navigateByUrl(this.redirectPath)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q.Z),t.Y36(x.T),t.Y36(C.F0),t.Y36(A.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-repair-slip"]],decls:2,vars:1,consts:[[3,"isLoading"]],template:function(e,i){1&e&&t._UZ(0,"router-outlet")(1,"app-loading-container",0),2&e&&(t.xp6(1),t.Q6J("isLoading",i.isLoading))},dependencies:[C.lC,U.o]}),n})();var E=l(7579),F=l(7030),y=l(3360),M=l(529),X=l(8505),Ot=l(3900),L=l(262),B=l(9646),q=l(8746);const P={FAILED_CHOICES_FOR_NARROWING_DOWN:"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002",ERROR:{CANNOT_BE_DELETED:"\u3053\u306e\u30c7\u30fc\u30bf\u306f\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002",ATTEMPTED_TO_MODIFY_ACCEPTED_DATA_CHANGE:"\u4fee\u7406\u4f9d\u983c\u4e2d\u306e\u4fee\u7406\u53d7\u4ed8\u7968\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002"},CUSTOMER_TYPE_DIVISION:{CODE:{CLIENT:0,MEMBER:1,GENERAL:2},VALUE:{CLIENT:"\u5f97\u610f\u5148",MEMBER:"\u4f1a\u54e1",GENERAL:"\u4e00\u822c"}},DELIVERY_DIVISION:{CODE:{NO_DELIVERY:0,DELIVERY_INCLUDED:1},VALUE:{NO_DELIVERY:"\u914d\u9001\u306a\u3057",DELIVERY_INCLUDED:"\u914d\u9001\u3042\u308a"}},SETTLE_STATUS_DIVISION:{CODE:{UNSETTLED:0,SETTLED:1},VALUE:{UNSETTLED:"\u7cbe\u7b97\u524d",SETTLED:"\u7cbe\u7b97\u6e08\u307f"}},INCIDENT_DIVISION:{CODE:{NO_INCIDENTS:0,INCIDENT_IN_PROGRESS:1,INCIDENT_RESOLUTION:2},VALUE:{NO_INCIDENTS:"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u306a\u3057",INCIDENT_IN_PROGRESS:"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u767a\u751f\u4e2d",INCIDENT_RESOLUTION:"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u89e3\u6d88"}},STATUS_CODE:{ACCEPTED:0,TICKET_ISSUED:1,PREPARING_QUOTE:2,QUOTE_SENT_TO_CUSTOMER:3,ORDERED_FROM_MANUFACTURER:4,REPAIRED:5,CUSTOMER_NOTIFIED_OF_REPAIR_COMPLETION:6,DELIVERED_TO_SHIPPING_CARRIER:7,SHIPPED:8,DELIVERED:9,CANCELLED:99},STATUS:{ACCEPTED:"\u53d7\u4ed8\u6e08\u307f",TICKET_ISSUED:"\u53d7\u4ed8\u7968\u767a\u884c\u6e08\u307f",PREPARING_QUOTE:"\u898b\u7a4d\u4e2d",QUOTE_SENT_TO_CUSTOMER:"\u304a\u5ba2\u69d8\u3078\u898b\u7a4d\u984d\u3092\u9023\u7d61\u6e08\u307f",ORDERED_FROM_MANUFACTURER:"\u30e1\u30fc\u30ab\u30fc\u3078\u4f9d\u983c\u6e08\u307f",REPAIRED:"\u4fee\u7406\u5b8c\u4e86",CUSTOMER_NOTIFIED_OF_REPAIR_COMPLETION:"\u304a\u5ba2\u69d8\u3078\u4fee\u7406\u5b8c\u4e86\u306e\u9023\u7d61\u6e08\u307f",DELIVERED_TO_SHIPPING_CARRIER:"\u914d\u9001\u696d\u8005\u3078\u5f15\u304d\u6e21\u3057\u6e08\u307f",SHIPPED:"\u5546\u54c1\u914d\u9001\u4e2d",DELIVERED:"\u5546\u54c1\u5f15\u304d\u6e21\u3057\u6e08\u307f",CANCELLED:"\u30ad\u30e3\u30f3\u30bb\u30eb"},CALLED_NUMBER_PREFIX:"1"};var Dt=l(2340),It=l(1751);let z=(()=>{class n extends It.O{constructor(){super(...arguments),this.endpoint=Dt.pU.repairSlipApi.endpoint}getAll(e={}){return this.httpOptions.params=e,this.http.get(this.endpoint,this.httpOptions)}find(e){return this.http.get(`${this.endpoint}/${e}`)}add(e){const i=this.generateFormData(e);return this.http.post(this.endpoint,i)}update(e,i){const r=this.generateFormData(i);return this.http.patch(`${this.endpoint}/${e}`,r)}remove(e){return this.http.delete(`${this.endpoint}/${e}`,this.httpOptions)}}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var St=l(2640);let Rt=(()=>{class n{constructor(e,i){this.rsService=e,this.common=i,this.errorEvent=new t.vpe,this.filter={},this.defaultSort={column:"\u4fee\u7406\u53d7\u4ed8\u7968ID",order:"desc"},this.pages={page:1,itemsPerPage:10,sort:this.defaultSort},this.tableParams=new E.x,this.tableNameMapping=[{name:"id",name_jp:"\u4fee\u7406\u53d7\u4ed8\u7968ID"},{name:"customer_type_division_id",name_jp:"\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7"},{name:"client_id",name_jp:"\u304a\u5ba2\u69d8\u540d"},{name:"reception_date",name_jp:"\u53d7\u4ed8\u65e5\u6642"},{name:"reception_employee_id",name_jp:"\u53d7\u4ed8\u62c5\u5f53\u8005"},{name:"status_division_id",name_jp:"\u30b9\u30c6\u30fc\u30bf\u30b9"}]}ngOnInit(){this.subscribeEventListener()}subscribeEventListener(){this.subscription?.unsubscribe(),this.subscription=this.eventListener.pipe((0,X.b)(()=>this.common.loading=!0),(0,Ot.w)(e=>this.rsService.getAll(this.createApiParams(e))),(0,L.K)(e=>(0,B.of)(e)),(0,q.x)(()=>this.common.loading=!1)).subscribe({next:e=>{this.common.loading=!1,e instanceof M.UA?this.handleError(e.status,e.error.message):this.tableParams.next(this.createTableParams(e))},complete:()=>this.subscribeEventListener()})}createApiParams(e){this.isTableWithPaginationEvent(e)?this.pages=e:(this.filter=e,this.pages.page=1),0===Object.keys(this.pages.sort).length&&(this.pages.sort=this.defaultSort);const i=this.tableNameMapping.find(o=>o.name_jp===this.pages.sort.column)?.name;let r;return r="client_id"===i?"client_name_kana":"reception_employee_id"===i?"employee_reception_last_name_kana":i,{...this.filter,limit:this.pages.itemsPerPage,offset:(this.pages.page-1)*this.pages.itemsPerPage,sort:r?`${r}:${this.pages.sort.order}`:""}}isTableWithPaginationEvent(e){const{page:i,itemsPerPage:r,sort:o}=e;return"number"==typeof i&&"number"==typeof r&&"object"==typeof o}handleError(e,i){this.errorEvent.emit({status:e,title:"\u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7\uff1a"+c.yR.TITLE.HAS_ERROR,message:i})}createTableParams(e){const i=this.tableNameMapping.map(o=>o.name_jp),r=e.data.map(o=>this.tableNameMapping.map(u=>o[u.name]));return r.forEach((o,u)=>{let _=-1;switch(_=i.indexOf("\u4fee\u7406\u53d7\u4ed8\u7968ID"),o[_]={href:`./detail/${o[_]}`,text:o[_]+""},_=i.indexOf("\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7"),o[_]=String(e.data[u].division_customer_type_value),_=i.indexOf("\u304a\u5ba2\u69d8\u540d"),e.data[u].division_customer_type_code){case P.CUSTOMER_TYPE_DIVISION.CODE.CLIENT:o[_]=String(e.data[u].client_name)+" \u69d8";break;case P.CUSTOMER_TYPE_DIVISION.CODE.MEMBER:o[_]=String(e.data[u].member_last_name)+" "+String(e.data[u].member_first_name)+" \u69d8";break;case P.CUSTOMER_TYPE_DIVISION.CODE.GENERAL:o[_]=String(e.data[u].last_name)+" "+String(e.data[u].first_name)+" \u69d8";break;default:o[_]="\u4e0d\u660e"}_=i.indexOf("\u53d7\u4ed8\u65e5\u6642"),o[_]=""===o[_]||"NaT"===o[_]?"":new Date(o[_]).toLocaleString(),_=i.indexOf("\u53d7\u4ed8\u62c5\u5f53\u8005"),o[_]=e.data[u].employee_reception_last_name+" "+e.data[u].employee_reception_first_name,_=i.indexOf("\u30b9\u30c6\u30fc\u30bf\u30b9"),o[_]=String(e.data[u].division_status_value)}),{total:e.totalItems,header:i,body:r}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z),t.Y36(A.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table"]],inputs:{eventListener:"eventListener"},outputs:{errorEvent:"errorEvent"},decls:2,vars:2,consts:[[3,"params","loading","pageChange"]],template:function(e,i){1&e&&(t.TgZ(0,"app-table-with-pagination",0),t.NdJ("pageChange",function(o){return i.eventListener.next(o)}),t._uU(1," \u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7\n"),t.qZA()),2&e&&t.Q6J("params",i.tableParams)("loading",i.common.loading)},dependencies:[St.i]}),n})();var s=l(4006),W=l(4128),j=l(5450),O=l(9042),J=l(1267),nt=l(4416),it=l(4562),$=l(6232),tt=l(5146),Nt=l(3761),Mt=l(6502),et=l(7540),kt=l(3148);function yt(n,a){1&n&&t.GkF(0,24)}function Zt(n,a){1&n&&t.GkF(0,24)}function Ut(n,a){1&n&&t.GkF(0,24)}function Vt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",25),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickSubmitButton())}),t._uU(1," \u7d5e\u308a\u8fbc\u307f\u5b9f\u884c "),t.qZA()}}function Yt(n,a){1&n&&(t.TgZ(0,"app-button",26),t._uU(1," \u7d5e\u308a\u8fbc\u307f\u5b9f\u884c "),t.qZA())}function Lt(n,a){if(1&n&&(t.TgZ(0,"p",27),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.DATE_TERM_TO_BEFORE_FROM," ")}}let Bt=(()=>{class n{constructor(e,i,r,o,u){this.fb=e,this.employeeService=i,this.supplierService=r,this.divisionService=o,this.common=u,this.subscription=new S.w0,this.searchEvent=new t.vpe,this.errorEvent=new t.vpe,this.hasPanelOpened=!1,this.rotateAnimation="",this.errorConst=R.c,this.form=this.fb.group({id:"",member_id:"",mobile_number:"",last_name:"",reception_employee_id:"",supplier_id:"",status_division_id:"",settle_status_division_id:"",reception_date:this.fb.group({from:"",to:""},{validators:[j.d.beforeFromDate()]}),arrival_expected_date:this.fb.group({from:"",to:""},{validators:[j.d.beforeFromDate()]}),arrival_date:this.fb.group({from:"",to:""},{validators:[j.d.beforeFromDate()]})})}get ctrls(){return this.form.controls}ngOnInit(){this.initialization()}initialization(){this.common.loading=!0,this.subscription.add((0,W.D)([this.employeeService.getAsSelectOptions(),this.divisionService.getAsSelectOptions(),this.supplierService.getAsSelectOptions()]).pipe((0,q.x)(()=>this.common.loading=!1),(0,L.K)(e=>(e.emit(e),(0,B.of)(e.error)))).subscribe(e=>{if(e instanceof M.UA)return void this.handleError(e.status,e.message);if(null==e)return void this.handleError(400,c.yR.BODY.HAS_ERROR);if(3!==e.length)return void this.handleError(400,c.yR.BODY.HAS_ERROR);this.employeeSuggests=e[0],this.statusOptions=e[1][O.z.REPAIR_SLIP_STATUS],this.settleStatusOptions=e[1][O.z.SETTLE_STATUS],this.supplierSuggests=e[2];const i=this.settleStatusOptions.find(r=>r.text===P.SETTLE_STATUS_DIVISION.VALUE.UNSETTLED);this.form.controls.settle_status_division_id.patchValue(String(i?.value)),this.handleClickSubmitButton()}))}invalid(e){return(e.touched||e.dirty)&&e.invalid}panelOpenButtonOnClick(){this.hasPanelOpened?(this.hasPanelOpened=!1,this.rotateAnimation="rotate-animation-0"):(this.hasPanelOpened=!0,this.rotateAnimation="rotate-animation-180")}handleClickClearButton(){Object.values(this.ctrls).forEach(e=>{e instanceof s.cw?Object.values(e.controls).forEach(i=>{i.patchValue("")}):e.patchValue("")})}handleClickSubmitButton(){const i=(0,J.vP)(this.form.value);this.searchEvent.emit((0,J.g3)(i))}handleError(e,i){this.errorEvent.emit({status:e,title:"\u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7\u7d5e\u308a\u8fbc\u307f\uff1a"+c.yR.TITLE.HAS_ERROR,message:i})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(nt.G),t.Y36(it.p),t.Y36($.E),t.Y36(A.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],outputs:{searchEvent:"searchEvent",errorEvent:"errorEvent"},decls:58,vars:36,consts:[[1,"mt-8","mb-4"],[3,"click"],["icon","filter-2-line",1,"w-6"],[1,"inline-block","ml-1","mr-2"],["icon","arrow-down-s-fill",1,"w-6"],[1,"mb-6"],[1,"purchase-order-search","width-limit-break","bg-white",3,"ngClass"],[1,"w-[1280px]","mx-auto","px-4",3,"ngSubmit"],[1,"flex","gap-6","mb-6"],[1,"w-1/6",3,"formCtrl"],[1,"w-1/6"],["nameAttrValue","reception_employee_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","status_division_id","idAttrValue","status-division-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"w-1/3"],["nameAttrValue","settle_status_division_id","idAttrValue","settle-status-division-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","supplier_id","idAttrValue","supplier-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"flex","gap-6"],[3,"dateFromFormCtrl","dateToFormCtrl","invalid"],["message","",4,"ngIf","ngIfThen"],[1,"flex","gap-8","mt-10"],["btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"click",4,"ngIf","ngIfElse"],[1,"mt-2","text-sm","text-red"],["disable",""],["beforeFromDate",""],["message",""],["btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"click"],["btnFillColor","text-white bg-slate-300 hover:bg-slate-300"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"app-button",1),t.NdJ("click",function(){return i.panelOpenButtonOnClick()}),t._UZ(2,"app-icon",2),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t._UZ(5,"app-icon",4),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){return i.handleClickSubmitButton()}),t.TgZ(9,"div",8)(10,"div")(11,"app-text-clear-container",9),t._uU(12,"\u4fee\u7406\u53d7\u4ed8\u7968ID"),t.qZA()(),t.TgZ(13,"div")(14,"app-text-clear-container",9),t._uU(15,"\u643a\u5e2f\u96fb\u8a71\u756a\u53f7"),t.qZA()(),t.TgZ(16,"div",10)(17,"app-select-suggest-container",11),t._uU(18," \u53d7\u4ed8\u62c5\u5f53\u8005 "),t.qZA()(),t.TgZ(19,"div",10)(20,"app-text-clear-container",9),t._uU(21,"\u304a\u5ba2\u69d8\u540d"),t.qZA()(),t.TgZ(22,"div",10)(23,"app-select-suggest-container",12),t._uU(24," \u30b9\u30c6\u30fc\u30bf\u30b9 "),t.qZA()()(),t.TgZ(25,"div",8)(26,"div",13)(27,"app-select-suggest-container",14),t._uU(28," \u7cbe\u7b97\u30b9\u30c6\u30fc\u30bf\u30b9 "),t.qZA()(),t.TgZ(29,"div",13)(30,"app-select-suggest-container",15),t._uU(31," \u4fee\u7406\u4f9d\u983c\u5148(\u4ed5\u5165\u5148\uff1a\u554f\u5c4b) "),t.qZA()()(),t.TgZ(32,"div",16)(33,"div",13)(34,"app-date-term-clear-container",17)(35,"span"),t._uU(36,"\u53d7\u4ed8\u65e5"),t.qZA(),t.YNc(37,yt,1,0,"ng-container",18),t.qZA()(),t.TgZ(38,"div",13)(39,"app-date-term-clear-container",17)(40,"span"),t._uU(41,"\u5165\u8377\u4e88\u5b9a\u65e5"),t.qZA(),t.YNc(42,Zt,1,0,"ng-container",18),t.qZA()(),t.TgZ(43,"div",13)(44,"app-date-term-clear-container",17)(45,"span"),t._uU(46,"\u5165\u8377\u65e5"),t.qZA(),t.YNc(47,Ut,1,0,"ng-container",18),t.qZA()()(),t.TgZ(48,"div",19)(49,"app-button",1),t.NdJ("click",function(){return i.handleClickClearButton()}),t._uU(50," \u5165\u529b\u5185\u5bb9\u30af\u30ea\u30a2 "),t.qZA(),t.YNc(51,Vt,2,0,"app-button",20),t.qZA(),t.TgZ(52,"p",21),t._uU(53," \u203b \u5165\u529b\u5185\u5bb9\u3092\u30af\u30ea\u30a2\u3057\u305f\u5f8c\u306b\u7d5e\u308a\u8fbc\u307f\u5b9f\u884c\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002 "),t.qZA()()()(),t.YNc(54,Yt,2,0,"ng-template",null,22,t.W1O),t.YNc(56,Lt,2,1,"ng-template",null,23,t.W1O)),2&e){const r=t.MAs(55),o=t.MAs(57);t.xp6(4),t.hij(" ",i.hasPanelOpened?"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u975e\u8868\u793a":"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u8868\u793a"," "),t.xp6(1),t.Tol(i.rotateAnimation),t.xp6(2),t.Q6J("ngClass",i.hasPanelOpened?"is-open shadow":""),t.xp6(4),t.Q6J("formCtrl",i.ctrls.id),t.xp6(3),t.Q6J("formCtrl",i.ctrls.mobile_number),t.xp6(3),t.Q6J("formCtrl",i.ctrls.reception_employee_id)("suggests",i.employeeSuggests)("invalid",i.invalid(i.ctrls.reception_employee_id)),t.xp6(3),t.Q6J("formCtrl",i.ctrls.last_name),t.xp6(3),t.Q6J("formCtrl",i.ctrls.status_division_id)("suggests",i.statusOptions)("invalid",i.invalid(i.ctrls.status_division_id)),t.xp6(4),t.Q6J("formCtrl",i.ctrls.settle_status_division_id)("suggests",i.settleStatusOptions)("invalid",i.invalid(i.ctrls.settle_status_division_id)),t.xp6(3),t.Q6J("formCtrl",i.ctrls.supplier_id)("suggests",i.supplierSuggests)("invalid",i.invalid(i.ctrls.supplier_id)),t.xp6(4),t.Q6J("dateFromFormCtrl",i.ctrls.reception_date.controls.from)("dateToFormCtrl",i.ctrls.reception_date.controls.to)("invalid",!!i.ctrls.reception_date.errors),t.xp6(3),t.Q6J("ngIf",null==i.ctrls.reception_date.errors?null:i.ctrls.reception_date.errors.beforeFromDate)("ngIfThen",o),t.xp6(2),t.Q6J("dateFromFormCtrl",i.ctrls.arrival_expected_date.controls.from)("dateToFormCtrl",i.ctrls.arrival_expected_date.controls.to)("invalid",!!i.ctrls.arrival_expected_date.errors),t.xp6(3),t.Q6J("ngIf",null==i.ctrls.arrival_expected_date.errors?null:i.ctrls.arrival_expected_date.errors.beforeFromDate)("ngIfThen",o),t.xp6(2),t.Q6J("dateFromFormCtrl",i.ctrls.arrival_date.controls.from)("dateToFormCtrl",i.ctrls.arrival_date.controls.to)("invalid",!!i.ctrls.arrival_date.errors),t.xp6(3),t.Q6J("ngIf",null==i.ctrls.arrival_date.errors?null:i.ctrls.arrival_date.errors.beforeFromDate)("ngIfThen",o),t.xp6(4),t.Q6J("ngIf",i.form.valid)("ngIfElse",r)}},dependencies:[d.mk,d.O5,s._Y,s.JL,tt.r,Nt.o,Mt.P,et.X,kt.w],styles:[".purchase-order-search[_ngcontent-%COMP%]{max-height:0;padding:0 2.5rem;margin:0;transition:max-height .8s,padding .8s,margin .8s ease-in;overflow:hidden}.purchase-order-search.is-open[_ngcontent-%COMP%]{max-height:100vh;padding:2.5rem;margin:2rem 0}"]}),n})();const qt=function(){return{text:"\u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7"}},Qt=function(n){return[n]};let Jt=(()=>{class n{constructor(e){this.errorService=e,this.parentSearchEvent=new E.x,this.parentTableEvent=new E.x,this.subscription=new S.w0}ngOnInit(){this.subscription.add(this.parentSearchEvent.subscribe(e=>{this.parentTableEvent.next(e)}))}ngOnDestroy(){this.subscription.unsubscribe()}handleError(e){this.errorService.setError({status:e.status,title:e.title,message:e.message})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:8,vars:5,consts:[[3,"breadcrumbList"],[3,"searchEvent","errorEvent"],[1,"flex","items-center","justify-end","my-2"],[1,"mr-8"],["path","/repair-slip/add"],[3,"eventListener","errorEvent"]],template:function(e,i){1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"app-search",1),t.NdJ("searchEvent",function(o){return i.parentSearchEvent.next(o)})("errorEvent",function(o){return i.handleError(o)}),t.qZA(),t.TgZ(2,"main")(3,"div",2)(4,"div",3),t._UZ(5,"app-new-registration-link-org",4),t.qZA()(),t.TgZ(6,"div")(7,"app-table",5),t.NdJ("errorEvent",function(o){return i.handleError(o)}),t.qZA()()()),2&e&&(t.Q6J("breadcrumbList",t.VKq(3,Qt,t.DdM(2,qt))),t.xp6(7),t.Q6J("eventListener",i.parentTableEvent))},dependencies:[F.Z,y.S,Rt,Bt]}),n})();var h=l(349),rt=l(5470),Pt=l(1269),dt=l(2e3),gt=l(2425),ft=l(6341),at=l(8782),ht=l(6082),Tt=l(387),ot=l(1805),st=l(8187),lt=l(2195),Ct=l(228),ut=l(1451),Gt=l(9612);function Kt(n,a){1&n&&t.GkF(0)}function wt(n,a){1&n&&t.GkF(0,34)}function Ht(n,a){1&n&&t.GkF(0)}function Wt(n,a){1&n&&t.GkF(0,34)}function jt(n,a){1&n&&t.GkF(0)}function Xt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,jt,1,0,"ng-container",35),t.BQk()),2&n){const e=t.oxw(),i=t.MAs(34);t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT)("ngIfThen",i)}}function zt(n,a){1&n&&t.GkF(0)}function $t(n,a){1&n&&t.GkF(0)}function te(n,a){1&n&&t.GkF(0)}function ee(n,a){if(1&n&&(t.ynx(0),t.YNc(1,zt,1,0,"ng-container",35),t.YNc(2,$t,1,0,"ng-container",35),t.YNc(3,te,1,0,"ng-container",36),t.BQk()),2&n){const e=t.oxw(),i=t.MAs(36),r=t.MAs(38),o=t.MAs(40);t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER)("ngIfThen",i),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)("ngIfThen",r),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function ne(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",37)(2,"app-button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onClickReset())}),t._uU(3,"\u30af\u30ea\u30a2"),t.qZA(),t.TgZ(4,"app-button",39),t._uU(5,"\u4fdd\u5b58"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.clientForm.invalid||e.clientForm.pristine||e.invalidRepairForm())}}function ie(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",37)(2,"app-button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onClickReset())}),t._uU(3,"\u30af\u30ea\u30a2"),t.qZA(),t.TgZ(4,"app-button",39),t._uU(5,"\u4fdd\u5b58"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.memberForm.invalid||e.memberForm.pristine)}}function re(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",37)(2,"app-button",39),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.generalForm.invalid||e.generalForm.pristine)}}function ae(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ne,6,1,"ng-container",21),t.YNc(2,ie,6,1,"ng-container",21),t.YNc(3,re,4,1,"ng-container",21),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)}}function oe(n,a){1&n&&t.GkF(0)}function se(n,a){1&n&&t.GkF(0,34)}function le(n,a){1&n&&t.GkF(0)}function ue(n,a){1&n&&t.GkF(0,34)}function _e(n,a){1&n&&t.GkF(0,34)}const ce=function(){return{label:"\u5f97\u610f\u5148",required:"true"}},v=function(n){return{ctrl:n}},_t=function(){return{label:"\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5716\u6841\u4ee5\u5185\uff09",required:!0}};function pe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"app-select-suggest-container",40),t.NdJ("idValueChanges",function(r){t.CHM(e);const o=t.oxw();return t.KtG(o.clientChange(r))}),t.YNc(2,oe,1,0,"ng-container",16),t.YNc(3,se,1,0,"ng-container",17),t.qZA()(),t.TgZ(4,"div",19)(5,"app-text-container",41),t.YNc(6,le,1,0,"ng-container",16),t.YNc(7,ue,1,0,"ng-container",17),t.YNc(8,_e,1,0,"ng-container",17),t.qZA()()}if(2&n){const e=t.oxw(),i=t.MAs(42),r=t.MAs(44),o=t.MAs(50);t.xp6(1),t.Q6J("formCtrl",e.clientCtrls.client_id)("suggests",e.clientSuggests)("invalid",e.formControlStateManager(e.clientCtrls.client_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(15,ce)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(16,v,e.clientCtrls.client_id)),t.xp6(2),t.Q6J("formCtrl",e.clientCtrls.mobile_number)("invalid",e.formControlStateManager(e.clientCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(18,_t)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(19,v,e.clientCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(21,v,e.clientCtrls.mobile_number))}}function me(n,a){1&n&&t.GkF(0)}function de(n,a){1&n&&t.GkF(0)}function ge(n,a){1&n&&t.GkF(0)}function fe(n,a){1&n&&t.GkF(0,34)}function he(n,a){1&n&&t.GkF(0,34)}const Te=function(){return{label:"\u4f1a\u54e1\u756a\u53f7\u3067\u691c\u7d22",required:!1}},Ce=function(){return{label:"\u96fb\u8a71\u756a\u53f7\u3067\u691c\u7d22",required:!1}};function Ee(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"p",12),t._uU(2," \u203b \u4f1a\u54e1\u756a\u53f7\u307e\u305f\u306f\u96fb\u8a71\u756a\u53f7\u306e\u4f55\u308c\u304b\u306b\u3088\u308b\u691c\u7d22\u3067\u4f1a\u54e1\u60c5\u5831\u306e\u9078\u629e\u304c\u5fc5\u8981\u3067\u3059\u3002 "),t.qZA()(),t.TgZ(3,"div",42)(4,"div",19)(5,"app-real-time-suggest-container",43),t.NdJ("selectedData",function(r){t.CHM(e);const o=t.oxw();return t.KtG(o.handleSelectedMemberData(r))}),t.YNc(6,me,1,0,"ng-container",16),t.qZA()(),t.TgZ(7,"div",19)(8,"app-real-time-suggest-container",44),t.NdJ("selectedData",function(r){t.CHM(e);const o=t.oxw();return t.KtG(o.handleSelectedMemberData(r))}),t.YNc(9,de,1,0,"ng-container",16),t.qZA()(),t.TgZ(10,"div",19)(11,"app-text-container",41),t.YNc(12,ge,1,0,"ng-container",16),t.YNc(13,fe,1,0,"ng-container",17),t.YNc(14,he,1,0,"ng-container",17),t.qZA()()()}if(2&n){const e=t.oxw(),i=t.MAs(42),r=t.MAs(50),o=t.MAs(44);t.xp6(5),t.Q6J("idCtrl",e.memberCtrls.api_member_id)("nameCtrl",e.memberCtrls.api_member_id)("apiInput",e.getMemberCdSuggests())("invalid",e.formControlStateManager(e.memberCtrls.member_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(20,Te)),t.xp6(2),t.Q6J("idCtrl",e.memberCtrls.api_member_tel)("nameCtrl",e.memberCtrls.api_member_tel)("apiInput",e.getMemberTelSuggests())("invalid",e.formControlStateManager(e.memberCtrls.member_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(21,Ce)),t.xp6(2),t.Q6J("formCtrl",e.memberCtrls.mobile_number)("invalid",e.formControlStateManager(e.memberCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(22,_t)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(23,v,e.memberCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(25,v,e.memberCtrls.mobile_number))}}function ve(n,a){1&n&&t.GkF(0)}function xe(n,a){1&n&&t.GkF(0,34)}function Ae(n,a){1&n&&t.GkF(0)}function be(n,a){1&n&&t.GkF(0,34)}function Fe(n,a){1&n&&t.GkF(0)}function Oe(n,a){1&n&&t.GkF(0,34)}function De(n,a){1&n&&t.GkF(0,34)}function Ie(n,a){1&n&&t.GkF(0)}function Se(n,a){1&n&&t.GkF(0,34)}function Re(n,a){1&n&&t.GkF(0)}function Ne(n,a){1&n&&t.GkF(0,34)}function Me(n,a){1&n&&t.GkF(0)}function ke(n,a){1&n&&t.GkF(0,34)}function ye(n,a){1&n&&t.GkF(0,34)}function Ze(n,a){1&n&&t.GkF(0,34)}const Ue=function(){return{label:"\u59d3 \u540d",required:"true"}},Et=function(){return{label:"\u3000",required:!1}},Ve=function(){return{label:"\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5716\u6841\u4ee5\u5185\uff09",required:!1}},Ye=function(){return{label:"\u30bb\u30a4 \u30e1\u30a4",required:!1}};function Le(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"app-text-container",45),t.YNc(3,ve,1,0,"ng-container",16),t.YNc(4,xe,1,0,"ng-container",17),t.qZA()(),t.TgZ(5,"div",19)(6,"app-text-container",46),t.YNc(7,Ae,1,0,"ng-container",16),t.YNc(8,be,1,0,"ng-container",17),t.qZA()(),t.TgZ(9,"div",19)(10,"app-text-container",47),t.YNc(11,Fe,1,0,"ng-container",16),t.YNc(12,Oe,1,0,"ng-container",17),t.YNc(13,De,1,0,"ng-container",17),t.qZA()()(),t.TgZ(14,"div",18)(15,"div",19)(16,"app-text-container",48),t.YNc(17,Ie,1,0,"ng-container",16),t.YNc(18,Se,1,0,"ng-container",17),t.qZA()(),t.TgZ(19,"div",19)(20,"app-text-container",49),t.YNc(21,Re,1,0,"ng-container",16),t.YNc(22,Ne,1,0,"ng-container",17),t.qZA()(),t.TgZ(23,"div",19)(24,"app-text-container",41),t.YNc(25,Me,1,0,"ng-container",16),t.YNc(26,ke,1,0,"ng-container",17),t.YNc(27,ye,1,0,"ng-container",17),t.YNc(28,Ze,1,0,"ng-container",17),t.qZA()()()),2&n){const e=t.oxw(),i=t.MAs(42),r=t.MAs(44),o=t.MAs(48),u=t.MAs(50),_=t.MAs(46);t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.last_name)("invalid",e.formControlStateManager(e.generalCtrls.last_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(42,Ue)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(43,v,e.generalCtrls.last_name)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.first_name)("invalid",e.formControlStateManager(e.generalCtrls.first_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(45,Et)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(46,v,e.generalCtrls.first_name)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.tel)("invalid",e.formControlStateManager(e.generalCtrls.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(48,Ve)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(49,v,e.generalCtrls.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(51,v,e.generalCtrls.tel)),t.xp6(3),t.Q6J("formCtrl",e.generalCtrls.last_name_kana)("invalid",e.formControlStateManager(e.generalCtrls.last_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(53,Ye)),t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(54,v,e.generalCtrls.last_name_kana)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.first_name_kana)("invalid",e.formControlStateManager(e.generalCtrls.first_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(56,Et)),t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(57,v,e.generalCtrls.first_name_kana)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.mobile_number)("invalid",e.formControlStateManager(e.generalCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(59,_t)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(60,v,e.generalCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(62,v,e.generalCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(64,v,e.generalCtrls.mobile_number))}}function Be(n,a){1&n&&t.GkF(0)}function qe(n,a){1&n&&t.GkF(0,34)}function Qe(n,a){1&n&&t.GkF(0)}function Je(n,a){1&n&&t.GkF(0,34)}function Pe(n,a){1&n&&t.GkF(0)}function Ge(n,a){1&n&&t.GkF(0,34)}function Ke(n,a){1&n&&t.GkF(0)}function we(n,a){1&n&&t.GkF(0,34)}function He(n,a){1&n&&t.GkF(0)}function We(n,a){1&n&&t.GkF(0,34)}function je(n,a){1&n&&t.GkF(0)}function Xe(n,a){1&n&&t.GkF(0,34)}function ze(n,a){1&n&&t.GkF(0)}function $e(n,a){1&n&&t.GkF(0,34)}function tn(n,a){1&n&&t.GkF(0)}function en(n,a){1&n&&t.GkF(0,34)}function nn(n,a){1&n&&t.GkF(0)}function rn(n,a){1&n&&t.GkF(0,34)}const an=function(){return{label:"\u4f5c\u696d\u5de5\u8cc3\u539f\u4fa1",required:!1}};function on(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",14)(2,"app-text-container",83),t.YNc(3,nn,1,0,"ng-container",16),t.YNc(4,rn,1,0,"ng-container",17),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(3),r=t.MAs(42),o=t.MAs(50);t.xp6(2),t.Q6J("textRight",!0)("formCtrl",i.getFormControlTypeValue(e,"quote_cost"))("invalid",i.formControlStateManager(i.getFormControlTypeValue(e,"quote_cost"))),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(7,an)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(8,v,i.getFormControlTypeValue(e,"quote_cost")))}}function sn(n,a){1&n&&t.GkF(0)}function ln(n,a){1&n&&t.GkF(0,34)}const un=function(){return{label:"\u90e8\u54c1\u539f\u4fa1",required:!1}};function _n(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",14)(2,"app-text-container",84),t.YNc(3,sn,1,0,"ng-container",16),t.YNc(4,ln,1,0,"ng-container",17),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(3),r=t.MAs(42),o=t.MAs(50);t.xp6(2),t.Q6J("textRight",!0)("formCtrl",i.getFormControlTypeValue(e,"cost_of_parts"))("invalid",i.formControlStateManager(i.getFormControlTypeValue(e,"cost_of_parts"))),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(7,un)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(8,v,i.getFormControlTypeValue(e,"cost_of_parts")))}}function cn(n,a){1&n&&t.GkF(0)}function pn(n,a){1&n&&t.GkF(0,34)}function mn(n,a){1&n&&t.GkF(0)}function dn(n,a){1&n&&t.GkF(0,34)}function gn(n,a){1&n&&t.GkF(0)}function fn(n,a){1&n&&t.GkF(0,34)}function hn(n,a){1&n&&t.GkF(0)}function Tn(n,a){1&n&&t.GkF(0,34)}function Cn(n,a){1&n&&t.GkF(0)}function En(n,a){1&n&&t.GkF(0,34)}const vn=function(){return{label:"\u30e1\u30fc\u30ab\u30fc\u540d",required:!1}},xn=function(){return{label:"\u54c1\u540d",required:!0}},An=function(){return{label:"\u6545\u969c\u72b6\u6cc1",required:!0}},bn=function(){return{label:"\u3054\u4e88\u7b97",required:!1}},Fn=function(){return{label:"\u4fee\u7406\u4f9d\u983c\u5148\u9078\u629e"}},On=function(){return{label:"\u5099\u8003\u53ca\u3073\u30a2\u30c9\u30d0\u30a4\u30b9",required:!1}},Dn=function(){return{label:"\u898b\u7a4d\u58f2\u4fa1",required:!1}},In=function(){return{label:"\u6301\u51fa\u65e5",required:!1}},Sn=function(){return{label:"\u5165\u8377\u4e88\u5b9a\u65e5",required:!1}},Rn=function(){return{label:"\u5165\u8377\u65e5",required:!1}},Nn=function(){return{label:"\u5f15\u6e21\u3057\u65e5",required:!1}};function Mn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",58)(1,"div",59)(2,"div",13)(3,"div",60)(4,"app-text-container",61),t.YNc(5,Pe,1,0,"ng-container",16),t.YNc(6,Ge,1,0,"ng-container",17),t.qZA()(),t.TgZ(7,"div",62)(8,"app-text-container",63),t.YNc(9,Ke,1,0,"ng-container",16),t.YNc(10,we,1,0,"ng-container",17),t.qZA()()(),t.TgZ(11,"div",64)(12,"app-textarea-container",65),t.YNc(13,He,1,0,"ng-container",16),t.YNc(14,We,1,0,"ng-container",17),t.qZA()(),t.TgZ(15,"div",13)(16,"div",14)(17,"app-text-container",66),t.YNc(18,je,1,0,"ng-container",16),t.YNc(19,Xe,1,0,"ng-container",17),t.qZA()(),t.TgZ(20,"div",60)(21,"app-select-suggest-container",67),t.YNc(22,ze,1,0,"ng-container",16),t.YNc(23,$e,1,0,"ng-container",17),t.qZA()(),t.ynx(24),t.TgZ(25,"div",14)(26,"div",68)(27,"label",69),t._uU(28," \u81ea\u793e\u4fee\u7406 "),t.TgZ(29,"input",70),t.NdJ("change",function(r){const u=t.CHM(e).index,_=t.oxw(3);return t.KtG(_.selectRepairLocation(r,u))}),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(30,"div",64)(31,"app-textarea-container",71),t.YNc(32,tn,1,0,"ng-container",16),t.YNc(33,en,1,0,"ng-container",17),t.qZA()(),t.TgZ(34,"div",13),t.YNc(35,on,5,10,"ng-container",21),t.YNc(36,_n,5,10,"ng-container",21),t.TgZ(37,"div",14)(38,"app-text-container",72),t.YNc(39,cn,1,0,"ng-container",16),t.YNc(40,pn,1,0,"ng-container",17),t.qZA()(),t.TgZ(41,"div",73)(42,"app-button",74),t.NdJ("click",function(){const o=t.CHM(e).index,u=t.oxw(3);return t.KtG(u.handleClickClearValueButton(o))}),t._uU(43," \u5024\u3092\u30af\u30ea\u30a2 "),t.qZA(),t.TgZ(44,"app-button",75),t.NdJ("click",function(){const o=t.CHM(e).index,u=t.oxw(3);return t.KtG(u.handleClickCalcButton(o))}),t._uU(45," \u898b\u7a4d\u58f2\u4fa1\u3092\u8a08\u7b97 "),t.qZA()()(),t.TgZ(46,"div",13)(47,"div",76)(48,"app-date-term",77),t.YNc(49,mn,1,0,"ng-container",16),t.YNc(50,dn,1,0,"ng-container",17),t.qZA()(),t.TgZ(51,"div",76)(52,"app-date-term",78),t.YNc(53,gn,1,0,"ng-container",16),t.YNc(54,fn,1,0,"ng-container",17),t.qZA()(),t.TgZ(55,"div",76)(56,"app-date-term",79),t.YNc(57,hn,1,0,"ng-container",16),t.YNc(58,Tn,1,0,"ng-container",17),t.qZA()(),t.TgZ(59,"div",76)(60,"app-date-term",80),t.YNc(61,Cn,1,0,"ng-container",16),t.YNc(62,En,1,0,"ng-container",17),t.qZA()()(),t._UZ(63,"hr",11),t.TgZ(64,"div",81)(65,"div",82)(66,"app-button",38),t.NdJ("click",function(){const o=t.CHM(e).index,u=t.oxw(3);return t.KtG(u.removeRepairForm(o))}),t._uU(67,"\u524a\u9664"),t.qZA()()()()()}if(2&n){const e=a.$implicit,i=a.index,r=t.oxw(3),o=t.MAs(42),u=t.MAs(44),_=t.MAs(50);t.ekj("bg-slate-100",i%2==0),t.Q6J("formGroupName",i),t.xp6(4),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"maker_name"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"maker_name"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(75,vn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(76,v,r.getFormControlTypeValue(e,"maker_name"))),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"product_name"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"product_name"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(78,xn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(79,v,r.getFormControlTypeValue(e,"product_name"))),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"failure_status"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"failure_status"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(81,An)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(82,v,r.getFormControlTypeValue(e,"failure_status"))),t.xp6(3),t.Q6J("textRight",!0)("formCtrl",r.getFormControlTypeValue(e,"customer_budget"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"customer_budget"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(84,bn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(85,v,r.getFormControlTypeValue(e,"customer_budget"))),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"supplier_id"))("suggests",r.supplierSuggests),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(87,Fn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(88,v,r.getFormControlTypeValue(e,"supplier_id"))),t.xp6(6),t.Q6J("checked",r.repair_location[i]),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"remarks"))("rows",4)("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"repair_order_company"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(90,On)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(91,v,r.getFormControlTypeValue(e,"remarks"))),t.xp6(2),t.Q6J("ngIf",!r.repair_location[i]),t.xp6(1),t.Q6J("ngIf",r.repair_location[i]),t.xp6(2),t.Q6J("textRight",!0)("formCtrl",r.getFormControlTypeValue(e,"quote_selling_price"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"quote_selling_price"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(93,Dn)),t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(94,v,r.getFormControlTypeValue(e,"quote_selling_price"))),t.xp6(8),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"taking_out_date"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"taking_out_date"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(96,In)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(97,v,r.getFormControlTypeValue(e,"taking_out_date"))),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"arrival_expected_date"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"arrival_expected_date"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(99,Sn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(100,v,r.getFormControlTypeValue(e,"arrival_expected_date"))),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"arrival_date"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"arrival_date"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(102,Rn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(103,v,r.getFormControlTypeValue(e,"arrival_date"))),t.xp6(2),t.Q6J("formCtrl",r.getFormControlTypeValue(e,"passing_date"))("invalid",r.formControlStateManager(r.getFormControlTypeValue(e,"passing_date"))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(105,Nn)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(106,v,r.getFormControlTypeValue(e,"passing_date")))}}function kn(n,a){if(1&n&&(t.TgZ(0,"form",55)(1,"div",56),t.YNc(2,Mn,68,108,"div",57),t.qZA()()),2&n){const e=t.oxw(2);t.Q6J("formGroup",e.repairProductForms),t.xp6(2),t.Q6J("ngForOf",e.repairProductArrayControls)}}const yn=function(){return{label:"\u53d7\u4ed8\u62c5\u5f53\u8005",required:"true"}},Zn=function(){return{label:"\u5e97\u8217",required:"true"}};function Un(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"app-select-suggest-container",50),t.YNc(3,Be,1,0,"ng-container",16),t.YNc(4,qe,1,0,"ng-container",17),t.qZA()(),t.TgZ(5,"div",19)(6,"app-select-suggest-container",51),t.YNc(7,Qe,1,0,"ng-container",16),t.YNc(8,Je,1,0,"ng-container",17),t.qZA()(),t._UZ(9,"div",19),t.qZA(),t.TgZ(10,"p",52),t._uU(11,"\u5546\u54c1\u60c5\u5831"),t.qZA(),t._UZ(12,"hr",53),t.TgZ(13,"app-button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addRepairProductForm())}),t._uU(14,"\u5546\u54c1\u8ffd\u52a0"),t.qZA(),t.YNc(15,kn,3,2,"form",54)}if(2&n){const e=t.oxw(),i=t.MAs(42),r=t.MAs(44);t.xp6(2),t.Q6J("formCtrl",e.ctrls.reception_employee_id)("suggests",e.employeeSuggests)("invalid",e.formControlStateManager(e.ctrls.reception_employee_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(15,yn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(16,v,e.ctrls.reception_employee_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.store_id)("suggests",e.storeSuggests)("invalid",e.formControlStateManager(e.ctrls.store_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(18,Zn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(19,v,e.ctrls.store_id)),t.xp6(7),t.Q6J("ngIf",e.repairProductArrayControls.length>0)}}function Vn(n,a){1&n&&(t.TgZ(0,"span",87),t._uU(1,"\u5fc5\u9808"),t.qZA())}function Yn(n,a){if(1&n&&(t.TgZ(0,"div",85)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,Vn,2,0,"span",86),t.qZA()),2&n){const e=a.label,i=a.required;t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i)}}function Ln(n,a){if(1&n&&(t.TgZ(0,"p",89),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.REQUIRED_ITEM," ")}}function Bn(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Ln,2,1,"p",88),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function qn(n,a){if(1&n&&t.YNc(0,Bn,2,1,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function Qn(n,a){if(1&n&&(t.TgZ(0,"p",89),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.FULL_WIDTH_KATAKANA_RESTRICTION_VIOLATION," ")}}function Jn(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Qn,2,1,"p",88),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Pn(n,a){if(1&n&&t.YNc(0,Jn,2,1,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function Gn(n,a){1&n&&(t.TgZ(0,"p",89),t._uU(1," \u203b \u96fb\u8a71\u756a\u53f7\u307e\u305f\u306f\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u3069\u3061\u3089\u304b\u4e00\u65b9\u5fc5\u9808 "),t.qZA())}function Kn(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Gn,2,0,"p",88),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.eitherRequired)}}function wn(n,a){if(1&n&&t.YNc(0,Kn,2,1,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function Hn(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",89),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.EXCEEDED_CHARACTER_MIN_LIMIT," ")}}function Wn(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",89),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.EXCEEDED_CHARACTER_MAX_LIMIT," ")}}function jn(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",89),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.NUMERIC_LIMIT_VIOLATION," ")}}function Xn(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Hn,3,1,"ng-container",21),t.YNc(2,Wn,3,1,"ng-container",21),t.YNc(3,jn,3,1,"ng-container",21),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","minlength"===e.key),t.xp6(1),t.Q6J("ngIf","maxlength"===e.key),t.xp6(1),t.Q6J("ngIf","pattern"===e.key)}}function zn(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Xn,4,3,"ng-container",90),t.ALo(2,"keyvalue"),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.errors))}}function $n(n,a){if(1&n&&t.YNc(0,zn,3,3,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function ti(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",89),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.DATE_SPECIFICATION_VIOLATION," ")}}function ei(n,a){if(1&n&&t.YNc(0,ti,3,1,"ng-container",21),2&n){const e=a.ctrls;t.Q6J("ngIf",null==e.errors?null:e.errors.endingDateIsSmaller)}}function ni(n,a){1&n&&t._uU(0," \u4fee\u7406 ")}function ii(n,a){1&n&&t._uU(0," \u7814\u78e8 ")}const ri=function(n){return{path:n,text:"\u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7"}},ai=function(){return{text:"\u4fee\u7406\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332"}},oi=function(n,a){return[n,a]},si=function(){return{label:"\u53d7\u4ed8\u65e5",required:"true"}},li=function(){return{label:"\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7",required:"true"}};let ui=(()=>{class n{constructor(e,i,r,o,u,_,f,p,D,g,I,Z,m,T,G){this.rsService=e,this.fb=i,this.authorService=r,this.storeService=o,this.clientService=u,this.memberService=_,this.employeeService=f,this.divisionService=p,this.errorService=D,this.modalService=g,this.router=I,this.flashMessageService=Z,this.productService=m,this.supplierService=T,this.common=G,this.subscription=new S.w0,this.idTypeValidation=[s.kI.required,s.kI.pattern(h.m.NUMERIC_REG_EX),s.kI.maxLength(11)],this.listPagePath="/repair-slip",this.cancelModalTitle="\u4fee\u7406\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+c.yR.TITLE.CANCEL,this.errorModalTitle="\u4fee\u7406\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332\u30a8\u30e9\u30fc\uff1a"+c.yR.TITLE.HAS_ERROR,this.errorConst=R.c,this.repairConst=rt.N,this.rsConst=P,this.clientForm=this.fb.group({client_id:["",[s.kI.required,s.kI.pattern(h.m.NUMERIC_REG_EX)]],name:[""],mobile_number:["",[s.kI.required,s.kI.minLength(10),s.kI.maxLength(14),s.kI.pattern(h.m.NUMERIC_REG_EX)]]}),this.memberForm=this.fb.group({api_member_id:[""],api_member_tel:[""],member_id:["",[s.kI.required,s.kI.pattern(h.m.NUMERIC_REG_EX)]],name:[""],mobile_number:["",[s.kI.required,s.kI.minLength(10),s.kI.maxLength(14),s.kI.pattern(h.m.NUMERIC_REG_EX)]]}),this.generalForm=this.fb.group({last_name:["",[s.kI.required,s.kI.maxLength(255)]],first_name:["",[s.kI.maxLength(255)]],last_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(h.m.FULL_WIDTH_KATAKANA_REG_EX)]],first_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(h.m.FULL_WIDTH_KATAKANA_REG_EX)]],tel:["",[s.kI.maxLength(14),s.kI.minLength(10),s.kI.pattern(h.m.NUMERIC_REG_EX)]],mobile_number:["",[s.kI.required,s.kI.maxLength(14),s.kI.minLength(10),s.kI.pattern(h.m.NUMERIC_REG_EX)]]}),this.form=this.fb.group({reception_date:["",[s.kI.required]],remarks_1:["",[s.kI.maxLength(255)]],remarks_2:["",[s.kI.maxLength(255)]],customer_type_division_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],store_id:["",[s.kI.required]],reception_employee_id:["",[s.kI.required]]}),this.repair_location=[],this.repair_location_num=1,this.isActive_calcButton=!1,this.repairProductForms=this.fb.group({forms:this.fb.array([])})}get clientCtrls(){return this.clientForm.controls}get memberCtrls(){return this.memberForm.controls}get generalCtrls(){return this.generalForm.controls}get ctrls(){return this.form.controls}initWithAuthorInfo(e){this.authorName=e.last_name+" "+e.first_name,this.authorRole=e.role_name?e.role_name:"",this.ctrls.reception_employee_id.patchValue(String(e.id)),this.ctrls.store_id.patchValue(String(e.store_id)),this.ctrls.reception_date.patchValue((new Date).toISOString())}ngOnInit(){this.authorService.author?(this.initWithAuthorInfo(this.authorService.author),this.initOptions()):this.subscription.add(this.authorService.author$.subscribe(e=>{this.initWithAuthorInfo(e),this.initOptions()})),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,b.h)(e=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(e=>{e===c.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl(this.listPagePath)})),this.subscription.add(this.ctrls.customer_type_division_id.valueChanges.subscribe(e=>{this.selectedCustomerType(e)}))}ngOnDestroy(){this.subscription.unsubscribe()}formControlStateManager(e){return(e.touched||e.dirty)&&e.invalid}detectErrors(e,i){return e instanceof M.UA?(this.handleError(e.status,this.errorModalTitle,e.message),!0):(null==e||e.length!==i)&&(this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!0)}generateStatusDivisions(e){if(!1===this.setDivisions(e,O.z.CUSTOMER_TYPE))return!1;const r=e[O.z.REPAIR_SLIP_STATUS];if(!(r.length>0))return this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1;{const g=r.find(I=>I.text===this.rsConst.STATUS.ACCEPTED);if(void 0===g)return this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1;this.statusDivisionId=String(g.value)}const o=e[O.z.SETTLE_STATUS];if(!(o.length>0))return this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1;{const g=o.find(I=>I.text===this.rsConst.SETTLE_STATUS_DIVISION.VALUE.UNSETTLED);if(void 0===g)return this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1;this.settleStatusDivisionId=String(g.value)}const u=e[O.z.INCIDENT];if(!(u.length>0))return this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1;{const g=u.find(I=>I.text===this.rsConst.INCIDENT_DIVISION.VALUE.NO_INCIDENTS);if(void 0===g)return this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1;this.incidentDivisionId=String(g.value)}return!(!1===this.setDivisions(e,O.z.REPAIR_TYPE)||!1===this.setDivisions(e,O.z.DELIVERY_REQUEST)||!1===this.setDivisions(e,O.z.REPAIR_STATUS)||!1===this.setDivisions(e,O.z.SETTLE_STATUS))}setDivisions(e,i){const r=e[i];let o;return r.length>0?(o=[{value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"},...r],i===O.z.REPAIR_TYPE?(this.repairTypeDivisionOptions=o,!0):i===O.z.CUSTOMER_TYPE?(this.customerTypes=o,!0):i===O.z.DELIVERY_REQUEST?(this.deliveryDivisionOptions=o,!0):i===O.z.REPAIR_STATUS?(this.repairStatusDivisionOptions=o,!0):(i===O.z.SETTLE_STATUS&&(this.settleStatusDivisionOptions=o),!0)):(this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR),!1)}selectedCustomerType(e){if(null===e)return void this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc");const i=this.customerTypes.find(r=>String(r.value)===e);if(void 0!==i){if(this.customerType)switch(this.customerType.text){case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:this.clientCtrls.client_id.setValue("");break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:this.memberCtrls.member_id.setValue("");break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:this.generalForm.patchValue({last_name:"",first_name:"",tel:"",last_name_kana:"",first_name_kana:""})}this.customerType=i}else this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc")}initOptions(){this.common.loading=!0,this.subscription.add((0,W.D)([this.storeService.getAsSelectOptions(),this.clientService.getAll({$select:"id,name,tel"}),this.memberService.getAll({$select:"id,last_name,first_name"}),this.employeeService.getAsSelectOptions(),this.divisionService.getAsSelectOptions(),this.productService.getAll({$select:"id,name,product_name",limit:10}),this.supplierService.getAll({$select:"id,name"})]).pipe((0,q.x)(()=>this.common.loading=!1),(0,L.K)(e=>(console.log(e),(0,B.of)(e)))).subscribe(e=>{this.detectErrors(e,7)||(this.storeSuggests=e[0],this.clients=e[1].data,this.clientSuggests=e[1].data.map(r=>({value:r.id,text:r.name})),this.members=e[2].data,this.memberSuggests=e[2].data.map(r=>({value:r.id,text:r.last_name+" "+r.first_name})),this.employeeSuggests=e[3],this.generateStatusDivisions(e[4]),this.productSuggests=e[5].data.map(r=>({value:r.id,text:r.name})),this.products=e[5].data,this.supplierSuggests=e[6].data.map(r=>({value:r.id,text:r.name})),this.suppliers=e[6].data)}))}onClickReset(){window.location.reload()}handleClickCancel(){this.form.pristine?this.router.navigateByUrl(this.listPagePath):this.modalService.setModal(this.cancelModalTitle,c.yR.BODY.CANCEL,"warning",c.yR.BUTTON_TITLE.EXECUTION,c.yR.BUTTON_TITLE.CANCEL)}handleClickSaveButton(){this.form.markAsPristine(),this.clientForm.markAsPristine(),this.memberForm.markAsPristine(),this.generalForm.markAsPristine();const e=this.repairProductForms;this.common.loading=!0;const i=this.form.value;if(!this.customerTypes.some(p=>Number(p.value)===Number(i.customer_type_division_id)))return this.ctrls.customer_type_division_id.setValue(""),void(this.common.loading=!1);if(!this.employeeSuggests.some(p=>Number(p.value)===Number(i.reception_employee_id)))return this.ctrls.reception_employee_id.setValue(""),void(this.common.loading=!1);if(!this.storeSuggests.some(p=>Number(p.value)===Number(i.store_id)))return this.ctrls.store_id.setValue(""),void(this.common.loading=!1);if(null==i.reception_date||""===i.reception_date)return this.ctrls.reception_date.setValue(""),void(this.common.loading=!1);const _=e.value.forms.map(p=>(p.arrival_expected_date=new Date(String(p.arrival_expected_date)).toLocaleString(),""!=p.taking_out_date&&(p.taking_out_date=new Date(String(p.taking_out_date)).toLocaleString()),""!=p.arrival_date&&(p.arrival_date=new Date(String(p.arrival_date)).toLocaleString()),""!=p.passing_date&&(p.passing_date=new Date(String(p.passing_date)).toLocaleString()),p.tax_included_quote_selling_price=p.quote_selling_price,p)),f={store_id:i.store_id,customer_type_division_id:i.customer_type_division_id,status_division_id:this.statusDivisionId,reception_employee_id:i.reception_employee_id,reception_date:new Date(String(i.reception_date)).toLocaleString(),settle_status_division_id:this.settleStatusDivisionId,incident_division_id:this.incidentDivisionId,remarks_1:i.remarks_1,remarks_2:i.remarks_2,repair:[..._]};switch(this.customerType.text){case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:const p=this.clientSuggests.some(K=>Number(K.value)===Number(this.clientForm.value.client_id)),D=this.clientForm.value.client_id,g=this.clients.find(K=>K.id===Number(D));if(!p)return this.clientCtrls.client_id.setValue(""),void(this.common.loading=!1);f.client_id=this.clientForm.value.client_id,void 0!==g&&(f.first_name=g.name),f.mobile_number=this.clientForm.value.mobile_number;break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:const I=this.memberSuggests.some(K=>Number(K.value)===Number(this.memberForm.value.member_id)),Z=this.memberForm.value.member_id,m=this.members.find(K=>K.id===Number(Z));if(!I)return this.memberCtrls.member_id.setValue(""),void(this.common.loading=!1);f.member_id=Z,void 0!==m&&(f.first_name=m.first_name,f.last_name=m.last_name),f.mobile_number=this.memberForm.value.mobile_number;break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:if(""===this.generalForm.value.last_name||null==this.generalForm.value.last_name)return this.generalCtrls.last_name.setValue(""),void(this.common.loading=!1);let T=!0;(""===this.generalForm.value.tel||null==this.generalForm.value.tel)&&(T=!1);let G=!0;if((""===this.generalForm.value.mobile_number||null==this.generalForm.value.mobile_number)&&(G=!1),!T&&!G)return this.generalCtrls.tel.setValue(""),this.generalCtrls.mobile_number.setValue(""),void(this.common.loading=!1);f.last_name=this.generalForm.value.last_name,f.first_name=this.generalForm.value.first_name,f.last_name_kana=this.generalForm.value.last_name_kana,f.first_name_kana=this.generalForm.value.first_name_kana,f.tel=this.generalForm.value.tel,f.mobile_number=this.generalForm.value.mobile_number}this.subscription.add(this.rsService.add(f).pipe((0,q.x)(()=>this.common.loading=!1),(0,L.K)(p=>(console.log(p),(0,B.of)(p)))).subscribe(p=>{p instanceof M.UA?this.handleError(p.status,this.errorModalTitle,p.message):(this.flashMessageService.setFlashMessage(p.message,"success",15e3),this.router.navigateByUrl(this.listPagePath))}))}handleError(e,i,r){this.errorService.setError({status:e,title:i,message:r,redirectPath:this.listPagePath})}get repairForm(){return this.fb.group({repair_type_division_id:["",this.idTypeValidation],failure_status:["",[s.kI.required,s.kI.maxLength(255)]],repair_order_company:["",[s.kI.maxLength(255)]],maker_name:["",[s.kI.maxLength(255)]],product_name:["",[s.kI.required,s.kI.maxLength(255)]],api_product_name:[""],product_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX),s.kI.maxLength(11)]],supplier_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],customer_budget:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],remarks:["",[s.kI.maxLength(255)]],delivery_division_id:["",this.idTypeValidation],repair_status_division_id:["",this.idTypeValidation],taking_out_date:["",[s.kI.maxLength(255)]],arrival_expected_date:["",[s.kI.maxLength(255)]],quote_cost:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],quote_selling_price:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],arrival_date:["",[s.kI.maxLength(255)]],passing_date:["",[s.kI.maxLength(255)]],settle_status_division_id:["",this.idTypeValidation],in_house_repairs:[1,[s.kI.pattern(h.m.NUMERIC_REG_EX)]],cost_of_parts:["",[s.kI.maxLength(255)]]})}get repairProductArray(){return this.repairProductForms.get("forms")}get repairProductArrayControls(){return this.repairProductArray.controls}addRepairProductForm(){const e=this.repairForm;if(null!==this.ctrls.reception_date.value){const i=new Date(String(this.ctrls.reception_date.value));i.setDate(i.getDate()+7),e.controls.arrival_expected_date.patchValue(i)}e.controls.supplier_id.valueChanges.subscribe(i=>{const r=this.suppliers.find(o=>o.id===Number(i));r&&r.name&&e.controls.repair_order_company.patchValue(r.name)}),this._setHiddenValue(e),this.repairProductArray.push(e),this.repair_location.push(!0)}_setHiddenValue(e){this._setRepairTypeDivision(e),this._setDeliveryDivision(e),this._setRepairStatusDivision(e),this._setSettleStatusDivision(e)}_setRepairTypeDivision(e){const i=this.repairTypeDivisionOptions.find(r=>r.text===this.repairConst.REPAIR_TYPE.REPAIR);e.controls.repair_type_division_id.patchValue(i?.value)}_setDeliveryDivision(e){const i=this.deliveryDivisionOptions.find(r=>r.text===this.repairConst.DELIVERY.NO_DELIVERY);e.controls.delivery_division_id.patchValue(i?.value)}_setRepairStatusDivision(e){const i=this.repairStatusDivisionOptions.find(r=>r.text===this.repairConst.STATUS.BEFORE_REPAIR);e.controls.repair_status_division_id.patchValue(i?.value)}_setSettleStatusDivision(e){const i=this.settleStatusDivisionOptions.find(r=>r.text===this.rsConst.SETTLE_STATUS_DIVISION.VALUE.UNSETTLED);e.controls.settle_status_division_id.patchValue(i?.value)}removeRepairForm(e){this.repairProductArray.removeAt(e),delete this.repair_location[e]}getProductIdControl(e){return e?.get("product_id")}getFormControlTypeValue(e,i){return e.get(i)}getMemberCdSuggests(){return{observable:this.memberService.getAll({member_cd:this.memberForm.controls.api_member_id.value}),idField:"id",nameField:"last_name",otherField:"first_name"}}getMemberTelSuggests(){return{observable:this.memberService.getAll({tel:this.memberForm.controls.api_member_tel.value}),idField:"id",nameField:"last_name",otherField:"first_name"}}invalidRepairForm(){let e=!1;return this.repairProductArrayControls.forEach(i=>{i.invalid&&(e=i.invalid)}),e}handleSelectedProductData(e,i){void 0!==i&&e.controls.product_name.patchValue(i.name)}handleSelectedMemberData(e){this.memberForm.controls.member_id.patchValue(""),void 0!==e&&(this.memberForm.controls.member_id.patchValue(String(e.id)),this.memberForm.controls.mobile_number.patchValue(String(e.tel)))}grossMarginCalculation(e,i){let r=0;return i?(r=10,e<=3e4&&(r=15),e<=1e4&&(r=20),e<=5e3&&(r=30)):(r=30,e<=3e3&&(r=35),e<=1e3&&(r=40)),r}inHouseSellingPriceCalculation(e,i){return Math.round(e/((100-i)/100)*1.1)}externalSellingPriceCalculation(e,i){return Math.round(e/((100-i)/100)*1.1)}handleClickClearValueButton(e){const i=this.repairProductArrayControls[e].controls;i.quote_cost.patchValue(""),i.cost_of_parts.patchValue(""),i.quote_selling_price.patchValue("")}handleClickCalcButton(e){const i=this.repairProductArrayControls[e].controls;let r=Number(i.quote_cost.value);if(!0===this.repair_location[e]){let o=Number(i.cost_of_parts.value),u=this.grossMarginCalculation(o,this.repair_location[e]);i.quote_selling_price.patchValue(this.inHouseSellingPriceCalculation(o,u))}else{let o=this.grossMarginCalculation(r,this.repair_location[e]);i.quote_selling_price.patchValue(this.externalSellingPriceCalculation(r,o))}}selectRepairLocation(e,i){const r=this.repairProductArrayControls[i].controls;e.target.checked?(r.in_house_repairs.setValue(1),this.repair_location[i]=!0):(r.in_house_repairs.setValue(0),this.repair_location[i]=!1)}clientChange(e){const i=this.clients.find(r=>r.id===Number(e));i&&this.clientForm.controls.mobile_number.patchValue(i.tel)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z),t.Y36(s.qu),t.Y36(Pt.Y),t.Y36(dt.d),t.Y36(gt.y),t.Y36(ft.n),t.Y36(nt.G),t.Y36($.E),t.Y36(x.T),t.Y36(Q.Z),t.Y36(C.F0),t.Y36(at.P),t.Y36(ht.M),t.Y36(it.p),t.Y36(A.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add"]],decls:57,vars:32,consts:[[3,"breadcrumbList"],[1,"mb-8"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[3,"formGroup","ngSubmit"],[1,"mt-8","mb-24","pt-8","pb-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-4"],[1,"text-sm","text-rose-500"],[1,"flex","gap-6","mt-6"],[1,"w-1/6"],["nameAttrValue","reception_date","idAttrValue","reception-date",3,"formCtrl","invalid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","gap-6","mt-8"],[1,"w-1/3"],["nameAttrValue","customer_type_division_id","idAttrValue","customer-type",3,"options","formCtrl","invalid"],[4,"ngIf"],["client",""],["member",""],["general",""],["common",""],["labels",""],["errors",""],["fullWidthKatakana",""],["eitherRequiredErrors",""],["telAndMobileNumber",""],["dateErrors",""],["addRepair",""],["addPolishing",""],["message",""],[4,"ngIf","ngIfThen"],[4,"ngTemplateOutlet"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","left-0","right-0","p-2","fixed","gap-8"],[3,"click"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled"],["nameAttrValue","client_id","idAttrValue","client-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid","idValueChanges"],["nameAttrValue","mobile_number","idAttrValue","mobile-number",3,"formCtrl","invalid"],[1,"flex","gap-6","mt-2"],["nameAttrValue","api_member_id","idAttrValue","api-member-id",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],["nameAttrValue","api_member_tel","idAttrValue","api-member-tel",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],["nameAttrValue","last_name","idAttrValue","last-name",3,"formCtrl","invalid"],["nameAttrValue","first_name","idAttrValue","first-name",3,"formCtrl","invalid"],["nameAttrValue","tel","idAttrValue","tel",3,"formCtrl","invalid"],["nameAttrValue","last_name_kana","idAttrValue","last-name-kana",3,"formCtrl","invalid"],["nameAttrValue","first_name_kana","idAttrValue","first-name-kana",3,"formCtrl","invalid"],["nameAttrValue","reception_employee_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","store_id","idAttrValue","store-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"mt-6","pl-2"],[1,"border-t-warning-hover","border-t-4","mt-1"],["class","mx-4",3,"formGroup",4,"ngIf"],[1,"mx-4",3,"formGroup"],["formArrayName","forms"],["class","mt-6 py-4 text-base",3,"formGroupName","bg-slate-100",4,"ngFor","ngForOf"],[1,"mt-6","py-4","text-base",3,"formGroupName"],[1,"mx-4"],[1,"w-2/6"],["nameAttrValue","maker_name","idAttrValue","maker-name",3,"formCtrl","invalid"],[1,"w-3/6"],["nameAttrValue","product_name","idAttrValue","product-name",3,"formCtrl","invalid"],[1,"mt-6"],["nameAttrValue","failure_status","idAttrValue","failure-status",3,"formCtrl","invalid"],["nameAttrValue","customer_budget","idAttrValue","customer-budget","inputType","number",3,"textRight","formCtrl","invalid"],["nameAttrValue","supplier_id","idAttrValue","supplier-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests"],[1,"mt-3"],[1,"mt-8","block","relative","pl-6","cursor-pointer","transform:scale(1.4);"],["type","checkbox","nameAttrValue","in_house_repairs","idAttrValue","in-house-repairs",1,"w-4","h-4","cursor-pointer","absolute","top-0","bottom-0","left-0","m-auto",3,"checked","change"],["nameAttrValue","remarks","idAttrValue","remarks",3,"formCtrl","rows","invalid"],["nameAttrValue","quote_selling_price","idAttrValue","quote-selling-price","inputType","number",3,"textRight","formCtrl","invalid"],[1,"w-2/5","mt-7","flex","flex-row","gap-6","justify-end"],["btnType","button",3,"click"],["btnType","button","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled","click"],[1,"w-1/4"],["nameAttrValue","taking_out_date","idAttrValue","taking-out-date",3,"formCtrl","invalid"],["nameAttrValue","arrival_expected_date","idAttrValue","arrival-expected-date",3,"formCtrl","invalid"],["nameAttrValue","arrival_date","idAttrValue","arrival-date",3,"formCtrl","invalid"],["nameAttrValue","passing_date","idAttrValue","passing-date",3,"formCtrl","invalid"],[1,"flex","gap-6","justify-end","mx-4","pb-2"],[1,"pt-7"],["nameAttrValue","quote_cost","idAttrValue","quote-cost","inputType","number",3,"textRight","formCtrl","invalid"],["nameAttrValue","cost_of_parts","idAttrValue","cost-of-parts","inputType","number",3,"textRight","formCtrl","invalid"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"],[4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"main",1)(2,"h1",2),t._uU(3,"\u4fee\u7406\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.NdJ("click",function(){return i.handleClickCancel()}),t._UZ(6,"app-cancel-link-org"),t.qZA(),t.TgZ(7,"div")(8,"app-last-updater-org",5),t._uU(9),t.qZA()()(),t._UZ(10,"hr",6),t.TgZ(11,"form",7),t.NdJ("ngSubmit",function(){return i.handleClickSaveButton()}),t.TgZ(12,"div",8)(13,"h2",9),t._uU(14,"\u4fee\u7406\u53d7\u4ed8\u7968\u60c5\u5831\u5165\u529b"),t.qZA(),t._UZ(15,"hr",10),t.TgZ(16,"p",11),t._uU(17,"\u300c\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u300d\u306e\u5165\u529b\u306b\u3064\u3044\u3066"),t.qZA(),t.TgZ(18,"p",12),t._uU(19," \u203b \u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u304c\u306a\u3044\u5834\u5408SMS\u306b\u3088\u308b\u53d7\u4ed8\u6848\u5185\u306f\u9001\u4fe1\u3055\u308c\u307e\u305b\u3093\u3002 "),t.qZA(),t.TgZ(20,"div",13)(21,"div",14)(22,"app-date-term",15),t.YNc(23,Kt,1,0,"ng-container",16),t.YNc(24,wt,1,0,"ng-container",17),t.qZA()()(),t.TgZ(25,"div",18)(26,"div",19)(27,"app-select-container",20),t.YNc(28,Ht,1,0,"ng-container",16),t.YNc(29,Wt,1,0,"ng-container",17),t.qZA()(),t.YNc(30,Xt,2,2,"ng-container",21),t.qZA(),t.YNc(31,ee,4,5,"ng-container",21),t.qZA(),t.YNc(32,ae,4,3,"ng-container",21),t.qZA()(),t.YNc(33,pe,9,23,"ng-template",null,22,t.W1O),t.YNc(35,Ee,15,27,"ng-template",null,23,t.W1O),t.YNc(37,Le,29,66,"ng-template",null,24,t.W1O),t.YNc(39,Un,16,21,"ng-template",null,25,t.W1O),t.YNc(41,Yn,4,2,"ng-template",null,26,t.W1O),t.YNc(43,qn,1,1,"ng-template",null,27,t.W1O),t.YNc(45,Pn,1,1,"ng-template",null,28,t.W1O),t.YNc(47,wn,1,1,"ng-template",null,29,t.W1O),t.YNc(49,$n,1,1,"ng-template",null,30,t.W1O),t.YNc(51,ei,1,1,"ng-template",null,31,t.W1O),t.YNc(53,ni,1,0,"ng-template",null,32,t.W1O),t.YNc(55,ii,1,0,"ng-template",null,33,t.W1O)),2&e){const r=t.MAs(42),o=t.MAs(44);t.Q6J("breadcrumbList",t.WLB(23,oi,t.VKq(20,ri,i.listPagePath),t.DdM(22,ai))),t.xp6(8),t.Q6J("roleTypeName",i.authorRole?i.authorRole:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),t.xp6(1),t.hij(" \u767b\u9332\u8005\uff1a",i.authorName?i.authorName:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(11),t.Q6J("formCtrl",i.ctrls.reception_date)("invalid",i.formControlStateManager(i.ctrls.reception_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(26,si)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(27,v,i.ctrls.reception_date)),t.xp6(3),t.Q6J("options",i.customerTypes)("formCtrl",i.ctrls.customer_type_division_id)("invalid",i.formControlStateManager(i.ctrls.customer_type_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(29,li)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(30,v,i.ctrls.customer_type_division_id)),t.xp6(1),t.Q6J("ngIf",i.customerType),t.xp6(1),t.Q6J("ngIf",i.customerType),t.xp6(1),t.Q6J("ngIf",i.customerType)}},dependencies:[d.sg,d.O5,d.tP,s._Y,s.JL,s.sg,s.x0,s.CE,F.Z,Tt.K,ot.R,et.X,st.a,lt.O,Ct.t,ut.d,tt.r,Gt.Y,d.Nd]}),n})();function _i(n,a){1&n&&t.GkF(0)}function ci(n,a){1&n&&t.GkF(0,38)}function pi(n,a){1&n&&t.GkF(0)}function mi(n,a){1&n&&t.GkF(0,38)}function di(n,a){1&n&&t.GkF(0)}function gi(n,a){1&n&&t.GkF(0,38)}function fi(n,a){1&n&&t.GkF(0)}function hi(n,a){1&n&&t.GkF(0)}function Ti(n,a){if(1&n&&(t.ynx(0),t.YNc(1,fi,1,0,"ng-container",39),t.YNc(2,hi,1,0,"ng-container",39),t.BQk()),2&n){const e=t.oxw(),i=t.MAs(53),r=t.MAs(55);t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT)("ngIfThen",i),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER)("ngIfThen",r)}}function Ci(n,a){1&n&&t.GkF(0)}function Ei(n,a){1&n&&t.GkF(0)}function vi(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Ci,1,0,"ng-container",39),t.YNc(2,Ei,1,0,"ng-container",40),t.BQk()),2&n){const e=t.oxw(),i=t.MAs(57),r=t.MAs(59);t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)("ngIfThen",i),t.xp6(1),t.Q6J("ngTemplateOutlet",r)}}function xi(n,a){1&n&&t.GkF(0)}function Ai(n,a){1&n&&t.GkF(0,38)}function bi(n,a){1&n&&t.GkF(0)}function Fi(n,a){1&n&&t.GkF(0,38)}function Oi(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",41)(2,"app-button",42),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.clientForm.invalid||e.clientForm.pristine)}}function Di(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",41)(2,"app-button",43),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onClickReset())}),t._uU(3,"\u30af\u30ea\u30a2"),t.qZA(),t.TgZ(4,"app-button",42),t._uU(5,"\u4fdd\u5b58"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.memberForm.invalid||e.memberForm.pristine)}}function Ii(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",41)(2,"app-button",43),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onClickReset())}),t._uU(3,"\u30af\u30ea\u30a2"),t.qZA(),t.TgZ(4,"app-button",42),t._uU(5,"\u4fdd\u5b58"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.generalForm.invalid||e.generalForm.pristine)}}function Si(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Oi,4,1,"ng-container",21),t.YNc(2,Di,6,1,"ng-container",21),t.YNc(3,Ii,6,1,"ng-container",21),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)}}function Ri(n,a){1&n&&t.GkF(0)}function Ni(n,a){1&n&&t.GkF(0,38)}function Mi(n,a){1&n&&t.GkF(0)}function ki(n,a){1&n&&t.GkF(0,38)}const yi=function(){return{label:"\u5f97\u610f\u5148",required:"true"}},k=function(n){return{ctrl:n}},ct=function(){return{label:"\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5716\u6841\u4ee5\u5185\uff09",required:!0}};function Zi(n,a){if(1&n&&(t.TgZ(0,"div",19)(1,"app-select-suggest-container",44),t.YNc(2,Ri,1,0,"ng-container",15),t.YNc(3,Ni,1,0,"ng-container",16),t.qZA()(),t.TgZ(4,"div",19)(5,"app-text-container",45),t.YNc(6,Mi,1,0,"ng-container",15),t.YNc(7,ki,1,0,"ng-container",16),t.qZA()()),2&n){const e=t.oxw(),i=t.MAs(61),r=t.MAs(63),o=t.MAs(69);t.xp6(1),t.Q6J("formCtrl",e.clientCtrls.client_id)("suggests",e.clientSuggests)("invalid",e.formControlStateManager(e.clientCtrls.client_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(13,yi)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(14,k,e.clientCtrls.client_id)),t.xp6(2),t.Q6J("formCtrl",e.clientCtrls.mobile_number)("invalid",e.formControlStateManager(e.clientCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(16,ct)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(17,k,e.clientCtrls.mobile_number))}}function Ui(n,a){1&n&&t.GkF(0)}function Vi(n,a){1&n&&t.GkF(0,38)}function Yi(n,a){1&n&&t.GkF(0)}function Li(n,a){1&n&&t.GkF(0,38)}const Bi=function(){return{label:"\u4f1a\u54e1",required:"true"}};function qi(n,a){if(1&n&&(t.TgZ(0,"div",19)(1,"app-select-suggest-container",46),t.YNc(2,Ui,1,0,"ng-container",15),t.YNc(3,Vi,1,0,"ng-container",16),t.qZA()(),t.TgZ(4,"div",19)(5,"app-text-container",45),t.YNc(6,Yi,1,0,"ng-container",15),t.YNc(7,Li,1,0,"ng-container",16),t.qZA()()),2&n){const e=t.oxw(),i=t.MAs(61),r=t.MAs(63),o=t.MAs(69);t.xp6(1),t.Q6J("formCtrl",e.memberCtrls.member_id)("suggests",e.memberSuggests)("invalid",e.formControlStateManager(e.memberCtrls.member_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(13,Bi)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(14,k,e.memberCtrls.member_id)),t.xp6(2),t.Q6J("formCtrl",e.memberCtrls.mobile_number)("invalid",e.formControlStateManager(e.memberCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(16,ct)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(17,k,e.memberCtrls.mobile_number))}}function Qi(n,a){1&n&&t.GkF(0)}function Ji(n,a){1&n&&t.GkF(0,38)}function Pi(n,a){1&n&&t.GkF(0)}function Gi(n,a){1&n&&t.GkF(0,38)}function Ki(n,a){1&n&&t.GkF(0)}function wi(n,a){1&n&&t.GkF(0,38)}function Hi(n,a){1&n&&t.GkF(0,38)}function Wi(n,a){1&n&&t.GkF(0)}function ji(n,a){1&n&&t.GkF(0,38)}function Xi(n,a){1&n&&t.GkF(0)}function zi(n,a){1&n&&t.GkF(0,38)}function $i(n,a){1&n&&t.GkF(0)}function tr(n,a){1&n&&t.GkF(0,38)}function er(n,a){1&n&&t.GkF(0,38)}const nr=function(){return{label:"\u59d3 \u540d",required:"true"}},vt=function(){return{label:"\u3000",required:!1}},ir=function(){return{label:"\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5716\u6841\u4ee5\u5185\uff09",required:!1}},rr=function(){return{label:"\u30bb\u30a4 \u30e1\u30a4",required:!1}};function ar(n,a){if(1&n&&(t.TgZ(0,"p",47),t._uU(1," \u96fb\u8a71\u756a\u53f7\u307e\u305f\u306f\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u306e\u3069\u3061\u3089\u304b\u4e00\u65b9\u306f\u5fc5\u9808\u9805\u76ee\u306b\u306a\u308a\u307e\u3059\u3002 "),t.qZA(),t.TgZ(2,"div",18)(3,"div",19)(4,"app-text-container",48),t.YNc(5,Qi,1,0,"ng-container",15),t.YNc(6,Ji,1,0,"ng-container",16),t.qZA()(),t.TgZ(7,"div",19)(8,"app-text-container",49),t.YNc(9,Pi,1,0,"ng-container",15),t.YNc(10,Gi,1,0,"ng-container",16),t.qZA()(),t.TgZ(11,"div",19)(12,"app-text-container",50),t.YNc(13,Ki,1,0,"ng-container",15),t.YNc(14,wi,1,0,"ng-container",16),t.YNc(15,Hi,1,0,"ng-container",16),t.qZA()()(),t.TgZ(16,"div",18)(17,"div",19)(18,"app-text-container",51),t.YNc(19,Wi,1,0,"ng-container",15),t.YNc(20,ji,1,0,"ng-container",16),t.qZA()(),t.TgZ(21,"div",19)(22,"app-text-container",52),t.YNc(23,Xi,1,0,"ng-container",15),t.YNc(24,zi,1,0,"ng-container",16),t.qZA()(),t.TgZ(25,"div",19)(26,"app-text-container",45),t.YNc(27,$i,1,0,"ng-container",15),t.YNc(28,tr,1,0,"ng-container",16),t.YNc(29,er,1,0,"ng-container",16),t.qZA()()()),2&n){const e=t.oxw(),i=t.MAs(61),r=t.MAs(63),o=t.MAs(67),u=t.MAs(69),_=t.MAs(65);t.xp6(4),t.Q6J("formCtrl",e.generalCtrls.last_name)("invalid",e.formControlStateManager(e.generalCtrls.last_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(40,nr)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(41,k,e.generalCtrls.last_name)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.first_name)("invalid",e.formControlStateManager(e.generalCtrls.first_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(43,vt)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(44,k,e.generalCtrls.first_name)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.tel)("invalid",e.formControlStateManager(e.generalCtrls.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(46,ir)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(47,k,e.generalCtrls.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(49,k,e.generalCtrls.tel)),t.xp6(3),t.Q6J("formCtrl",e.generalCtrls.last_name_kana)("invalid",e.formControlStateManager(e.generalCtrls.last_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(51,rr)),t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(52,k,e.generalCtrls.last_name_kana)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.first_name_kana)("invalid",e.formControlStateManager(e.generalCtrls.first_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(54,vt)),t.xp6(1),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(55,k,e.generalCtrls.first_name_kana)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.mobile_number)("invalid",e.formControlStateManager(e.generalCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(57,ct)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(58,k,e.generalCtrls.mobile_number)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(60,k,e.generalCtrls.mobile_number))}}function or(n,a){1&n&&t.GkF(0)}function sr(n,a){1&n&&t.GkF(0,38)}function lr(n,a){1&n&&t.GkF(0)}function ur(n,a){1&n&&t.GkF(0,38)}const _r=function(){return{label:"\u53d7\u4ed8\u62c5\u5f53\u8005",required:"true"}},cr=function(){return{label:"\u5e97\u8217",required:"true"}};function pr(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"app-select-suggest-container",53),t.YNc(3,or,1,0,"ng-container",15),t.YNc(4,sr,1,0,"ng-container",16),t.qZA()(),t.TgZ(5,"div",19)(6,"app-select-suggest-container",54),t.YNc(7,lr,1,0,"ng-container",15),t.YNc(8,ur,1,0,"ng-container",16),t.qZA()(),t._UZ(9,"div",19),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(61),r=t.MAs(63);t.xp6(2),t.Q6J("formCtrl",e.ctrls.reception_employee_id)("suggests",e.employeeSuggests)("invalid",e.formControlStateManager(e.ctrls.reception_employee_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(14,_r)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(15,k,e.ctrls.reception_employee_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.store_id)("suggests",e.storeSuggests)("invalid",e.formControlStateManager(e.ctrls.store_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(17,cr)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(18,k,e.ctrls.store_id))}}function mr(n,a){1&n&&(t.TgZ(0,"span",57),t._uU(1,"\u5fc5\u9808"),t.qZA())}function dr(n,a){if(1&n&&(t.TgZ(0,"div",55)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,mr,2,0,"span",56),t.qZA()),2&n){const e=a.label,i=a.required;t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i)}}function gr(n,a){if(1&n&&(t.TgZ(0,"p",59),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.REQUIRED_ITEM," ")}}function fr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,gr,2,1,"p",58),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function hr(n,a){if(1&n&&t.YNc(0,fr,2,1,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function Tr(n,a){if(1&n&&(t.TgZ(0,"p",59),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.FULL_WIDTH_KATAKANA_RESTRICTION_VIOLATION," ")}}function Cr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Tr,2,1,"p",58),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Er(n,a){if(1&n&&t.YNc(0,Cr,2,1,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function vr(n,a){1&n&&(t.TgZ(0,"p",59),t._uU(1," \u203b \u96fb\u8a71\u756a\u53f7\u307e\u305f\u306f\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u3069\u3061\u3089\u304b\u4e00\u65b9\u5fc5\u9808 "),t.qZA())}function xr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,vr,2,0,"p",58),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.eitherRequired)}}function Ar(n,a){if(1&n&&t.YNc(0,xr,2,1,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function br(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",59),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.EXCEEDED_CHARACTER_MIN_LIMIT," ")}}function Fr(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",59),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.EXCEEDED_CHARACTER_MAX_LIMIT," ")}}function Or(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",59),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.NUMERIC_LIMIT_VIOLATION," ")}}function Dr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,br,3,1,"ng-container",21),t.YNc(2,Fr,3,1,"ng-container",21),t.YNc(3,Or,3,1,"ng-container",21),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","minlength"===e.key),t.xp6(1),t.Q6J("ngIf","maxlength"===e.key),t.xp6(1),t.Q6J("ngIf","pattern"===e.key)}}function Ir(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Dr,4,3,"ng-container",60),t.ALo(2,"keyvalue"),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.errors))}}function Sr(n,a){if(1&n&&t.YNc(0,Ir,3,3,"ng-container",21),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}function Rr(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",59),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.errorConst.FORM_ERROR.DATE_SPECIFICATION_VIOLATION," ")}}function Nr(n,a){if(1&n&&t.YNc(0,Rr,3,1,"ng-container",21),2&n){const e=a.ctrls;t.Q6J("ngIf",null==e.errors?null:e.errors.endingDateIsSmaller)}}const Mr=function(n){return{path:n,text:"\u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7"}},kr=function(n){return{path:n,text:"\u4fee\u7406\u53d7\u4ed8\u7968\u8a73\u7d30"}},yr=function(){return{text:"\u4fee\u7406\u53d7\u4ed8\u7968\u7de8\u96c6"}},Zr=function(n,a,e){return[n,a,e]},Ur=function(){return{label:"\u53d7\u4ed8\u65e5",required:"true"}},Vr=function(){return{label:"\u30b9\u30c6\u30fc\u30bf\u30b9",required:!0}},Yr=function(){return{label:"\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7",required:"true"}},xt=function(n){return{label:n,required:!0}};let Lr=(()=>{class n{constructor(e,i,r,o,u,_,f,p,D,g,I,Z,m){this.rsService=e,this.fb=i,this.storeService=r,this.clientService=o,this.memberService=u,this.employeeService=_,this.divisionService=f,this.errorService=p,this.modalService=D,this.router=g,this.activatedRoute=I,this.flashMessageService=Z,this.common=m,this.subscription=new S.w0,this.listPagePath="/repair-slip",this.cancelModalTitle="\u4fee\u7406\u53d7\u4ed8\u7968\u66f4\u65b0\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+c.yR.TITLE.CANCEL,this.errorModalTitle="\u4fee\u7406\u53d7\u4ed8\u7968\u66f4\u65b0\u30a8\u30e9\u30fc\uff1a"+c.yR.TITLE.HAS_ERROR,this.divisionConst=O.z,this.errorConst=R.c,this.rsConst=P,this.idValidators=[s.kI.required,s.kI.pattern(h.m.NUMERIC_REG_EX),s.kI.maxLength(11)],this.clientForm=this.fb.group({client_id:["",this.idValidators],mobile_number:["",[s.kI.minLength(10),s.kI.maxLength(14),s.kI.pattern(h.m.NUMERIC_REG_EX)]]}),this.memberForm=this.fb.group({member_id:["",this.idValidators],mobile_number:["",[s.kI.minLength(10),s.kI.maxLength(14),s.kI.pattern(h.m.NUMERIC_REG_EX)]]}),this.generalForm=this.fb.group({last_name:["",[s.kI.required,s.kI.maxLength(255)]],first_name:["",[s.kI.maxLength(255)]],last_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(h.m.FULL_WIDTH_KATAKANA_REG_EX)]],first_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(h.m.FULL_WIDTH_KATAKANA_REG_EX)]],tel:["",[s.kI.maxLength(14),s.kI.minLength(10),s.kI.pattern(h.m.NUMERIC_REG_EX),j.d.eitherRequiredValidator("tel","mobile_number")]],mobile_number:["",[s.kI.maxLength(14),s.kI.minLength(10),s.kI.pattern(h.m.NUMERIC_REG_EX),j.d.eitherRequiredValidator("tel","mobile_number")]]}),this.form=this.fb.group({reception_date:["",[s.kI.required]],remarks_1:["",[s.kI.maxLength(255)]],remarks_2:["",[s.kI.maxLength(255)]],customer_type_division_id:["",this.idValidators],store_id:["",this.idValidators],reception_employee_id:["",this.idValidators],status_division_id:["",this.idValidators],settle_status_division_id:["",this.idValidators],incident_division_id:["",this.idValidators]})}get clientCtrls(){return this.clientForm.controls}get memberCtrls(){return this.memberForm.controls}get generalCtrls(){return this.generalForm.controls}get ctrls(){return this.form.controls}ngOnInit(){this.customerType={value:"",text:""},this.subscription.add(this.modalService.closeEventObservable$.pipe((0,b.h)(r=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(r=>{r===c.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl(this.detailPagePath)})),this.subscription.add(this.ctrls.customer_type_division_id.valueChanges.subscribe(r=>{this.selectedCustomerType(r)}));const e=this.activatedRoute.snapshot.params.id;this.isParameterInvalid(e)?this.handleError(400,this.errorModalTitle,"\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u4e00\u89a7\u753b\u9762\u3078\u623b\u308a\u307e\u3059\u3002",this.listPagePath):(this.selectedId=Number(e),this.detailPagePath=this.listPagePath+"/detail/"+e,this.initOptions(Number(e)))}isParameterInvalid(e){return null===e||!!isNaN(Number(e))}ngOnDestroy(){this.subscription.unsubscribe()}formControlStateManager(e){return(e.touched||e.dirty)&&e.invalid}selectedCustomerType(e){if(null===e)return void this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002");let i=this.customerTypes.find(o=>String(o.value)===e);if(void 0===i&&(i={value:this.customerTypes[0].value,text:this.customerTypes[0].text}),this.customerType)switch(this.customerType.text){case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:this.clientCtrls.client_id.patchValue(""),this.clientCtrls.mobile_number.patchValue("");break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:this.memberCtrls.member_id.patchValue(""),this.memberCtrls.mobile_number.patchValue("");break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:this.generalForm.patchValue({last_name:"",first_name:"",tel:"",mobile_number:"",last_name_kana:"",first_name_kana:""})}const r=this.repairSlip;switch(i.text){case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:this.clientCtrls.client_id.patchValue(String(r.client_id)),this.clientCtrls.mobile_number.patchValue(String(r.mobile_number));break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:this.memberCtrls.member_id.patchValue(String(r.member_id)),this.memberCtrls.mobile_number.patchValue(String(r.mobile_number));break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:const o={last_name:r.last_name,first_name:r.first_name,tel:String(r.tel),mobile_number:String(r.mobile_number),last_name_kana:r.last_name_kana,first_name_kana:r.first_name_kana};this.generalForm.patchValue(o)}this.ctrls.store_id.patchValue(String(r.store_id)),this.ctrls.reception_date.patchValue(r.reception_date),this.ctrls.remarks_1.patchValue(String(r.remarks_1)?String(r.remarks_1):""),this.ctrls.remarks_2.patchValue(String(r.remarks_2)?String(r.remarks_2):""),this.ctrls.reception_employee_id.patchValue(String(r.reception_employee_id)),this.customerType=i}initOptions(e){this.common.loading=!0,this.subscription.add((0,W.D)([this.storeService.getAsSelectOptions(),this.clientService.getAll(),this.memberService.getAll(),this.employeeService.getAll(),this.divisionService.getAsSelectOptions(),this.rsService.find(e)]).pipe((0,q.x)(()=>this.common.loading=!1),(0,L.K)(i=>(0,B.of)(i))).subscribe(i=>{if(console.log("START:\u672a\u52a0\u5de5\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f"),console.log(i),console.log("END:\u672a\u52a0\u5de5\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f"),i instanceof M.UA)return void this.handleError(i.status,this.errorModalTitle,i.message);if(null==i)return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);if(6!==i.length)return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);this.repairSlip=i[5].data[0];const r=i[5].data[0],o=this.rsConst;this.storeSuggests=i[0],this.clients=i[1].data,this.clientSuggests=i[1].data.map(m=>({value:m.id,text:m.name})),this.members=i[2].data,this.memberSuggests=i[2].data.map(m=>({value:m.id,text:m.last_name+" "+m.first_name}));const u=i[3].data,_=u.find(m=>m.id===r.updated_id);_&&(this.lastUpdater=_.last_name+" "+_.first_name),this.employeeSuggests=u.map(m=>({value:m.id,text:m.last_name+" "+m.first_name}));const f=i[4],p=f[O.z.REPAIR_SLIP_STATUS];switch(r.division_status_code){case o.STATUS_CODE.ACCEPTED:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.ACCEPTED);break;case o.STATUS_CODE.PREPARING_QUOTE:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.ACCEPTED||String(m.text)===o.STATUS.QUOTE_SENT_TO_CUSTOMER||String(m.text)===o.STATUS.CANCELLED);break;case this.rsConst.STATUS_CODE.QUOTE_SENT_TO_CUSTOMER:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.PREPARING_QUOTE||String(m.text)===o.STATUS.ORDERED_FROM_MANUFACTURER||String(m.text)===o.STATUS.CANCELLED);break;case this.rsConst.STATUS_CODE.ORDERED_FROM_MANUFACTURER:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.REPAIRED||String(m.text)===o.STATUS.CANCELLED);break;case this.rsConst.STATUS_CODE.REPAIRED:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.CUSTOMER_NOTIFIED_OF_REPAIR_COMPLETION||String(m.text)===o.STATUS.CANCELLED);break;case this.rsConst.STATUS_CODE.CUSTOMER_NOTIFIED_OF_REPAIR_COMPLETION:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.DELIVERED_TO_SHIPPING_CARRIER||String(m.text)===o.STATUS.CANCELLED);break;case this.rsConst.STATUS_CODE.DELIVERED_TO_SHIPPING_CARRIER:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.SHIPPED||String(m.text)===o.STATUS.CANCELLED);break;case this.rsConst.STATUS_CODE.SHIPPED:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.DELIVERED||String(m.text)===o.STATUS.CANCELLED);break;default:this.statusDivisions=p.filter(m=>String(m.text)===o.STATUS.ACCEPTED)}this.settleDivisions=f[O.z.SETTLE_STATUS],this.incidentDivisions=f[O.z.INCIDENT],this.customerTypes=f[O.z.CUSTOMER_TYPE],this.customerType={value:r.customer_type_division_id,text:String(r.division_customer_type_value)};const Z={customer_type_division_id:String(r.customer_type_division_id),store_id:String(r.store_id),client_id:String(r.client_id),member_id:String(r.member_id),last_name:r.last_name,first_name:r.first_name,last_name_kana:r.last_name_kana,first_name_kana:r.first_name_kana,tel:r.tel,mobile_number:r.mobile_number,reception_date:r.reception_date,reception_employee_id:String(r.reception_employee_id),status_division_id:String(r.status_division_id),settle_status_division_id:String(r.settle_status_division_id),incident_division_id:String(r.incident_division_id),remarks_1:r.remarks_1,remarks_2:r.remarks_2};this.form.patchValue(Z,{emitEvent:!1}),this.selectedCustomerType(String(r.customer_type_division_id))}))}handleClickSaveButton(){this.form.markAsPristine(),this.clientForm.markAsPristine(),this.memberForm.markAsPristine(),this.generalForm.markAsPristine(),this.common.loading=!0;const e=this.form.value;if(!this.customerTypes.some(_=>Number(_.value)===Number(e.customer_type_division_id)))return this.ctrls.customer_type_division_id.setValue(""),void(this.common.loading=!1);if(!this.employeeSuggests.some(_=>Number(_.value)===Number(e.reception_employee_id)))return this.ctrls.reception_employee_id.setValue(""),void(this.common.loading=!1);if(!this.storeSuggests.some(_=>Number(_.value)===Number(e.store_id)))return this.ctrls.store_id.setValue(""),void(this.common.loading=!1);if(null==e.reception_date||""===e.reception_date)return this.ctrls.reception_date.setValue(""),void(this.common.loading=!1);const u={store_id:e.store_id,customer_type_division_id:e.customer_type_division_id,status_division_id:e.status_division_id,reception_employee_id:e.reception_employee_id,reception_date:new Date(String(e.reception_date)).toLocaleString(),settle_status_division_id:e.settle_status_division_id,incident_division_id:e.incident_division_id,remarks_1:e.remarks_1,remarks_2:e.remarks_2};switch(this.customerType.text){case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:if(!this.clientSuggests.some(g=>Number(g.value)===Number(this.clientForm.value.client_id)))return this.clientCtrls.client_id.setValue(""),void(this.common.loading=!1);u.client_id=this.clientForm.value.client_id,u.mobile_number=this.clientForm.value.mobile_number;break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:if(!this.memberSuggests.some(g=>Number(g.value)===Number(this.memberForm.value.member_id)))return this.memberCtrls.member_id.setValue(""),void(this.common.loading=!1);u.member_id=this.memberForm.value.member_id,u.mobile_number=this.memberForm.value.mobile_number;break;case this.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:if(""===this.generalForm.value.last_name||null==this.generalForm.value.last_name)return this.generalCtrls.last_name.setValue(""),void(this.common.loading=!1);let p=!0;(""===this.generalForm.value.tel||null==this.generalForm.value.tel)&&(p=!1);let D=!0;if((""===this.generalForm.value.mobile_number||null==this.generalForm.value.mobile_number)&&(D=!1),!p&&!D)return this.generalCtrls.tel.setValue(""),this.generalCtrls.mobile_number.setValue(""),void(this.common.loading=!1);u.last_name=this.generalForm.value.last_name,u.first_name=this.generalForm.value.first_name,u.last_name_kana=this.generalForm.value.last_name_kana,u.first_name_kana=this.generalForm.value.first_name_kana,u.tel=this.generalForm.value.tel,u.mobile_number=this.generalForm.value.mobile_number}console.log("START:\u66f4\u65b0\u51e6\u7406"),console.log(u),console.log("END:\u66f4\u65b0\u51e6\u7406"),this.subscription.add(this.rsService.update(this.selectedId,u).pipe((0,q.x)(()=>this.common.loading=!1),(0,L.K)(_=>(0,B.of)(_))).subscribe(_=>{console.log("START:subscribe"),console.log(_),console.log("END:subscribe"),_ instanceof M.UA?this.handleError(_.status,this.errorModalTitle,_.message):(this.flashMessageService.setFlashMessage(_.message,"success",15e3),this.router.navigateByUrl(this.detailPagePath))}))}onClickReset(){window.location.reload()}handleClickCancel(){this.form.pristine?this.router.navigateByUrl(this.detailPagePath):this.modalService.setModal(this.cancelModalTitle,c.yR.BODY.CANCEL,"warning",c.yR.BUTTON_TITLE.EXECUTION,c.yR.BUTTON_TITLE.CANCEL)}handleError(e,i,r,o){this.errorService.setError({status:e,title:i,message:r,redirectPath:o})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z),t.Y36(s.qu),t.Y36(dt.d),t.Y36(gt.y),t.Y36(ft.n),t.Y36(nt.G),t.Y36($.E),t.Y36(x.T),t.Y36(Q.Z),t.Y36(C.F0),t.Y36(C.gz),t.Y36(at.P),t.Y36(A.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit"]],decls:72,vars:66,consts:[[3,"breadcrumbList"],[1,"mb-8"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],[1,"width-limit-break","border-t","border-gray-400"],[3,"formGroup","ngSubmit"],[1,"mt-8","pt-8","pb-8","px-6","bg-white","border","border-gray-300","border-b-0"],[1,"text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-4"],[1,"text-sm","text-rose-500"],[1,"flex","gap-6","mt-6"],[1,"w-1/6"],["nameAttrValue","reception_date","idAttrValue","reception-date",3,"formCtrl","invalid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["nameAttrValue","status_division_id","idAttrValue","status-division-id",3,"options","formCtrl","invalid"],[1,"flex","gap-6","mt-8"],[1,"w-1/3"],["nameAttrValue","customer_type_division_id","idAttrValue","customer-type",3,"options","formCtrl","invalid"],[4,"ngIf"],[1,"bg-rose-200","mb-24","shadow","border","border-gray-300","border-t-0"],[1,"px-6","pt-8","text-rose-700"],[1,"flex","gap-6","pt-4","pb-8","px-6"],[1,"w-1/2"],["nameAttrValue","settle_status_division_id","idAttrValue","settle-status-division-id",3,"formCtrl","options","invalid"],["nameAttrValue","incident_division_id","idAttrValue","incident-division-id",3,"formCtrl","options","invalid"],["client",""],["member",""],["general",""],["common",""],["labels",""],["errors",""],["fullWidthKatakana",""],["eitherRequiredErrors",""],["telAndMobileNumber",""],["dateErrors",""],["message",""],[4,"ngIf","ngIfThen"],[4,"ngTemplateOutlet"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","left-0","right-0","p-2","fixed","gap-8"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled"],[3,"click"],["nameAttrValue","client_id","idAttrValue","client-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","mobile_number","idAttrValue","mobile-number",3,"formCtrl","invalid"],["nameAttrValue","member_id","idAttrValue","member-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"mt-8","bg-orange-100","text-slate-700","px-3","py-2","rounded-md"],["nameAttrValue","last_name","idAttrValue","last-name",3,"formCtrl","invalid"],["nameAttrValue","first_name","idAttrValue","first-name",3,"formCtrl","invalid"],["nameAttrValue","tel","idAttrValue","tel",3,"formCtrl","invalid"],["nameAttrValue","last_name_kana","idAttrValue","last-name-kana",3,"formCtrl","invalid"],["nameAttrValue","first_name_kana","idAttrValue","first-name-kana",3,"formCtrl","invalid"],["nameAttrValue","reception_employee_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","store_id","idAttrValue","store-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"],[4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"main",1)(2,"h1",2),t._uU(3,"\u4fee\u7406\u53d7\u4ed8\u7968\u7de8\u96c6"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.NdJ("click",function(){return i.handleClickCancel()}),t._UZ(6,"app-cancel-link-org"),t.qZA(),t.TgZ(7,"div")(8,"app-last-updater-org"),t._uU(9),t.qZA()()(),t._UZ(10,"hr",5),t.TgZ(11,"form",6),t.NdJ("ngSubmit",function(){return i.handleClickSaveButton()}),t.TgZ(12,"div",7)(13,"h2",8),t._uU(14,"\u4fee\u7406\u53d7\u4ed8\u7968\u60c5\u5831\u5165\u529b"),t.qZA(),t._UZ(15,"hr",9),t.TgZ(16,"p",10),t._uU(17,"\u300c\u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u300d\u306e\u5165\u529b\u306b\u3064\u3044\u3066"),t.qZA(),t.TgZ(18,"p",11),t._uU(19," \u203b \u643a\u5e2f\u96fb\u8a71\u756a\u53f7\u306e\u5165\u529b\u304c\u306a\u3044\u5834\u5408SMS\u306b\u3088\u308b\u53d7\u4ed8\u6848\u5185\u306f\u9001\u4fe1\u3055\u308c\u307e\u305b\u3093\u3002 "),t.qZA(),t.TgZ(20,"div",12)(21,"div",13)(22,"app-date-term",14),t.YNc(23,_i,1,0,"ng-container",15),t.YNc(24,ci,1,0,"ng-container",16),t.qZA()(),t.TgZ(25,"div",13)(26,"app-select-container",17),t.YNc(27,pi,1,0,"ng-container",15),t.YNc(28,mi,1,0,"ng-container",16),t.qZA()()(),t.TgZ(29,"div",18)(30,"div",19)(31,"app-select-container",20),t.YNc(32,di,1,0,"ng-container",15),t.YNc(33,gi,1,0,"ng-container",16),t.qZA()(),t.YNc(34,Ti,3,4,"ng-container",21),t.qZA(),t.YNc(35,vi,3,3,"ng-container",21),t.qZA(),t.TgZ(36,"div",22)(37,"div",23)(38,"p"),t._uU(39," \u30fb\u7cbe\u7b97\u30b9\u30c6\u30fc\u30bf\u30b9\u306fPOS\u304b\u3089\u9023\u643a\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u305f\u3081\u3001\u901a\u5e38\u306f\u64cd\u4f5c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002 "),t.qZA(),t.TgZ(40,"p"),t._uU(41," \u30fb\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9\u306f\u91cd\u5927\u306a\u30c8\u30e9\u30d6\u30eb\u304c\u767a\u751f\u3057\u305f\u6642\u306e\u307f\u5229\u7528\u3059\u308b\u9805\u76ee\u306e\u305f\u3081\u3001\u901a\u5e38\u306f\u64cd\u4f5c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002 "),t.qZA()(),t.TgZ(42,"div",24)(43,"div",25)(44,"app-select-container",26),t.YNc(45,xi,1,0,"ng-container",15),t.YNc(46,Ai,1,0,"ng-container",16),t.qZA()(),t.TgZ(47,"div",25)(48,"app-select-container",27),t.YNc(49,bi,1,0,"ng-container",15),t.YNc(50,Fi,1,0,"ng-container",16),t.qZA()()()(),t.YNc(51,Si,4,3,"ng-container",21),t.qZA()(),t.YNc(52,Zi,8,19,"ng-template",null,28,t.W1O),t.YNc(54,qi,8,19,"ng-template",null,29,t.W1O),t.YNc(56,ar,30,62,"ng-template",null,30,t.W1O),t.YNc(58,pr,10,20,"ng-template",null,31,t.W1O),t.YNc(60,dr,4,2,"ng-template",null,32,t.W1O),t.YNc(62,hr,1,1,"ng-template",null,33,t.W1O),t.YNc(64,Er,1,1,"ng-template",null,34,t.W1O),t.YNc(66,Ar,1,1,"ng-template",null,35,t.W1O),t.YNc(68,Sr,1,1,"ng-template",null,36,t.W1O),t.YNc(70,Nr,1,1,"ng-template",null,37,t.W1O)),2&e){const r=t.MAs(61),o=t.MAs(63);t.Q6J("breadcrumbList",t.kEZ(45,Zr,t.VKq(40,Mr,i.listPagePath),t.VKq(42,kr,i.detailPagePath),t.DdM(44,yr))),t.xp6(9),t.hij(" \u6700\u7d42\u66f4\u65b0\u8005\uff1a",i.lastUpdater?i.lastUpdater:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(11),t.Q6J("formCtrl",i.ctrls.reception_date)("invalid",i.formControlStateManager(i.ctrls.reception_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(49,Ur)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(50,k,i.ctrls.reception_date)),t.xp6(2),t.Q6J("options",i.statusDivisions)("formCtrl",i.ctrls.status_division_id)("invalid",i.formControlStateManager(i.ctrls.status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(52,Vr)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(53,k,i.ctrls.status_division_id)),t.xp6(3),t.Q6J("options",i.customerTypes)("formCtrl",i.ctrls.customer_type_division_id)("invalid",i.formControlStateManager(i.ctrls.customer_type_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(55,Yr)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(56,k,i.ctrls.customer_type_division_id)),t.xp6(1),t.Q6J("ngIf",i.customerType),t.xp6(1),t.Q6J("ngIf",i.customerType),t.xp6(9),t.Q6J("formCtrl",i.ctrls.settle_status_division_id)("options",i.settleDivisions)("invalid",i.formControlStateManager(i.ctrls.settle_status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(58,xt,i.divisionConst.SETTLE_STATUS)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(60,k,i.ctrls.settle_status_division_id)),t.xp6(2),t.Q6J("formCtrl",i.ctrls.incident_division_id)("options",i.incidentDivisions)("invalid",i.formControlStateManager(i.ctrls.incident_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(62,xt,i.divisionConst.INCIDENT)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(64,k,i.ctrls.incident_division_id)),t.xp6(1),t.Q6J("ngIf",i.customerType)}},dependencies:[d.sg,d.O5,d.tP,s._Y,s.JL,s.sg,F.Z,Tt.K,ot.R,et.X,st.a,lt.O,ut.d,tt.r,d.Nd]}),n})();var Br=l(5459),qr=l(2398),Qr=l(9586),Jr=l(4720),Pr=l(956),Gr=l(460),Kr=l(1914),wr=l(5142);function Hr(n,a){1&n&&t.GkF(0)}function Wr(n,a){1&n&&t.GkF(0,39)}function jr(n,a){1&n&&t.GkF(0)}function Xr(n,a){1&n&&t.GkF(0)}function zr(n,a){1&n&&t.GkF(0)}function $r(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p",40),t._uU(2),t.qZA(),t.TgZ(3,"p",41),t._uU(4,"\u91d1\u7269\u30fb\u5efa\u8a2d\u30fb\u8fb2\u5712\u8cc7\u6750\u306e\u5c02\u9580\u5e97"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p",42),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.basicInformation.name),t.xp6(4),t.AsE("TEL : ",e.companyTel,"\u3000FAX : ",e.companyFax,""),t.xp6(2),t.AsE("\u3012",e.companyPostalCode," ",e.companyAddress,""),t.xp6(2),t.hij(" \u4ee3\u8868\u53d6\u7de0\u5f79\u3000",e.basicInformation.representative_name," "),t.xp6(2),t.hij("\u62c5\u5f53\uff1a",e.receptionEmployeeFullName,"")}}function ta(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"\u6545\u969c\u72b6\u6cc1"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p",42),t._uU(6,"\u6a5f\u7a2e"),t.qZA(),t.TgZ(7,"p",55),t._uU(8),t.qZA(),t.TgZ(9,"p",42),t._uU(10,"\u30e1\u30fc\u30ab\u30fc\u540d"),t.qZA(),t.TgZ(11,"p",55),t._uU(12),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.failure_status),t.xp6(4),t.Oqu(e.product_name),t.xp6(4),t.Oqu(e.maker_name)}}function ea(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" \u7814\u78e8\uff1a",e.polishing_number," \u679a\uff08",e.product_name,"\uff09 ")}}function na(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",58)(2,"app-icon-container",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),o=r.$implicit,u=r.index,_=t.oxw(4);return t.KtG(_.editFormOpen(o,u))}),t.qZA()(),t.BQk()}}function ia(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",58)(2,"app-icon-container",60),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,o=t.oxw(4);return t.KtG(o.deleteRepair(r.id))}),t.qZA()(),t.BQk()}}function ra(n,a){1&n&&t.GkF(0)}function aa(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td",61)(2,"div",62),t.YNc(3,ra,1,0,"ng-container",36),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(4),r=t.MAs(30);t.xp6(3),t.Q6J("ngIf",!i.addFormIsOpen&&i.editFormIsOpen&&i.editTarget.id===e.id)("ngIfThen",r)}}const oa=function(n){return{"bg-slate-100":n}};function sa(n,a){if(1&n&&(t.ynx(0,null,50),t.TgZ(2,"tr",51)(3,"td",52)(4,"div")(5,"p"),t._uU(6),t.ALo(7,"date"),t.ALo(8,"date"),t.qZA(),t._UZ(9,"hr",53),t.YNc(10,ta,13,3,"ng-container",38),t.YNc(11,ea,3,2,"ng-container",38),t.TgZ(12,"div",54)(13,"p",48),t._uU(14,"\u5099\u8003\u53ca\u3073\u30a2\u30c9\u30d0\u30a4\u30b9"),t.qZA(),t._UZ(15,"hr"),t.TgZ(16,"p",55),t._uU(17),t.qZA()()()(),t.TgZ(18,"td",56)(19,"div",57),t.YNc(20,na,3,0,"ng-container",8),t.YNc(21,ia,3,0,"ng-container",8),t.qZA()()(),t.YNc(22,aa,4,2,"tr",38),t.BQk()),2&n){const e=a.$implicit,i=t.oxw(4),r=t.MAs(24),o=t.MAs(26);t.xp6(2),t.Q6J("ngClass",t.VKq(23,oa,i.editTarget&&i.editTarget.id===e.id)),t.xp6(4),t.Ywz(" \u4fee\u7406\u500b\u7968\u756a\u53f7\uff1a",e.id,"\u3000\u304a\u5ba2\u69d8\u3054\u4e88\u7b97\uff1a",null==e.customer_budget?null:e.customer_budget.toLocaleString()," \u5186\u3000\u767b\u9332\u65e5\uff1a",t.xi3(7,17,e.created_at,"YYYY/MM/dd HH:mm")," \u767b\u9332\u8005\uff1a",e.employee_created_last_name," ",e.employee_created_first_name," \u66f4\u65b0\u65e5\uff1a",t.xi3(8,20,e.updated_at,"YYYY/MM/dd HH:mm")," \u66f4\u65b0\u8005\uff1a",e.employee_updated_last_name," ",e.employee_updated_first_name," "),t.xp6(4),t.Q6J("ngIf",e.division_repair_type_code===i.repairConst.REPAIR_TYPE_CODE.REPAIR),t.xp6(1),t.Q6J("ngIf",e.division_repair_type_code===i.repairConst.REPAIR_TYPE_CODE.POLISHING),t.xp6(6),t.hij(" ",e.remarks?e.remarks:"\u306a\u3057"," "),t.xp6(3),t.Q6J("ngIf",!i.addFormIsOpen)("ngIfElse",r),t.xp6(1),t.Q6J("ngIf",!i.addFormIsOpen&&!i.editFormIsOpen)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",!i.addFormIsOpen&&i.editFormIsOpen&&i.editTarget.id===e.id)}}function la(n,a){if(1&n&&(t.ynx(0),t.YNc(1,sa,23,25,"ng-container",49),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.repairs)}}function ua(n,a){1&n&&t.GkF(0)}function _a(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",64)(1,"app-button",65),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(4);return t.KtG(r.addFormOpen())}),t._uU(2,"\u5546\u54c1\u8ffd\u52a0"),t.qZA()()}}function ca(n,a){if(1&n&&(t.ynx(0),t.YNc(1,_a,3,0,"div",63),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.addFormIsOpen&&!e.editFormIsOpen)}}function pa(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2," \u203b \u4fee\u7406\u5b8c\u4e86\u307e\u305f\u306f\u304a\u898b\u7a4d\u306e\u3054\u9023\u7d61\u306f7\u65e5\u301c10\u65e5\u524d\u5f8c\u304b\u304b\u308b\u5834\u5408\u304c\u3054\u3056\u3044\u307e\u3059\u3002 "),t.qZA(),t.TgZ(3,"table",43)(4,"thead",44)(5,"th",45),t._uU(6,"\u9069\u7528"),t.qZA(),t.TgZ(7,"th",46)(8,"div")(9,"p"),t._uU(10,"\u64cd\u4f5c"),t.qZA()()()(),t.TgZ(11,"tbody",44),t.YNc(12,la,2,1,"ng-container",38),t.qZA()(),t.TgZ(13,"p"),t._uU(14," \u203b \u3054\u9023\u7d61\u5f8c\u300130\u65e5\u7d4c\u904e\u53c8\u306f\u3054\u8fd4\u4e8b\u304c\u3044\u305f\u3060\u3051\u306a\u3044\u5834\u5408\u306f\u5f53\u65b9\u3067\u51e6\u5206\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3059\u3002 "),t.qZA(),t.YNc(15,ua,1,0,"ng-container",36),t.TgZ(16,"div",47),t._UZ(17,"app-spinner",48),t.qZA(),t.YNc(18,ca,2,1,"ng-container",38),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(28);t.xp6(12),t.Q6J("ngIf",e.repairs.length>0),t.xp6(3),t.Q6J("ngIf",e.rs.division_status_value===e.rsConst.STATUS.ACCEPTED&&e.addFormIsOpen)("ngIfThen",i),t.xp6(1),t.ekj("hidden",!e.isUpdatingRepairList),t.xp6(2),t.Q6J("ngIf",e.rs.division_status_value===e.rsConst.STATUS.ACCEPTED)}}const ma=function(){return{label:"\u30b9\u30c6\u30fc\u30bf\u30b9",required:!1}},V=function(n){return{ctrl:n}};function da(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",20)(2,"div",21)(3,"div")(4,"form",22),t.NdJ("submit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.statusUpdate())}),t.TgZ(5,"div",23)(6,"div")(7,"app-select-container",24),t.YNc(8,Hr,1,0,"ng-container",25),t.YNc(9,Wr,1,0,"ng-container",26),t.qZA()(),t.TgZ(10,"div")(11,"app-button",27),t._uU(12," \u66f4\u65b0 "),t.qZA()()()()()()(),t.TgZ(13,"div",28)(14,"div",29)(15,"div",30),t._uU(16),t.qZA(),t.TgZ(17,"div",31)(18,"p"),t._uU(19),t.qZA()()(),t.TgZ(20,"div",32)(21,"h2",33),t._uU(22," \u4fee\u7406\u53d7\u4ed8\u7968 "),t.qZA()(),t.TgZ(23,"div",34)(24,"div",35)(25,"p"),t._uU(26),t.qZA(),t.YNc(27,jr,1,0,"ng-container",36),t.YNc(28,Xr,1,0,"ng-container",36),t.YNc(29,zr,1,0,"ng-container",36),t.qZA(),t.TgZ(30,"div"),t._UZ(31,"app-barcode",37),t.qZA(),t.TgZ(32,"div",35)(33,"p"),t._uU(34),t.qZA(),t.YNc(35,$r,13,7,"ng-container",38),t.qZA()(),t.TgZ(36,"div"),t.YNc(37,pa,19,6,"ng-container",38),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(),i=t.MAs(34),r=t.MAs(36),o=t.MAs(18),u=t.MAs(20),_=t.MAs(22);t.xp6(4),t.Q6J("formGroup",e.statusForm),t.xp6(3),t.Q6J("formCtrl",e.statusFc.status_division_id)("options",e.slipStatusDivisionOptions)("invalid",e.formControlStateManager(e.statusFc.status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(22,ma)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(23,V,e.statusFc.status_division_id)),t.xp6(2),t.Q6J("buttonDisabled",e.statusForm.invalid||e.statusForm.pristine),t.xp6(5),t.hij(" ",e.rs.division_status_value," "),t.xp6(3),t.hij("\u53d7\u4ed8\u7968\u756a\u53f7\uff1a",e.rs.id,""),t.xp6(7),t.hij("\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7\uff1a",e.rs.division_customer_type_value,""),t.xp6(1),t.Q6J("ngIf",e.rs.division_customer_type_value===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT)("ngIfThen",o),t.xp6(1),t.Q6J("ngIf",e.rs.division_customer_type_value===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER)("ngIfThen",u),t.xp6(1),t.Q6J("ngIf",e.rs.division_customer_type_value===e.rsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)("ngIfThen",_),t.xp6(2),t.Q6J("value",e.barcodeValue),t.xp6(3),t.hij("\u53d7\u4ed8\u65e5\u6642\uff1a",e.receptionDate,""),t.xp6(1),t.Q6J("ngIf",e.basicInformation&&e.rs),t.xp6(2),t.Q6J("ngIf",e.repairs)}}function ga(n,a){1&n&&(t.TgZ(0,"p",66),t._uU(1,"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),t.qZA())}function fa(n,a){if(1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p",55)(4,"span",67),t._uU(5),t.qZA()(),t.TgZ(6,"p",68),t._uU(7),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.rs.client_id),t.xp6(3),t.AsE(" ",e.rs.client_name," ",e.rs.client_division_title_value?e.rs.client_division_title_value:e.rs.client_custom_title," "),t.xp6(2),t.hij("\u304a\u5ba2\u69d8\u643a\u5e2f\u756a\u53f7\uff1a",e.rs.mobile_number,"")}}function ha(n,a){if(1&n&&(t.TgZ(0,"div",42)(1,"ruby")(2,"span",69),t._uU(3),t.qZA(),t.TgZ(4,"rp"),t._uU(5,"("),t.qZA(),t.TgZ(6,"rt"),t._uU(7),t.qZA(),t.TgZ(8,"rp"),t._uU(9,")"),t.qZA()(),t.TgZ(10,"span"),t._uU(11,"\xa0"),t.qZA(),t.TgZ(12,"ruby")(13,"span",69),t._uU(14),t.qZA(),t.TgZ(15,"rp"),t._uU(16,"("),t.qZA(),t.TgZ(17,"rt"),t._uU(18),t.qZA(),t.TgZ(19,"rp"),t._uU(20,")"),t.qZA()(),t.TgZ(21,"span",69),t._uU(22,"\u3000\u69d8"),t.qZA(),t.TgZ(23,"p",68),t._uU(24),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.rs.member_last_name),t.xp6(4),t.Oqu(e.rs.member_last_name_kana),t.xp6(7),t.Oqu(e.rs.member_first_name),t.xp6(4),t.Oqu(e.rs.member_first_name_kana),t.xp6(6),t.hij("\u304a\u5ba2\u69d8\u643a\u5e2f\u756a\u53f7\uff1a",e.rs.mobile_number,"")}}function Ta(n,a){if(1&n&&(t.TgZ(0,"div",42)(1,"ruby")(2,"span",69),t._uU(3),t.qZA(),t.TgZ(4,"rp"),t._uU(5,"("),t.qZA(),t.TgZ(6,"rt"),t._uU(7),t.qZA(),t.TgZ(8,"rp"),t._uU(9,")"),t.qZA()(),t.TgZ(10,"span"),t._uU(11,"\xa0"),t.qZA(),t.TgZ(12,"ruby")(13,"span",69),t._uU(14),t.qZA(),t.TgZ(15,"rp"),t._uU(16,"("),t.qZA(),t.TgZ(17,"rt"),t._uU(18),t.qZA(),t.TgZ(19,"rp"),t._uU(20,")"),t.qZA()(),t.TgZ(21,"span",69),t._uU(22,"\u3000\u69d8"),t.qZA(),t.TgZ(23,"p",68),t._uU(24),t.qZA(),t.TgZ(25,"p",70),t._uU(26),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.rs.last_name),t.xp6(4),t.Oqu(e.rs.last_name_kana),t.xp6(7),t.Oqu(e.rs.first_name),t.xp6(4),t.Oqu(e.rs.first_name_kana),t.xp6(6),t.hij("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7\uff1a",e.rs.tel,""),t.xp6(2),t.hij("\u304a\u5ba2\u69d8\u643a\u5e2f\u756a\u53f7\uff1a",e.rs.mobile_number,"")}}function Ca(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-icon-container",71),t.qZA())}function Ea(n,a){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-icon-container",72),t.qZA())}function va(n,a){1&n&&t.GkF(0)}const xa=function(n){return{$implicit:n,formType:"new"}};function Aa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",73)(1,"div",74)(2,"form",75),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickRepairAddExecutionButton())}),t.YNc(3,va,1,0,"ng-container",25),t._UZ(4,"hr",76),t.TgZ(5,"div",77)(6,"div",78)(7,"app-button",27),t._uU(8," \u8ffd\u52a0 "),t.qZA()(),t.TgZ(9,"div",78)(10,"app-button",65),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addFormCancel())}),t._uU(11,"\u30ad\u30e3\u30f3\u30bb\u30eb"),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=t.MAs(32);t.xp6(2),t.Q6J("formGroup",e.addForm),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(4,xa,e.addFc)),t.xp6(4),t.Q6J("buttonDisabled",e.addForm.invalid||e.addForm.pristine)}}function ba(n,a){1&n&&t.GkF(0)}const Fa=function(n){return{$implicit:n,formType:"edit"}};function Oa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",79)(1,"div",74)(2,"form",75),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickRepairEditExecutionButton())}),t.YNc(3,ba,1,0,"ng-container",25),t._UZ(4,"hr",76),t.TgZ(5,"div",77)(6,"div",78)(7,"app-button",27),t._uU(8," \u4fdd\u5b58 "),t.qZA()(),t.TgZ(9,"div",78)(10,"app-button",65),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editFormCancel())}),t._uU(11,"\u30ad\u30e3\u30f3\u30bb\u30eb"),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=t.MAs(32);t.xp6(2),t.Q6J("formGroup",e.editForm),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(4,Fa,e.editFc)),t.xp6(4),t.Q6J("buttonDisabled",e.editForm.invalid)}}function Da(n,a){1&n&&t.GkF(0)}function Ia(n,a){1&n&&t.GkF(0,39)}function Sa(n,a){1&n&&t.GkF(0)}function Ra(n,a){1&n&&t.GkF(0,39)}function Na(n,a){1&n&&t.GkF(0)}function Ma(n,a){1&n&&t.GkF(0,39)}function ka(n,a){1&n&&t.GkF(0)}function ya(n,a){1&n&&t.GkF(0,39)}function Za(n,a){1&n&&t.GkF(0)}function Ua(n,a){1&n&&t.GkF(0,39)}function Va(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"input",105),t.NdJ("change",function(r){t.CHM(e);const o=t.oxw().$implicit,u=t.oxw();return t.KtG(u.selectRepairLocation(r,o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("checked",e.addFc.is_in_house_repairs.value)}}function Ya(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"input",105),t.NdJ("change",function(r){t.CHM(e);const o=t.oxw().$implicit,u=t.oxw();return t.KtG(u.selectRepairLocation(r,o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("checked",e.editFc.is_in_house_repairs.value)}}function La(n,a){1&n&&t.GkF(0)}function Ba(n,a){1&n&&t.GkF(0,39)}function qa(n,a){1&n&&t.GkF(0)}function Qa(n,a){1&n&&t.GkF(0,39)}const Ja=function(){return{label:"\u4f5c\u696d\u5de5\u8cc3\u539f\u4fa1",required:!1}};function Pa(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",87)(2,"app-text-container",106),t.YNc(3,qa,1,0,"ng-container",25),t.YNc(4,Qa,1,0,"ng-container",26),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(),r=t.MAs(34),o=t.MAs(36);t.xp6(2),t.Q6J("textRight",!0)("formCtrl",e.quote_cost)("invalid",i.formControlStateManager(e.quote_cost)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(7,Ja)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(8,V,e.quote_cost))}}function Ga(n,a){1&n&&t.GkF(0)}function Ka(n,a){1&n&&t.GkF(0,39)}const wa=function(){return{label:"\u90e8\u54c1\u539f\u4fa1",required:!1}};function Ha(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",87)(2,"app-text-container",107),t.YNc(3,Ga,1,0,"ng-container",25),t.YNc(4,Ka,1,0,"ng-container",26),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(),r=t.MAs(34),o=t.MAs(36);t.xp6(2),t.Q6J("textRight",!0)("formCtrl",e.cost_of_parts)("invalid",i.formControlStateManager(e.cost_of_parts)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(7,wa)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(8,V,e.cost_of_parts))}}function Wa(n,a){1&n&&t.GkF(0)}function ja(n,a){1&n&&t.GkF(0,39)}function Xa(n,a){1&n&&t.GkF(0)}function za(n,a){1&n&&t.GkF(0,39)}function $a(n,a){1&n&&t.GkF(0)}function to(n,a){1&n&&t.GkF(0,39)}function eo(n,a){1&n&&t.GkF(0)}function no(n,a){1&n&&t.GkF(0,39)}function io(n,a){1&n&&t.GkF(0)}function ro(n,a){1&n&&t.GkF(0,39)}function ao(n,a){if(1&n&&(t.TgZ(0,"div",80)(1,"div",98),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",98),t._uU(5),t.qZA(),t.TgZ(6,"div",98),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div",98),t._uU(10),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" \u767b\u9332\u65e5 ",t.xi3(3,6,e.editTarget.created_at,"YYYY/MM/dd HH:mm")," "),t.xp6(3),t.AsE(" \u767b\u9332\u8005\uff1a",e.editTarget.employee_created_last_name," ",e.editTarget.employee_created_first_name," "),t.xp6(2),t.hij(" \u66f4\u65b0\u65e5 ",t.xi3(8,9,e.editTarget.updated_at,"YYYY/MM/dd HH:mm")," "),t.xp6(3),t.AsE(" \u66f4\u65b0\u8005\uff1a",e.editTarget.employee_updated_last_name," ",e.editTarget.employee_updated_first_name," ")}}function oo(n,a){1&n&&t.GkF(0)}function so(n,a){1&n&&t.GkF(0,39)}const lo=function(){return{label:"\u7cbe\u7b97\u30b9\u30c6\u30fc\u30bf\u30b9\u533a\u5206",required:!0}};function uo(n,a){if(1&n&&(t.TgZ(0,"div",85)(1,"span",108),t._uU(2," * \u7cbe\u7b97\u30b9\u30c6\u30fc\u30bf\u30b9\u306fPOS\u304b\u3089\u9023\u643a\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u305f\u3081\u3001\u901a\u5e38\u306f\u64cd\u4f5c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002"),t.qZA(),t.TgZ(3,"div",109)(4,"div",35)(5,"app-select-container",110),t.YNc(6,oo,1,0,"ng-container",25),t.YNc(7,so,1,0,"ng-container",26),t.qZA()()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(),r=t.MAs(34),o=t.MAs(36);t.xp6(5),t.Q6J("formCtrl",e.settle_status_division_id)("options",i.settleStatusDivisionOptions)("invalid",i.formControlStateManager(e.settle_status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(7,lo)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(8,V,e.settle_status_division_id))}}const _o=function(){return{label:"\u30e1\u30fc\u30ab\u30fc\u540d",required:!1}},co=function(){return{label:"\u54c1\u540d",required:!0}},po=function(){return{label:"\u6545\u969c\u72b6\u6cc1",required:!0}},mo=function(){return{label:"\u3054\u4e88\u7b97",required:!1}},go=function(){return{label:"\u4fee\u7406\u4f9d\u983c\u5148\u9078\u629e"}},fo=function(){return{label:"\u5099\u8003\u53ca\u3073\u30a2\u30c9\u30d0\u30a4\u30b9",required:!1}},ho=function(){return{label:"\u898b\u7a4d\u58f2\u4fa1",required:!1}},To=function(){return{label:"\u6301\u51fa\u65e5",required:!1}},Co=function(){return{label:"\u5165\u8377\u4e88\u5b9a\u65e5",required:!1}},Eo=function(){return{label:"\u5165\u8377\u65e5",required:!1}},vo=function(){return{label:"\u5f15\u304d\u6e21\u3057\u65e5",required:!1}};function xo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",80)(1,"div",81)(2,"app-text-container",82),t.YNc(3,Da,1,0,"ng-container",25),t.YNc(4,Ia,1,0,"ng-container",26),t.qZA()(),t.TgZ(5,"div",83)(6,"app-text-container",84),t.YNc(7,Sa,1,0,"ng-container",25),t.YNc(8,Ra,1,0,"ng-container",26),t.qZA()()(),t.TgZ(9,"div",85)(10,"app-textarea-container",86),t.YNc(11,Na,1,0,"ng-container",25),t.YNc(12,Ma,1,0,"ng-container",26),t.qZA()(),t.TgZ(13,"div",80)(14,"div",87)(15,"app-text-container",88),t.YNc(16,ka,1,0,"ng-container",25),t.YNc(17,ya,1,0,"ng-container",26),t.qZA()(),t.TgZ(18,"div",83)(19,"app-select-suggest-container",89),t.YNc(20,Za,1,0,"ng-container",25),t.YNc(21,Ua,1,0,"ng-container",26),t.qZA()(),t.ynx(22),t.TgZ(23,"div",87)(24,"div",90)(25,"label",91),t._uU(26," \u81ea\u793e\u4fee\u7406 "),t.YNc(27,Va,1,1,"input",92),t.YNc(28,Ya,1,1,"input",92),t.qZA()()(),t.BQk(),t.qZA(),t.TgZ(29,"div",85)(30,"app-textarea-container",93),t.YNc(31,La,1,0,"ng-container",25),t.YNc(32,Ba,1,0,"ng-container",26),t.qZA()(),t.TgZ(33,"div",80),t.YNc(34,Pa,5,10,"ng-container",38),t.YNc(35,Ha,5,10,"ng-container",38),t.TgZ(36,"div",87)(37,"app-text-container",94),t.YNc(38,Wa,1,0,"ng-container",25),t.YNc(39,ja,1,0,"ng-container",26),t.qZA()(),t.TgZ(40,"div",95)(41,"app-button",96),t._uU(42," \u5024\u3092\u30af\u30ea\u30a2 "),t.qZA(),t.TgZ(43,"app-button",97),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickCalcButton())}),t._uU(44," \u898b\u7a4d\u58f2\u4fa1\u3092\u8a08\u7b97 "),t.qZA()()(),t.TgZ(45,"div",80)(46,"div",98)(47,"app-date-term",99),t.YNc(48,Xa,1,0,"ng-container",25),t.YNc(49,za,1,0,"ng-container",26),t.qZA()(),t.TgZ(50,"div",98)(51,"app-date-term",100),t.YNc(52,$a,1,0,"ng-container",25),t.YNc(53,to,1,0,"ng-container",26),t.qZA()(),t.TgZ(54,"div",98)(55,"app-date-term",101),t.YNc(56,eo,1,0,"ng-container",25),t.YNc(57,no,1,0,"ng-container",26),t.qZA()(),t.TgZ(58,"div",98)(59,"app-date-term",102),t.YNc(60,io,1,0,"ng-container",25),t.YNc(61,ro,1,0,"ng-container",26),t.qZA()()(),t.YNc(62,ao,11,12,"div",103),t.YNc(63,uo,8,10,"div",104)}if(2&n){const e=a.$implicit,i=a.formType,r=t.oxw(),o=t.MAs(34),u=t.MAs(36);t.xp6(2),t.Q6J("formCtrl",e.maker_name)("invalid",r.formControlStateManager(e.maker_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(75,_o)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(76,V,e.maker_name)),t.xp6(2),t.Q6J("formCtrl",e.product_name)("invalid",r.formControlStateManager(e.product_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(78,co)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(79,V,e.product_name)),t.xp6(2),t.Q6J("formCtrl",e.failure_status)("invalid",r.formControlStateManager(e.failure_status)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(81,po)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(82,V,e.failure_status)),t.xp6(3),t.Q6J("textRight",!0)("formCtrl",e.customer_budget)("invalid",r.formControlStateManager(e.customer_budget)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(84,mo)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(85,V,e.customer_budget)),t.xp6(2),t.Q6J("formCtrl",e.supplier_id)("suggests",r.supplierSuggests),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(87,go)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(88,V,e.supplier_id)),t.xp6(6),t.Q6J("ngIf","new"===i),t.xp6(1),t.Q6J("ngIf","edit"===i),t.xp6(2),t.Q6J("formCtrl",e.remarks)("rows",4)("invalid",r.formControlStateManager(e.remarks)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(90,fo)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(91,V,e.remarks)),t.xp6(2),t.Q6J("ngIf","0"===r.activeform_location_value),t.xp6(1),t.Q6J("ngIf","1"===r.activeform_location_value),t.xp6(2),t.Q6J("textRight",!0)("formCtrl",e.quote_selling_price)("invalid",r.formControlStateManager(e.quote_selling_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(93,ho)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(94,V,e.quote_selling_price)),t.xp6(8),t.Q6J("formCtrl",e.taking_out_date)("invalid",r.formControlStateManager(e.taking_out_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(96,To)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(97,V,e.taking_out_date)),t.xp6(2),t.Q6J("formCtrl",e.arrival_expected_date)("invalid",r.formControlStateManager(e.arrival_expected_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(99,Co)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(100,V,e.arrival_expected_date)),t.xp6(2),t.Q6J("formCtrl",e.arrival_date)("invalid",r.formControlStateManager(e.arrival_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(102,Eo)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(103,V,e.arrival_date)),t.xp6(2),t.Q6J("formCtrl",e.passing_date)("invalid",r.formControlStateManager(e.passing_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.DdM(105,vo)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(106,V,e.passing_date)),t.xp6(1),t.Q6J("ngIf","edit"===i),t.xp6(1),t.Q6J("ngIf","edit"===i)}}function Ao(n,a){1&n&&(t.TgZ(0,"span",113),t._uU(1,"\u5fc5\u9808"),t.qZA())}function bo(n,a){if(1&n&&(t.TgZ(0,"div",111)(1,"span",44),t._uU(2),t.qZA(),t.YNc(3,Ao,2,0,"span",112),t.qZA()),2&n){const e=a.label,i=a.required;t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i)}}function Fo(n,a){if(1&n&&(t.TgZ(0,"p",115),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.REQUIRED_ITEM," ")}}function Oo(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Fo,2,1,"p",114),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function Do(n,a){if(1&n&&t.YNc(0,Oo,2,1,"ng-container",38),2&n){const e=a.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}const Io=function(n){return{path:n,text:"\u4fee\u7406\u53d7\u4ed8\u7968\u4e00\u89a7"}},So=function(){return{text:"\u4fee\u7406\u53d7\u4ed8\u7968\u8a73\u7d30"}},Ro=function(n,a){return[n,a]},No=[{path:"",component:H,children:[{path:"",component:Jt},{path:"add",component:ui},{path:"edit/:id",component:Lr},{path:"detail/:id",component:(()=>{class n{constructor(e,i,r,o,u,_,f,p,D,g,I,Z,m){this.activatedRoute=e,this.errorService=i,this.rsService=r,this.repairService=o,this.biService=u,this.productService=_,this.divisionService=f,this.modalService=p,this.flashMessageService=D,this.fb=g,this.router=I,this.common=Z,this.supplierService=m,this.subscription=new S.w0,this.errorModalTitle="\u4fee\u7406\u53d7\u4ed8\u7968\u8a73\u7d30\u30a8\u30e9\u30fc\uff1a"+c.yR.TITLE.HAS_ERROR,this.listPagePath="/repair-slip",this.rsConst=P,this.repair_location=[],this.repair_location_value=[],this.repairConst=rt.N,this.addFormIsOpen=!1,this.editFormIsOpen=!1,this.isUpdatingRepairList=!1,this.tmpProduct=!0,this.errorConst=R.c,this.isDeliveryRequested=!1,this.idTypeValidation=[s.kI.required,s.kI.pattern(h.m.NUMERIC_REG_EX),s.kI.maxLength(11)],this.statusForm=this.fb.group({status_division_id:["",this.idTypeValidation]}),this.addForm=this.fb.group({repair_type_division_id:["",this.idTypeValidation],polishing_number:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],failure_status:["",[s.kI.required,s.kI.maxLength(255)]],api_product_name:[""],product_name:["",[s.kI.required,s.kI.maxLength(255)]],product_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX),s.kI.maxLength(11)]],supplier_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],maker_name:["",[s.kI.maxLength(255)]],repair_order_company:["",s.kI.maxLength(255)],customer_budget:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],remarks:["",[s.kI.maxLength(255)]],delivery_division_id:["",this.idTypeValidation],taking_out_date:["",[s.kI.maxLength(255)]],arrival_expected_date:["",[s.kI.maxLength(255)]],quote_cost:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],quote_selling_price:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],in_house_repairs:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],cost_of_parts:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],arrival_date:["",[s.kI.maxLength(255)]],passing_date:["",[s.kI.maxLength(255)]],is_in_house_repairs:[!1],tax_included_quote_selling_price:[""]}),this.editForm=this.fb.group({repair_type_division_id:["",this.idTypeValidation],polishing_number:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],failure_status:["",[s.kI.required,s.kI.maxLength(255)]],repair_order_company:["",[s.kI.maxLength(255)]],maker_name:["",[s.kI.maxLength(255)]],product_name:["",[s.kI.required,s.kI.maxLength(255)]],api_product_name:[""],tmp_product_id:[""],tmp_product_name:[""],product_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX),s.kI.maxLength(11)]],supplier_id:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],customer_budget:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],remarks:["",[s.kI.maxLength(255)]],delivery_division_id:["",this.idTypeValidation],taking_out_date:["",[s.kI.maxLength(255)]],quote_cost:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],quote_selling_price:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],in_house_repairs:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],cost_of_parts:["",[s.kI.pattern(h.m.NUMERIC_REG_EX)]],arrival_date:["",[s.kI.maxLength(255)]],arrival_expected_date:["",[s.kI.maxLength(255)]],passing_date:["",[s.kI.maxLength(255)]],settle_status_division_id:["",this.idTypeValidation],inq_id:[""],is_in_house_repairs:[!1],tax_included_quote_selling_price:[""]})}get statusFc(){return this.statusForm.controls}get addFc(){return this.addForm.controls}resetAddForm(){this.addForm.reset({repair_type_division_id:"",polishing_number:"",failure_status:"",product_name:"",product_id:"",supplier_id:"",maker_name:"",repair_order_company:"",customer_budget:"",remarks:"",delivery_division_id:"",taking_out_date:"",arrival_expected_date:"",quote_cost:"",quote_selling_price:"",in_house_repairs:"",cost_of_parts:"",arrival_date:"",passing_date:"",tax_included_quote_selling_price:""},{emitEvent:!1});const e=new Date(String(this.rs.reception_date));e.setDate(e.getDate()+7),this.addFc.arrival_expected_date.patchValue(e.toISOString()),this.addForm.controls.is_in_house_repairs.patchValue(!0),this.addForm.controls.in_house_repairs.patchValue("1")}get editFc(){return this.editForm.controls}resetEditForm(){this.editForm.reset({repair_type_division_id:"",polishing_number:"",failure_status:"",repair_order_company:"",maker_name:"",product_name:"",product_id:"",supplier_id:"",customer_budget:"",remarks:"",delivery_division_id:"",taking_out_date:"",quote_cost:"",quote_selling_price:"",in_house_repairs:"",cost_of_parts:"",arrival_date:"",arrival_expected_date:"",passing_date:"",inq_id:"",is_in_house_repairs:!1,tax_included_quote_selling_price:""},{emitEvent:!1})}formControlStateManager(e){return(e.touched||e.dirty)&&e.invalid}ngOnInit(){const e=this.activatedRoute.snapshot.params.id;this.isParameterInvalid(e)?this.handleError(400,this.errorModalTitle,"\u30d1\u30e9\u30e1\u30fc\u30bf\u53d6\u5f97\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u4e00\u89a7\u753b\u9762\u3078\u623b\u308a\u307e\u3059\u3002",this.listPagePath):(this.selectedId=Number(e),this.barcodeValue=this.rsConst.CALLED_NUMBER_PREFIX+e.toString().padStart(11,"0"),this.editPagePath=this.listPagePath+"/edit/"+e,this.addFc.repair_type_division_id.valueChanges.subscribe(r=>{this.repairTypeDivisionOptions.find(u=>Number(u.value)===Number(r)),this.repairTypeName=rt.N.REPAIR_TYPE.REPAIR,this.addFc.failure_status.addValidators([s.kI.required]),this.addFc.polishing_number.removeValidators([s.kI.required]),this.addFc.failure_status.updateValueAndValidity(),this.resetAddForm(),this.addFc.repair_type_division_id.patchValue(r,{emitEvent:!1})}),this.initialization(Number(e)))}isParameterInvalid(e){return null===e||!!isNaN(Number(e))}getStatusValue(e){const i=this.rsConst,r=Object.keys(i.STATUS)[e];return i.STATUS[r]}isDeliveryRequestedRepairs(e){return e.some(i=>i.division_delivery_value===this.rsConst.DELIVERY_DIVISION.VALUE.DELIVERY_INCLUDED)}initialization(e){this.common.loading=!0,this.subscription.add((0,W.D)([this.rsService.find(e),this.repairService.getAll({repair_slip_id:e}),this.biService.find(),this.productService.getAll({$select:"id,name,product_name",limit:100}),this.divisionService.getAll(),this.supplierService.getAll({$select:"id,name"})]).pipe((0,q.x)(()=>this.common.loading=!1),(0,L.K)(i=>(0,B.of)(i))).subscribe(i=>{if(i instanceof M.UA)return void this.handleError(i.status,i.error?i.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",i.message,this.listPagePath);if(null==i)return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);if(Array.isArray(i)&&6!==i.length)return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);if((0,J.bz)(i[0]))return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);if(0!==i[1].data.length&&(0,J.bz)(i[1]))return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);if((0,J.bz)(i[2]))return void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR);this.rs=i[0].data[0],this.updaterFullName=this.rs.employee_updated_last_name+" "+this.rs.employee_updated_first_name,this.receptionEmployeeFullName=this.rs.employee_reception_last_name+" "+this.rs.employee_reception_first_name,this.receptionDate=new Date(this.rs.reception_date).toLocaleString(),this.repairs=i[1].data,this.repairs.length>0&&(this.isDeliveryRequested=this.isDeliveryRequestedRepairs(this.repairs));for(let T in this.repairs)this.repair_location.push(1===this.repairs[T].in_house_repairs);this.basicInformation=i[2].data[0],this.companyAddress=this.basicInformation.province+this.basicInformation.locality+this.basicInformation.street_address+this.basicInformation.other_address,this.companyTel=(0,J.ni)(String(this.basicInformation.tel)),this.companyFax=(0,J.ni)(String(this.basicInformation.fax)),this.companyPostalCode=(0,J.vf)(String(this.basicInformation.postal_code)),this.productSuggests=i[3].data.map(T=>({value:T.id,text:T.name})),this.products=i[3].data;const _=[{value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}],p=i[4].data.filter(T=>T.name===O.z.REPAIR_TYPE).map(T=>({value:T.id,text:T.value}));this.repairTypeDivisionOptions=[..._,...p];const g=i[4].data.filter(T=>T.name===O.z.DELIVERY_REQUEST).map(T=>({value:T.id,text:T.value}));this.deliveryDivisionOptions=[..._,...g];const I=i[4].data.filter(T=>T.name===O.z.SETTLE_STATUS);this.settleStatusDivisionOptions=I.map(T=>({value:T.id,text:T.value}));const Z=i[4].data.filter(T=>T.name===O.z.REPAIR_STATUS);this.statusDivisionOptions=Z.map(T=>({value:T.id,text:T.value}));const m=i[4].data.filter(T=>T.name===O.z.REPAIR_SLIP_STATUS);m.sort((T,G)=>T.division_code-G.division_code),this.slipStatusDivisionOptions=m.map(T=>({value:T.id,text:T.value})),this.statusForm.reset({status_division_id:String(this.rs.status_division_id)}),this._setSupplier(i[5])}))}statusUpdate(){const e=this.statusForm.value;this.common.loading=!0,this.subscription.add(this.rsService.update(this.rs.id,{customer_type_division_id:this.rs.customer_type_division_id,store_id:this.rs.store_id,client_id:this.rs.client_id,member_id:this.rs.member_id,last_name:this.rs.last_name,first_name:this.rs.first_name,last_name_kana:this.rs.last_name_kana,first_name_kana:this.rs.first_name_kana,tel:this.rs.tel,mobile_number:this.rs.mobile_number,reception_date:this.rs.reception_date,reception_employee_id:this.rs.reception_employee_id,status_division_id:e.status_division_id,settle_status_division_id:this.rs.settle_status_division_id,incident_division_id:this.rs.incident_division_id,remarks_1:this.rs.remarks_1,remarks_2:this.rs.remarks_2}).pipe((0,L.K)(r=>(0,B.of)(r)),(0,q.x)(()=>this.common.loading=!1)).subscribe(r=>{r instanceof M.UA?this.handleError(r.status,r.error?r.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",r.message,this.listPagePath):null!=r?(this.subscription.add(this.updateSlipInfo().subscribe()),this.flashMessageService.setFlashMessage(r.message,"success",15e3)):this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR,this.listPagePath)}))}updateSlipInfo(){return this.common.loading=!0,(0,W.D)([this.rsService.find(this.selectedId),this.repairService.getAll({repair_slip_id:this.selectedId})]).pipe((0,L.K)(e=>(0,B.of)(e)),(0,q.x)(()=>this.common.loading=!1),(0,X.b)(e=>{e instanceof M.UA?this.handleError(e.status,e.error?e.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",e.message,this.listPagePath):null!=e?0!==e[0].data.length&&(0,J.bz)(e[0])?this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR):(this.rs=e[0].data[0],this.statusForm.reset({status_division_id:String(this.rs.status_division_id)}),0!==e[1].data.length&&(0,J.bz)(e[1])?this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR):(this.repairs=e[1].data,this.repairs.length>0&&(this.isDeliveryRequested=this.isDeliveryRequestedRepairs(this.repairs)),this.common.loading=!1)):this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR,this.listPagePath)}))}addFormOpen(){this.addFormIsOpen=!0,this._setHiddenValue()}addFormCancel(){this.addFormIsOpen=!1,this.resetAddForm(),this.repairTypeName=""}handleClickRepairAddExecutionButton(){this.registerOrRenew(),this.addFormIsOpen=!1}editFormOpen(e,i){let r=i;this.editFormIsOpen=!0,this.common.loading=!0,this.editTarget=e;const o=this.repairTypeDivisionOptions.find(u=>Number(u.value)===Number(this.editTarget.repair_type_division_id));if(o&&(this.repairTypeName=o.text),this._editFormReset(r),this.tmpProduct=!1,void 0!==e.product_product_name&&""!==e.product_product_name){const u={value:String(e.product_id),text:e.product_product_name};this.productSuggests.push(u),this.tmpProduct=!0}this.common.loading=!1}editFormCancel(){this.editTarget={},this.editFormIsOpen=!1,this.resetEditForm(),this.repairTypeName=""}handleClickRepairEditExecutionButton(){this.editFormIsOpen=!1,this.registerOrRenew()}registerOrRenew(){this.common.loading=!0;const e=!!(this.editTarget&&Object.keys(this.editTarget).length>0);e?this.editForm.markAsPristine():this.addForm.markAsPristine();let i=this.addForm.value;e&&(i=this.editForm.value,this.editForm.controls.is_in_house_repairs.value?(this.activeform_location_value="1",i.quote_cost=""):(this.activeform_location_value="0",i.cost_of_parts="")),this._formatDate(i);const r=this.settleStatusDivisionOptions.find(g=>g.text===this.rsConst.SETTLE_STATUS_DIVISION.VALUE.UNSETTLED),u=(this.statusDivisionOptions.find(g=>g.text===this.repairConst.STATUS.BEFORE_REPAIR),{repair_slip_id:this.selectedId,settle_status_division_id:r?.value,tax_included_quote_selling_price:i.quote_selling_price}),_={repair_slip_id:this.selectedId,tax_included_quote_selling_price:i.quote_selling_price},f={...i,...u},p={...i,..._};let D=this.repairService.add(f).pipe((0,L.K)(g=>(0,B.of)(g)),(0,q.x)(()=>this.resetAddForm()));e&&(D=this.repairService.update(this.editTarget.id,p).pipe((0,L.K)(g=>(0,B.of)(g)),(0,q.x)(()=>{this.editTarget={},this.resetEditForm()}))),this.subscription.add(D.subscribe(g=>g instanceof M.UA?(this.common.loading=!1,void this.handleError(g.status,g.error?g.error.title:R.c.ERROR,g.error.message)):null==g?(this.common.loading=!1,void this.handleError(400,this.errorModalTitle,c.yR.BODY.HAS_ERROR)):(this.common.loading=!1,this.flashMessageService.setFlashMessage(g.message,"success",15e3),void this.subscription.add(this.updateSlipInfo().subscribe()))))}deleteRepair(e){if(this.rs.division_status_code>this.rsConst.STATUS_CODE.DELIVERED_TO_SHIPPING_CARRIER)return void this.handleError(422,this.rsConst.ERROR.CANNOT_BE_DELETED,this.rsConst.ERROR.ATTEMPTED_TO_MODIFY_ACCEPTED_DATA_CHANGE);const i="\u4fee\u7406"+c.yR.TITLE.DELETE;this.modalService.setModal(i,c.yR.BODY.DELETE,"danger",c.yR.BUTTON_TITLE.DELETE,c.yR.BUTTON_TITLE.CANCEL),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,N.q)(1),(0,b.h)(o=>this.modalService.getModalProperties().title===i)).subscribe(o=>{o===c.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&(this.repairs=this.repairs?.filter(u=>u.id!==e),this.isUpdatingRepairList=!0,this.repairService.remove(e).pipe((0,q.x)(()=>this.isUpdatingRepairList=!1),(0,L.K)(u=>(0,B.of)(u))).subscribe(u=>{u instanceof M.UA?this.handleError(u.status,u.error?u.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",u.message):(this.flashMessageService.setFlashMessage(u.message,"success",15e3),this.subscription.add(this.updateSlipInfo().subscribe()))}))}))}deleteRepairItem(e){this.repairService.remove(e).pipe((0,q.x)(()=>this.isUpdatingRepairList=!1),(0,L.K)(i=>(0,B.of)(i))).subscribe(i=>{i instanceof M.UA?this.handleError(i.status,i.error?i.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",i.message):this.subscription.add(this.updateSlipInfo().subscribe())})}handleClickDelete(){const e="\u4fee\u7406\u53d7\u4ed8\u7968"+c.yR.TITLE.DELETE;let r=[];this.modalService.setModal(e,c.yR.BODY.DELETE,"danger",c.yR.BUTTON_TITLE.DELETE,c.yR.BUTTON_TITLE.CANCEL),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,N.q)(1),(0,b.h)(o=>this.modalService.getModalProperties().title===e)).subscribe(o=>{o===c.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&(this.common.loading=!0,this.rsService.remove(this.selectedId).pipe((0,L.K)(u=>(0,B.of)(u)),(0,q.x)(()=>this.common.loading=!1)).subscribe(u=>{if(u instanceof M.UA)this.handleError(u.status,u.error?u.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",u.message);else{if(this.repairs){r=this.repairs.map(f=>f.id);for(let f of r)!f||this.deleteRepairItem(f)}this.flashMessageService.setFlashMessage(u.message,"success",15e3),this.router.navigateByUrl(this.listPagePath)}}))}))}handleError(e,i,r,o){this.errorService.setError({status:e,title:i,message:r,redirectPath:o})}ngOnDestroy(){this.subscription.unsubscribe()}_setHiddenValue(){this._setRepairTypeDivision(),this._setDeliveryDivision()}_setRepairTypeDivision(){if(void 0===this.repairTypeDivisionOptions)return;const e=this.repairTypeDivisionOptions.find(i=>i.text===this.repairConst.REPAIR_TYPE.REPAIR);void 0!==e?.value&&this.addFc.repair_type_division_id.patchValue(String(e?.value))}_setDeliveryDivision(){if(void 0===this.deliveryDivisionOptions)return;const e=this.deliveryDivisionOptions.find(i=>i.text===this.repairConst.DELIVERY.NO_DELIVERY);void 0!==e?.value&&this.addFc.delivery_division_id.patchValue(String(e?.value))}_setSupplier(e){this.supplierSuggests=e.data.map(i=>({value:i.id,text:i.name})),this.suppliers=e.data}_formatDate(e){""!==e.taking_out_date&&(e.taking_out_date=new Date(e.taking_out_date).toLocaleString()),""!==e.arrival_date&&(e.arrival_date=new Date(e.arrival_date).toLocaleString()),""!==e.arrival_expected_date&&(e.arrival_expected_date=new Date(e.arrival_expected_date).toLocaleString()),""!==e.passing_date&&(e.passing_date=new Date(e.passing_date).toLocaleString())}_editFormReset(e){let i="";""!=String(this.editTarget.supplier_id)&&(i=String(this.editTarget.supplier_id)),this.tmpProduct=!0;let r=!1;this.activeform_location_value="0",1===this.editTarget.in_house_repairs&&(r=!0,this.activeform_location_value="1"),this.editForm.reset({repair_type_division_id:String(this.editTarget.repair_type_division_id),polishing_number:String(this.editTarget.polishing_number),failure_status:this.editTarget.failure_status,repair_order_company:this.editTarget.repair_order_company,maker_name:this.editTarget.maker_name,product_name:this.editTarget.product_name,tmp_product_name:this.editTarget.product_name,product_id:String(this.editTarget.product_id),tmp_product_id:String(this.editTarget.product_id),supplier_id:i,customer_budget:String(this.editTarget.customer_budget),remarks:this.editTarget.remarks,delivery_division_id:String(this.editTarget.delivery_division_id),taking_out_date:this.editTarget.taking_out_date,quote_cost:String(this.editTarget.quote_cost),cost_of_parts:String(this.editTarget.cost_of_parts),quote_selling_price:String(this.editTarget.quote_selling_price),arrival_date:this.editTarget.arrival_date,arrival_expected_date:this.editTarget.arrival_expected_date,passing_date:this.editTarget.passing_date,settle_status_division_id:String(this.editTarget.settle_status_division_id),in_house_repairs:String(this.editTarget.in_house_repairs),is_in_house_repairs:r,inq_id:String(e)},{emitEvent:!1}),this.editForm.controls.in_house_repairs.patchValue(String(this.editTarget.in_house_repairs)),this.editForm.controls.is_in_house_repairs.patchValue(1===this.editTarget.in_house_repairs)}onClickProduct(){this.tmpProduct=!this.tmpProduct}handleSelectedProductData(e,i){void 0!==i&&e.product_name.patchValue(i.name)}grossMarginCalculation(e,i){let r=0;return i?(r=10,e<=3e4&&(r=15),e<=1e4&&(r=20),e<=5e3&&(r=30)):(r=30,e<=3e3&&(r=35),e<=1e3&&(r=40)),r}inHouseSellingPriceCalculation(e,i){return Math.round(e/((100-i)/100)*1.1)}externalSellingPriceCalculation(e,i){return Math.round(e/((100-i)/100)*1.1)}selectRepairLocation(e,i){e.target.checked?(i.in_house_repairs.value=1,this.activeform_location_value="1",i.is_in_house_repairs.value=!0):(i.in_house_repairs.value=0,this.activeform_location_value="0",i.is_in_house_repairs.value=!1)}handleClickCalcButton(){const e=this.editForm.controls;let i=Number(e.quote_cost.value),r=e.is_in_house_repairs.value;if(!0===r){let o=e.cost_of_parts.value?Number(e.cost_of_parts.value):0,u=this.grossMarginCalculation(o,r);e.quote_selling_price.patchValue(String(this.inHouseSellingPriceCalculation(o,u)))}else{let o=this.grossMarginCalculation(i,r);e.quote_selling_price.patchValue(String(this.externalSellingPriceCalculation(i,o)))}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.gz),t.Y36(x.T),t.Y36(z),t.Y36(Br.Z),t.Y36(qr.h),t.Y36(ht.M),t.Y36($.E),t.Y36(Q.Z),t.Y36(at.P),t.Y36(s.qu),t.Y36(C.F0),t.Y36(A.v),t.Y36(it.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detail"]],decls:37,vars:12,consts:[[3,"breadcrumbList"],[1,"mb-8"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"flex","flex-row","items-center","gap-6"],[3,"path"],[1,"cursor-pointer",3,"click"],[1,"width-limit-break","border-t","border-gray-400"],[4,"ngIf","ngIfElse"],["duringAcquisition",""],["client",""],["member",""],["general",""],["inoperableEditIcon",""],["inoperableDeleteIcon",""],["add",""],["edit",""],["repairForm",""],["labels",""],["errors",""],[1,"mt-8"],[1,"flex","justify-between"],[1,"text-base",3,"formGroup","submit"],[1,"flex","gap-4","items-end"],["nameAttrValue","status_division_id","idAttrValue","status_division_id",3,"formCtrl","options","invalid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled"],[1,"mt-4","mb-24","py-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"relative"],[1,"absolute","left-[-20px]","top-[-28px]","bg-primary-hover","px-4","py-1","rounded-full","text-white"],[1,"absolute","right-0"],[1,"flex","justify-center"],[1,"text-center","text-2xl","border-b","border-slate-500"],[1,"flex","justify-between","mt-2"],[1,"w-1/3"],[4,"ngIf","ngIfThen"],["elementId","barcode",3,"value"],[4,"ngIf"],["message",""],[1,"text-2xl","text-center","mt-2"],[1,"text-center","mb-2"],[1,"mt-2"],[1,"mt-2","w-[100%]","table-fixed","border-collapse","border","border-slate-500"],[1,"text-sm"],[1,"border","border-slate-500"],[1,"border","border-slate-500","w-[100px]"],[1,"py-4"],[1,"text-xs"],[4,"ngFor","ngForOf"],["tempTop",""],[3,"ngClass"],[1,"border","border-slate-500","p-2"],[1,"my-2","border-slate-200"],[1,"mt-2","px-3","py-2","bg-slate-100","rounded-md"],[1,"mt-1"],[1,"border","border-slate-500","px-1"],[1,"flex","justify-around"],[1,"cursor-pointer"],["appendClassForIcon","fill-warning group-hover:fill-warning-hover","icon","edit-2-line",3,"click"],["icon","delete-bin-line","appendClassForIcon","cursor-pointer fill-danger group-hover:fill-danger-hover",3,"click"],["colspan","2",1,"border","border-slate-500"],[1,"bg-slate-100"],["class","mt-4 text-right",4,"ngIf"],[1,"mt-4","text-right"],[3,"click"],[1,"text-3xl","text-center","text-slate-500","mt-6"],[1,"text-lg","border-b","border-slate-500"],[1,"mt-1","text-ms"],[1,"text-2xl"],[1,"text-ms"],["appendClassForIcon","fill-slate-200","icon","edit-2-line"],["icon","delete-bin-line","appendClassForIcon","fill-slate-200"],[1,"mt-6","py-4","bg-slate-100","text-base"],[1,"mx-4"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"mt-4"],[1,"flex","gap-6","justify-end","mx-4","pb-2"],[1,"pt-7"],[1,"py-4","bg-slate-50","text-base"],[1,"flex","gap-6","mt-6"],[1,"w-2/6"],["nameAttrValue","maker_name","idAttrValue","maker-name",3,"formCtrl","invalid"],[1,"w-3/6"],["nameAttrValue","product_name","idAttrValue","product-name",3,"formCtrl","invalid"],[1,"mt-6"],["nameAttrValue","failure_status","idAttrValue","failure-status",3,"formCtrl","invalid"],[1,"w-1/6"],["nameAttrValue","customer_budget","idAttrValue","customer-budget","inputType","number",3,"textRight","formCtrl","invalid"],["nameAttrValue","supplier_id","idAttrValue","supplier-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests"],[1,"mt-3"],[1,"mt-8","block","relative","pl-6","cursor-pointer","transform:scale(1.4);"],["type","checkbox","nameAttrValue","in_house_repairs","idAttrValue","in-house-repairs","class","w-4 h-4 cursor-pointer absolute top-0 bottom-0 left-0 m-auto",3,"checked","change",4,"ngIf"],["nameAttrValue","remarks","idAttrValue","remarks",3,"formCtrl","rows","invalid"],["nameAttrValue","quote_selling_price","idAttrValue","quote-selling-price","inputType","number",3,"textRight","formCtrl","invalid"],[1,"w-2/5","mt-7","flex","flex-row","gap-6","justify-end"],["btnType","button"],["btnType","button","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled","click"],[1,"w-1/4"],["nameAttrValue","taking_out_date","idAttrValue","taking-out-date",3,"formCtrl","invalid"],["nameAttrValue","arrival_expected_date","idAttrValue","taking-out-date",3,"formCtrl","invalid"],["nameAttrValue","arrival_date","idAttrValue","arrival-date",3,"formCtrl","invalid"],["nameAttrValue","passing_date","idAttrValue","passing-date",3,"formCtrl","invalid"],["class","flex gap-6 mt-6",4,"ngIf"],["class","mt-6",4,"ngIf"],["type","checkbox","nameAttrValue","in_house_repairs","idAttrValue","in-house-repairs",1,"w-4","h-4","cursor-pointer","absolute","top-0","bottom-0","left-0","m-auto",3,"checked","change"],["nameAttrValue","quote_cost","idAttrValue","quote-cost","inputType","number",3,"textRight","formCtrl","invalid"],["nameAttrValue","cost_of_parts","idAttrValue","cost-of-parts","inputType","number",3,"textRight","formCtrl","invalid"],[1,"text-rose-400"],[1,"flex","gap-6","mt-3"],["nameAttrValue","settle_status_division_id","idAttrValue","settle-status-division-id",3,"formCtrl","options","invalid"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(e,i){if(1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"main",1)(2,"h1",2),t._uU(3,"\u4fee\u7406\u53d7\u4ed8\u7968\u8a73\u7d30"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"app-back-to-link-org",5),t._uU(7,"\u4e00\u89a7\u3078\u623b\u308b"),t.qZA(),t._UZ(8,"app-edit-link-org",5),t.TgZ(9,"div",6),t.NdJ("click",function(){return i.handleClickDelete()}),t._UZ(10,"app-delete-link-org"),t.qZA()(),t.TgZ(11,"app-last-updater-org"),t._uU(12),t.qZA()(),t._UZ(13,"hr",7),t.YNc(14,da,38,25,"ng-container",8),t.qZA(),t.YNc(15,ga,2,0,"ng-template",null,9,t.W1O),t.YNc(17,fa,8,4,"ng-template",null,10,t.W1O),t.YNc(19,ha,25,5,"ng-template",null,11,t.W1O),t.YNc(21,Ta,27,6,"ng-template",null,12,t.W1O),t.YNc(23,Ca,2,0,"ng-template",null,13,t.W1O),t.YNc(25,Ea,2,0,"ng-template",null,14,t.W1O),t.YNc(27,Aa,12,6,"ng-template",null,15,t.W1O),t.YNc(29,Oa,12,6,"ng-template",null,16,t.W1O),t.YNc(31,xo,64,108,"ng-template",null,17,t.W1O),t.YNc(33,bo,4,2,"ng-template",null,18,t.W1O),t.YNc(35,Do,1,1,"ng-template",null,19,t.W1O)),2&e){const r=t.MAs(16);t.Q6J("breadcrumbList",t.WLB(9,Ro,t.VKq(6,Io,i.listPagePath),t.DdM(8,So))),t.xp6(6),t.Q6J("path",i.listPagePath),t.xp6(2),t.Q6J("path",i.editPagePath),t.xp6(4),t.hij(" \u6700\u7d42\u66f4\u65b0\u8005\uff1a",i.updaterFullName?i.updaterFullName:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),t.xp6(2),t.Q6J("ngIf",i.rs)("ngIfElse",r)}},dependencies:[d.mk,d.sg,d.O5,d.tP,s._Y,s.JL,s.sg,F.Z,ot.R,et.X,st.a,lt.O,Ct.t,ut.d,tt.r,Qr.i,Jr._,Pr.$,Gr.d,Kr.J,wr.O,d.uU]}),n})()}]}];let Mo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(No),C.Bz]}),n})();var ko=l(9307),yo=l(4933),Zo=l(4560);let Uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,Zo.Z]}),n})();var At=l(3894),Vo=l(8511),Yo=l(3718),bt=l(7090),Ft=l(9104),Lo=l(855);let Bo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,s.UX,At.h,Vo.Q,Yo.z,bt.G,Ft.u,Lo.W]}),n})();var qo=l(3560),Qo=l(4470),Jo=l(3415),Po=l(5274),Go=l(1819),Ko=l(9434),wo=l(3042),Ho=l(3962),Wo=l(2923),jo=l(4015),Xo=l(1326),zo=l(3183),$o=l(4854),ts=l(8593);let es=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[A.v],imports:[d.ez,Mo,s.UX,ko.u,yo.M,Uo,Bo,Ft.u,qo.r,Qo.x,bt.G,Jo.x,Po.s,Go.l,Ko.H,At.h,wo.C,Ho.J,Wo.D,jo.e,Xo.z,zo.F,$o.C,ts.n]}),n})()},6082:(w,Y,l)=>{l.d(Y,{M:()=>A});var d=l(2340),C=l(262),S=l(4004),N=l(8372),b=l(1884),R=l(3900),c=l(9646),t=l(1751),Q=l(529),x=l(1571);let A=(()=>{class U extends t.O{constructor(){super(...arguments),this.endpoint=d.pU.productApi.endpoint}getAll(E={}){return this.httpOptions.params=E,this.http.get(this.endpoint,this.httpOptions).pipe((0,C.K)(this.setErrorMessage("\u5546\u54c1\u4e00\u89a7\u306e\u53d6\u5f97")))}get(E,F={}){return this.getAll({...F,supplier_id:E})}getCsv(E,F){const y={params:F,responseType:"text",headers:new Q.WM({"X-Download":E})};return this.http.get(this.endpoint,y).pipe((0,C.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}find(E){return this.http.get(`${this.endpoint}/${E}`).pipe((0,C.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u53d6\u5f97")))}add(E){const F=this.generateFormData(E);return this.http.post(this.endpoint,F).pipe((0,C.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u767b\u9332")))}bulkAdd(E){const F=this.generateFormData({file:E});return this.http.put(this.endpoint,F).pipe((0,C.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u4e00\u62ec\u767b\u9332")))}update(E,F){const y=this.generateFormData(F);return this.http.patch(`${this.endpoint}/${E}`,y).pipe((0,C.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u66f4\u65b0")))}remove(E){return this.http.delete(`${this.endpoint}/${E}`).pipe((0,C.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(E){return this.getAll(E).pipe((0,S.U)(F=>F.data.map(y=>({text:y.name+"",value:y.id}))))}getAsSelectOptionsForNameSearch(E){return this.getAll(E).pipe((0,S.U)(F=>F.data.map(y=>({text:y.name+"",value:y.name}))))}observableProductId(E,F,y){y.loading=!1,E.valueChanges.pipe((0,N.b)(500),(0,b.x)(),(0,R.w)(M=>this.observableSetProductName(String(M),F,y))).subscribe()}observableSetProductName(E,F,y){return null==E||""===E?(F.setValue("",{emitEvent:!1}),(0,c.of)()):(y.loading=!0,this.find(Number(E)).pipe((0,S.U)(M=>{const X=M.data[0];y.loading=!1,F.setValue(X?.name,{emitEvent:!1})}),(0,C.K)(M=>(y.loading=!1,this.handleErrorModal()(M)))))}}return U.\u0275fac=function(){let H;return function(F){return(H||(H=x.n5z(U)))(F||U)}}(),U.\u0275prov=x.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},4562:(w,Y,l)=>{l.d(Y,{p:()=>c});var d=l(2340),C=l(262),S=l(4004),N=l(1751),b=l(529),R=l(1571);let c=(()=>{class t extends N.O{constructor(){super(...arguments),this.endpoint=d.pU.supplierApi.endpoint}getAll(x={}){return this.httpOptions.params=x,this.http.get(this.endpoint,this.httpOptions).pipe((0,C.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u4e00\u89a7\u306e\u53d6\u5f97")))}find(x){return this.http.get(`${this.endpoint}/${x}`).pipe((0,C.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u53d6\u5f97")))}getCsv(x,A){const U={params:A,responseType:"text",headers:new b.WM({"X-Download":x})};return this.http.get(this.endpoint,U).pipe((0,C.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}add(x){const A=this.generateFormData(x);return this.http.post(this.endpoint,A).pipe((0,C.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u767b\u9332")))}bulkAdd(x){const A=this.generateFormData({file:x});return this.http.put(this.endpoint,A).pipe((0,C.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u4e00\u62ec\u767b\u9332")))}update(x,A){const U=this.generateFormData(A);return this.http.patch(`${this.endpoint}/${x}`,U).pipe((0,C.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u66f4\u65b0")))}remove(x){return this.http.delete(`${this.endpoint}/${x}`).pipe((0,C.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(){return this.getAll({$select:"id,name"}).pipe((0,S.U)(x=>x.data.map(U=>({value:U.id,text:U.name}))))}}return t.\u0275fac=function(){let Q;return function(A){return(Q||(Q=R.n5z(t)))(A||t)}}(),t.\u0275prov=R.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);