"use strict";(self.webpackChunknisshin=self.webpackChunknisshin||[]).push([[679],{3499:($,D,n)=>{n.d(D,{Y:()=>L});var s=n(5698),M=n(9300),u=n(8505),e=n(3900),C=n(8746),A=n(6585),c=n(1571),E=n(1690),m=n(1609),p=n(8782),g=n(1914),d=n(2125);let L=(()=>{class S{constructor(a,b,F,x){this.route=a,this.router=b,this.modal=F,this.flashMessage=x,this.loading=!1}ngOnDestroy(){this.subscription?.unsubscribe()}onClick(){this.subscription=this.modal.closeEventObservable$.pipe((0,s.q)(1),(0,M.h)(()=>this.modal.getModalProperties().title===A.yR.TITLE.DELETE),(0,M.h)(a=>a===A.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE),(0,u.b)(()=>this.loading=!0),(0,e.w)(()=>this.removeMethod$),(0,M.h)(a=>"\u524a\u9664\u3057\u307e\u3057\u305f"===a.message),(0,C.x)(()=>this.loading=!1)).subscribe(()=>{this.flashMessage.setFlashMessage("\u6b63\u5e38\u306b\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002","success",15e3),this.router.navigate([this.redirectPath],{relativeTo:this.route})}),this.modal.setModal(A.yR.TITLE.DELETE,A.yR.BODY.DELETE,"danger",A.yR.BUTTON_TITLE.DELETE,A.yR.BUTTON_TITLE.CANCEL)}}return S.\u0275fac=function(a){return new(a||S)(c.Y36(E.gz),c.Y36(E.F0),c.Y36(m.Z),c.Y36(p.P))},S.\u0275cmp=c.Xpm({type:S,selectors:[["app-delete-link"]],inputs:{removeMethod$:"removeMethod$",redirectPath:"redirectPath"},decls:5,vars:1,consts:[[1,"cursor-pointer",3,"click"],["icon","delete-bin-line","appendClassForIcon","fill-danger group-hover:fill-danger-hover"],[1,"text-gray-900","group-hover:text-danger-hover"],[3,"isLoading"]],template:function(a,b){1&a&&(c.TgZ(0,"div",0),c.NdJ("click",function(){return b.onClick()}),c.TgZ(1,"app-icon-container",1)(2,"p",2),c._uU(3,"\u524a\u9664"),c.qZA()()(),c._UZ(4,"app-loading-container",3)),2&a&&(c.xp6(4),c.Q6J("isLoading",b.loading))},dependencies:[g.J,d.o]}),S})()},6181:($,D,n)=>{n.d(D,{A:()=>C});var s=n(6895),M=n(1326),u=n(9104),e=n(1571);let C=(()=>{class A{}return A.\u0275fac=function(E){return new(E||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({imports:[s.ez,M.z,u.u]}),A})()},8461:($,D,n)=>{n.d(D,{a:()=>S});var s=n(4006),M=n(121),u=n(1571),e=n(6895),C=n(3761),A=n(1463),c=n(2231);function E(N,a){if(1&N){const b=u.EpF();u.TgZ(0,"li",9),u.NdJ("click",function(){const P=u.CHM(b).$implicit,y=u.oxw(2);return u.KtG(y.onClick(P))}),u._uU(1),u.qZA()}if(2&N){const b=a.$implicit;u.xp6(1),u.hij(" ",b," ")}}function m(N,a){if(1&N){const b=u.EpF();u.TgZ(0,"ul",7),u.NdJ("mouseover",function(){u.CHM(b);const x=u.oxw();return u.KtG(x.isHover=!0)})("mouseout",function(){u.CHM(b);const x=u.oxw();return u.KtG(x.isHover=!1)}),u.YNc(1,E,2,1,"li",8),u.qZA()}if(2&N){const b=u.oxw();u.xp6(1),u.Q6J("ngForOf",b.results)}}function p(N,a){if(1&N){const b=u.EpF();u.TgZ(0,"app-icon",10),u.NdJ("click",function(){u.CHM(b);const x=u.oxw();return u.KtG(x.clear())}),u.qZA()}}function g(N,a){if(1&N&&u._UZ(0,"app-error-messages",11),2&N){const b=u.oxw();u.Q6J("errors",b.formCtrl.errors)}}const d=function(N,a){return{"outline-none ring-1 ring-warning":N,"text-right":a}},L=["*"];let S=(()=>{class N{constructor(){this.type="text",this.useClear=!1,this.alignRight=!1,this.invalidOverride=!1,this.required=!1,this.timestamp="",this.suggests=[],this.isHover=!1,this.SUGGESTION_MAX_LENGTH=10}ngOnInit(){this.required=this.formCtrl.hasValidator(s.kI.required),this.timestamp=Date.now()+""+Math.floor(1e3*Math.random())}ngOnDestroy(){this.destroySuggests()}invalid(){return(this.formCtrl.touched||this.formCtrl.dirty)&&this.formCtrl.invalid}clear(){this.formCtrl.reset(),this.formCtrl.patchValue("")}onFocus(){if(!this.suggests.length)return;this.results=this.suggests.slice(0,this.SUGGESTION_MAX_LENGTH);const b=new M.Z(this.suggests,{shouldSort:!0});this.subscription=this.formCtrl.valueChanges.subscribe(F=>{this.results=b.search(F).slice(0,this.SUGGESTION_MAX_LENGTH).map(x=>x.item)})}onBlur(){this.isHover||this.destroySuggests()}onClick(b){this.formCtrl.patchValue(b),this.destroySuggests()}destroySuggests(){this.subscription?.unsubscribe(),this.results=void 0,this.isHover=!1}}return N.\u0275fac=function(b){return new(b||N)},N.\u0275cmp=u.Xpm({type:N,selectors:[["app-input"]],inputs:{formCtrl:"formCtrl",type:"type",useClear:"useClear",alignRight:"alignRight",invalidOverride:"invalidOverride",suggests:"suggests"},ngContentSelectors:L,decls:8,vars:12,consts:[[3,"for","required"],[1,"flex","items-center"],[1,"grow","relative"],[1,"p-2","block","w-full","border","border-iron-blue-400","rounded","focus:placeholder-transparent","focus:outline-none","focus:border","focus:border-primary","focus:ring-1",3,"ngClass","type","id","formControl","focus","blur"],["class","absolute w-full z-10 border border-t-0 shadow",3,"mouseover","mouseout",4,"ngIf"],["icon","close-circle-fill","class","w-6 ml-1 fill-slate-500 cursor-pointer",3,"click",4,"ngIf"],[3,"errors",4,"ngIf"],[1,"absolute","w-full","z-10","border","border-t-0","shadow",3,"mouseover","mouseout"],["class","bg-white hover:bg-slate-100 cursor-pointer p-2",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","hover:bg-slate-100","cursor-pointer","p-2",3,"click"],["icon","close-circle-fill",1,"w-6","ml-1","fill-slate-500","cursor-pointer",3,"click"],[3,"errors"]],template:function(b,F){1&b&&(u.F$t(),u.TgZ(0,"app-label",0),u.Hsn(1),u.qZA(),u.TgZ(2,"div",1)(3,"div",2)(4,"input",3),u.NdJ("focus",function(){return F.onFocus()})("blur",function(){return F.onBlur()}),u.qZA(),u.YNc(5,m,2,1,"ul",4),u.qZA(),u.YNc(6,p,1,0,"app-icon",5),u.qZA(),u.YNc(7,g,1,1,"app-error-messages",6)),2&b&&(u.Q6J("for",F.timestamp)("required",F.required),u.xp6(4),u.Q6J("ngClass",u.WLB(9,d,F.invalid()||F.invalidOverride,F.alignRight))("type",F.type)("id",F.timestamp)("formControl",F.formCtrl),u.xp6(1),u.Q6J("ngIf",F.results),u.xp6(1),u.Q6J("ngIf",F.useClear),u.xp6(1),u.Q6J("ngIf",F.invalid()))},dependencies:[e.mk,e.sg,e.O5,s.Fj,s.JJ,s.oH,C.o,A.O,c._]}),N})()},3313:($,D,n)=>{n.d(D,{f:()=>Nt});var s=n(1690),M=n(727),u=n(9300),e=n(1571),C=n(8832),A=n(6895);let c=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-toggle-button"]],decls:7,vars:0,consts:[[1,"mt-8"],["routerLink","../product","routerLinkActive","active"],["routerLink","../client","routerLinkActive","active"],["routerLink","../supplier","routerLinkActive","active"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2,"\u5546\u54c1\u30de\u30b9\u30bf"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\u5f97\u610f\u5148\u30de\u30b9\u30bf"),e.qZA(),e.TgZ(5,"button",3),e._uU(6," \u4ed5\u5165\u5148\u30de\u30b9\u30bf "),e.qZA()())},dependencies:[s.rH,s.Od],styles:["button[_ngcontent-%COMP%]{border-width:1px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:.25rem 1rem}button[_ngcontent-%COMP%]:first-child{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}button[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}"]}),o})();var E=n(7030),m=n(2125);function p(o,l){1&o&&e._UZ(0,"app-toggle-button")}let g=(()=>{class o{constructor(i,t){this.common=i,this.router=t,this.loading=!1,this.subscription=new M.w0,this.breadcrumbList=[]}ngOnInit(){this.subscription=this.common.loading$.subscribe(i=>{setTimeout(()=>this.loading=i)}),this.subscription.add(this.router.events.pipe((0,u.h)(i=>i instanceof s.m2)).subscribe(i=>this.breadcrumbList=this.createBreadcrumbList(i.urlAfterRedirects))),this.breadcrumbList=this.createBreadcrumbList(this.router.url)}ngOnDestroy(){this.subscription?.unsubscribe()}createBreadcrumbList(i){const t=i.replace(/.*\/master\/?/,"").split("/"),r=[{name:"supplier",name_jp:"\u4ed5\u5165\u5148"},{name:"product",name_jp:"\u5546\u54c1"},{name:"client",name_jp:"\u5f97\u610f\u5148"}].find(h=>h.name===t[0])?.name_jp,_=[{path:`/master/${t[0]}`,text:`${r}\u4e00\u89a7`}];switch(t[1]){case"add":_.push({text:`${r}\u65b0\u898f\u767b\u9332`});break;case"bulk-add":_.push({text:`${r}\u4e00\u62ec\u767b\u9332`});break;case"detail":_.push({text:`${r}\u8a73\u7d30`});break;case"edit":_.push({path:`/master/${t[0]}/detail/${t[2]}`,text:`${r}\u8a73\u7d30`},{text:`${r}\u7de8\u96c6`});break;default:delete _[0].path}return"supplier"===t[0]&&t.length>3&&(_[1].path=`/master/${t[0]}/detail/${t[2]}`,_.push({text:"\u4ed5\u5165\u5148\u5546\u54c1\u4e00\u89a7"}),t.length>4&&(_[2].path=`${_[1].path}/products`,_.push({text:"\u4ed5\u5165\u5148\u5546\u54c1\u8a73\u7d30"}))),_}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(C.v),e.Y36(s.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-master"]],decls:4,vars:3,consts:[[3,"breadcrumbList"],[4,"ngIf"],[3,"isLoading"]],template:function(i,t){1&i&&(e._UZ(0,"app-breadcrumb-org",0),e.YNc(1,p,1,0,"app-toggle-button",1),e._UZ(2,"router-outlet")(3,"app-loading-container",2)),2&i&&(e.Q6J("breadcrumbList",t.breadcrumbList),e.xp6(1),e.Q6J("ngIf",t.breadcrumbList.length<2),e.xp6(2),e.Q6J("isLoading",t.loading))},dependencies:[A.O5,s.lC,c,E.Z,m.o]}),o})();var d=n(262),L=n(8746),S=n(4181),N=n(7655),a=n(4006),b=n(4562),F=n(7266),x=n(8461),P=n(8656);let y=(()=>{class o{constructor(i,t,r){this.fb=i,this.common=t,this.service=r,this.form=this.fb.group({name:"",tel:"",province:"",locality:"",cutoff_date_billing:""}),this.fileNamePrefix="\u4ed5\u5165\u5148",this.options={province:[],cutoff_date_billing:[]},this.tableParams={},this.columnNameMappings=[{name:"id",name_jp:"ID"},{name:"name",name_jp:"\u4ed5\u5165\u5148\u540d"},{name:"tel",name_jp:"\u96fb\u8a71\u756a\u53f7"},{name:"pic_name",name_jp:"\u62c5\u5f53\u8005\u540d"},{name:"province",name_jp:"\u4f4f\u6240"}]}get fc(){return this.form.controls}get export$(){const i=this.common.formatFormData(this.form.value);return this.service.getCsv("csv",i).pipe((0,d.K)(this.service.handleErrorModal("")),(0,L.x)(()=>this.common.loading=!1))}ngOnInit(){this.initOptions()}updateTable(i){const r=this.common.createApiParams(this.form.value,i,this.columnNameMappings);this.common.loading=!0,this.service.getAll(r).pipe((0,d.K)(this.service.handleErrorModal()),(0,L.x)(()=>this.common.loading=!1)).subscribe(_=>{console.log(_),this.tableParams=this.common.createTableParams(_,this.columnNameMappings,this.modifiedTableBody)})}onExportStatusChange(i){i===S.U.START&&(this.common.loading=!0)}initOptions(){this.options.province=N.J.map(i=>({value:i,text:i}));for(let i=1;i<31;i++)this.options.cutoff_date_billing.push({value:i,text:i+"\u65e5"});this.options.cutoff_date_billing.push({value:99,text:"\u672b\u65e5"}),Object.values(this.options).map(i=>i.unshift({value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}))}modifiedTableBody(i){return t=>{if(""===i[t.name])return i[t.name];if("id"===t.name)return{href:`./detail/${i[t.name]}`,text:i[t.name]+""};if("province"===t.name){const{postal_code:r,province:_,locality:h,street_address:f,other_address:U}=i;return`${r?`\u3012${r.slice(0,3)}-${r.slice(3)} `:""}${_}${h}${f} ${U}`}return i[t.name]}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(C.v),e.Y36(b.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:16,vars:16,consts:[[3,"tableParams","formCtrl","export$","fileNamePrefix","paramsChange","exportStatusChange"],["tableTitle",""],["search",""],[1,"flex","gap-6"],[1,"w-1/2",3,"formCtrl","useClear"],[1,"w-1/3",3,"formCtrl","useClear"],[1,"flex","gap-6","mt-6"],[1,"w-1/4",3,"formCtrl","options","useClear"],[1,"w-1/4",3,"formCtrl","useClear"],[3,"formCtrl","options","useClear"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-list",0),e.NdJ("paramsChange",function(_){return t.updateTable(_)})("exportStatusChange",function(_){return t.onExportStatusChange(_)}),e.ynx(1,1),e._uU(2,"\u4ed5\u5165\u5148\u4e00\u89a7"),e.BQk(),e.ynx(3,2),e.TgZ(4,"div",3)(5,"app-input",4),e._uU(6," \u4ed5\u5165\u5148\u540d "),e.qZA(),e.TgZ(7,"app-input",5),e._uU(8," \u96fb\u8a71\u756a\u53f7 "),e.qZA()(),e.TgZ(9,"div",6)(10,"app-select",7),e._uU(11," \u90fd\u9053\u5e9c\u770c "),e.qZA(),e.TgZ(12,"app-input",8),e._uU(13," \u5e02\u533a\u753a\u6751 "),e.qZA(),e.TgZ(14,"app-select",9),e._uU(15," \u7de0\u65e5 "),e.qZA()(),e.BQk(),e.qZA()),2&i&&(e.Q6J("tableParams",t.tableParams)("formCtrl",t.form)("export$",t.export$)("fileNamePrefix",t.fileNamePrefix),e.xp6(5),e.Q6J("formCtrl",t.fc.name)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.tel)("useClear",!0),e.xp6(3),e.Q6J("formCtrl",t.fc.province)("options",t.options.province)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.locality)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.cutoff_date_billing)("options",t.options.cutoff_date_billing)("useClear",!0))},dependencies:[F.n,x.a,P.H]}),o})();var R=n(4128),v=n(2340),O=n(1751);let k=(()=>{class o extends O.O{constructor(){super(...arguments),this.endpoint=v.pU.supplierCustomTagApi.endpoint}getAll(i={}){return this.httpOptions.params=i,this.http.get(this.endpoint,this.httpOptions).pipe((0,d.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\u95a2\u9023\u30c6\u30fc\u30d6\u30eb\u306e\u53d6\u5f97")))}getRelatedCustomTags(i){return this.getAll({supplier_id:i})}}return o.\u0275fac=function(){let l;return function(t){return(l||(l=e.n5z(o)))(t||o)}}(),o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var J=n(4617),ne=n(1914);function Fe(o,l){if(1&o&&(e.TgZ(0,"app-icon-container",13),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i.name_jp," ")}}function Se(o,l){if(1&o&&(e.TgZ(0,"app-icon-container",14),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i.name_jp," ")}}function Oe(o,l){if(1&o&&(e.TgZ(0,"app-icon-container",24),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i.name_jp," ")}}function Ue(o,l){if(1&o&&(e.TgZ(0,"tr",18)(1,"td",19),e.YNc(2,Fe,2,1,"app-icon-container",20),e.YNc(3,Se,2,1,"app-icon-container",21),e.YNc(4,Oe,2,1,"app-icon-container",22),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA()()),2&o){const i=l.$implicit;e.xp6(1),e.Q6J("ngSwitch",i.visibility),e.xp6(1),e.Q6J("ngSwitchCase","visible"),e.xp6(1),e.Q6J("ngSwitchCase","hidden"),e.xp6(3),e.Oqu(i.value)}}function Ze(o,l){if(1&o&&(e.TgZ(0,"tr",18)(1,"td",25)(2,"app-icon-container",14),e._uU(3," \u30ab\u30b9\u30bf\u30e0\u30bf\u30b0 "),e.qZA()(),e.TgZ(4,"td",23),e._uU(5),e.qZA()()),2&o){const i=l.$implicit;e.xp6(5),e.Oqu(i)}}let ye=(()=>{class o{constructor(i,t,r,_){this.route=i,this.common=t,this.service=r,this.customTags=_,this.id=this.route.snapshot.params.id,this.updater="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.title="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d",this.logo="assets/images/no_image.png",this.receivable="-",this.remove$=this.service.remove(this.id).pipe((0,d.K)(this.service.handleErrorModal())),this.listItems=[{name:"name",name_jp:"\u4ed5\u5165\u5148\u540d",visibility:"visible"},{name:"name_kana",name_jp:"\u4ed5\u5165\u5148\u540d\u30ab\u30ca",visibility:"visible"},{name:"postal_code",name_jp:"\u4f4f\u6240",visibility:"visible"},{name:"tel",name_jp:"\u96fb\u8a71\u756a\u53f7",visibility:"visible"},{name:"fax",name_jp:"FAX\u756a\u53f7",visibility:"visible"},{name:"mail",name_jp:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",visibility:"visible"},{name:"cutoff_date_billing",name_jp:"\u652f\u6255\u60c5\u5831",visibility:"visible"},{name:"division_sales_fraction_value",name_jp:"\u8ca9\u58f2\u7aef\u6570\u533a\u5206",visibility:"visible"},{name:"division_sales_tax_value",name_jp:"\u6d88\u8cbb\u7a0e\u533a\u5206",visibility:"visible"},{name:"division_sales_tax_calc_value",name_jp:"\u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206",visibility:"visible"},{name:"division_sales_tax_fraction_value",name_jp:"\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206",visibility:"visible"},{name:"pic_name",name_jp:"\u62c5\u5f53\u8005\u540d",visibility:"visible"},{name:"pic_name_kana",name_jp:"\u62c5\u5f53\u8005\u540d\u30ab\u30ca",visibility:"visible"},{name:"payee_1",name_jp:"\u632f\u8fbc\u51481",visibility:"visible"},{name:"payee_2",name_jp:"\u632f\u8fbc\u51482",visibility:"visible"},{name:"remarks_1",name_jp:"\u5099\u80031",visibility:"hidden"},{name:"remarks_2",name_jp:"\u5099\u80032",visibility:"hidden"},{name:"last_login_at",name_jp:"\u6700\u7d42\u30ed\u30b0\u30a4\u30f3\u65e5\u6642",visibility:"visible"},{name:"created_at",name_jp:"\u767b\u9332\u65e5\u6642",visibility:"hidden"},{name:"employee_created_last_name",name_jp:"\u767b\u9332\u8005",visibility:"hidden"},{name:"updated_at",name_jp:"\u6700\u7d42\u66f4\u65b0\u65e5\u6642",visibility:"hidden"},{name:"employee_updated_last_name",name_jp:"\u6700\u7d42\u66f4\u65b0\u8005",visibility:"hidden"}],this.tags=[]}ngOnInit(){const i=this.service.find(this.id).pipe((0,d.K)(this.service.handleErrorModal())),t=this.customTags.getRelatedCustomTags(this.id).pipe((0,d.K)(this.customTags.handleErrorModal()));this.common.loading=!0,(0,R.D)({ss:i,ct:t}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{const _=r.ss.data[0];this.title=_.name,this.updater=`${_.employee_updated_last_name} ${_.employee_updated_first_name}`,_.account_payable&&(this.receivable=_.account_payable.toLocaleString()),_.logo_image_path&&(this.logo=_.logo_image_path),this.setListItemValue(_),this.tags=r.ct.data.map(h=>`${h.custom_tag_name}: ${h.custom_tag_value}`)})}setListItemValue(i){this.listItems.filter(t=>t.name).forEach(t=>{t.value=(i[t.name]??"")+""}),this.listItems.forEach(t=>{if(t.value){if("postal_code"===t.name){const r=`\u3012${t.value.slice(0,3)}-${t.value.slice(3)}`,{province:_,locality:h,street_address:f,other_address:U}=i;t.value=`${r} ${_}${h}${f} ${U}`}if("cutoff_date_billing"===t.name){const r=f=>f?99===f?"\u672b\u65e5":`${f}\u65e5`:"",_=`${r(i.cutoff_date_billing)}\u7de0\u3081`;let h="";(i.division_payment_site_value||i.scheduled_payment_date)&&(h=`${i.division_payment_site_value}${r(i.scheduled_payment_date)}\u6255\u3044`),t.value=`${_}${h}\uff08${i.division_payment_value}\uff09`}["created_at","updated_at","last_login_at"].includes(t.name)&&(t.value=new Date(t.value).toLocaleString()),"employee_created_last_name"===t.name&&(t.value=`${i.employee_created_last_name} ${i.employee_created_first_name}`),"employee_updated_last_name"===t.name&&(t.value=`${i.employee_updated_last_name} ${i.employee_updated_first_name}`)}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.gz),e.Y36(C.v),e.Y36(b.p),e.Y36(k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detail"]],decls:28,vars:7,consts:[[3,"remove$"],["pageTitle",""],["updater",""],["detailTitle",""],["optionalLink","","icon","list-unordered","appendClassForIcon","fill-emerald-600 group-hover:fill-emerald-400","routerLink","./products",1,"cursor-pointer"],[1,"group-hover:text-emerald-400"],["detailContent","",1,"mt-2"],["icon","money-cny-box-line","appendClassForIcon","w-8 fill-warning"],[1,"text-2xl"],[1,"mt-4","flex","gap-6"],["alt","\u30ed\u30b4\u753b\u50cf",1,"w-[240px]","self-start",3,"src"],[1,"grow"],[1,"ml-1","flex","gap-4","text-sm"],["icon","eye-line","appendClassForIcon","fill-success"],["icon","eye-off-line","appendClassForIcon","fill-danger"],[1,"mt-1","w-full","shadow"],["class","border border-slate-200",4,"ngFor","ngForOf"],[1,"mt-6","w-full","shadow"],[1,"border","border-slate-200"],[1,"p-4","w-1/4","bg-slate-100",3,"ngSwitch"],["icon","eye-line","appendClassForIcon","fill-success",4,"ngSwitchCase"],["icon","eye-off-line","appendClassForIcon","fill-danger",4,"ngSwitchCase"],["icon","edit-2-line","appendClassForIcon","fill-warning",4,"ngSwitchDefault"],[1,"p-4"],["icon","edit-2-line","appendClassForIcon","fill-warning"],[1,"p-4","w-1/4","bg-slate-100"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-detail",0),e.ynx(1,1),e._uU(2,"\u4ed5\u5165\u5148\u8a73\u7d30"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"app-icon-container",4)(8,"span",5),e._uU(9,"\u4ed5\u5165\u5148\u5546\u54c1\u4e00\u89a7"),e.qZA()(),e.TgZ(10,"div",6)(11,"app-icon-container",7)(12,"p",8),e._uU(13),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"img",10),e.TgZ(16,"div",11)(17,"div",12)(18,"p"),e._uU(19,"\u4ed5\u5165\u5148Web\u30b7\u30b9\u30c6\u30e0\u3067\u306e\u72b6\u614b\uff1a"),e.qZA(),e.TgZ(20,"app-icon-container",13),e._uU(21," \u898b\u3048\u308b "),e.qZA(),e.TgZ(22,"app-icon-container",14),e._uU(23," \u898b\u3048\u306a\u3044 "),e.qZA()(),e.TgZ(24,"table",15),e.YNc(25,Ue,7,4,"tr",16),e.qZA(),e.TgZ(26,"table",17),e.YNc(27,Ze,6,1,"tr",16),e.qZA()()()()()),2&i&&(e.Q6J("remove$",t.remove$),e.xp6(4),e.Oqu(t.updater),e.xp6(2),e.Oqu(t.title),e.xp6(7),e.hij("\u524d\u56de\u8cb7\u639b\u6b8b\uff1a",t.receivable," \u5186"),e.xp6(2),e.Q6J("src",t.logo,e.LSH),e.xp6(10),e.Q6J("ngForOf",t.listItems),e.xp6(2),e.Q6J("ngForOf",t.tags))},dependencies:[A.sg,A.RF,A.n9,A.ED,J.J,ne.J,s.rH]}),o})();var ae=n(5450),oe=n(8037),T=n(349);const X={CHARACTER_LIMITS:{NAME_MAX_LENGTH:"25",NAME_KANA_MAX_LENGTH:"25",PIC_NAME_MAX_LENGTH:"25",PIC_NAME_KANA_MAX_LENGTH:"25",POSTAL_CODE_MAX_LENGTH:"7",POSTAL_CODE_MIN_LENGTH:"7",PROVINCE_MAX_LENGTH:"4",LOCALITY_MAX_LENGTH:"20",STREET_ADDRESS_MAX_LENGTH:"20",OTHER_ADDRESS_MAX_LENGTH:"20",TEL_MAX_LENGTH:"16",FAX_MAX_LENGTH:"16",MAIL_MAX_LENGTH:"255",REMARKS_1_MAX_LENGTH:"255",REMARKS_2_MAX_LENGTH:"255",PAYEE_1_MAX_LENGTH:"255",PAYEE_2_MAX_LENGTH:"255",PASSWORD_MAX_LENGTH:"24",PASSWORD_MIN_LENGTH:"8"}};var W=n(1269),j=n(6232),Y=n(2124),re=n(332),he=n(5320),_e=n(4840),ue=n(7596);function Be(o,l){if(1&o&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.errorConst.FORM_ERROR.PASSWORD_MATCH_VIOLATION," ")}}function xe(o,l){if(1&o&&(e.TgZ(0,"div",11)(1,"div")(2,"app-input",20),e._uU(3," \u30ed\u30b0\u30a4\u30f3\u7528\u30d1\u30b9\u30ef\u30fc\u30c9 "),e.qZA(),e.TgZ(4,"p",21),e._uU(5),e.qZA()(),e.TgZ(6,"div")(7,"app-input",22),e._uU(8," \u30ed\u30b0\u30a4\u30f3\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\uff09 "),e.qZA(),e.YNc(9,Be,2,1,"p",23),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Q6J("formCtrl",i.fc_pw.password),e.xp6(3),e.AsE(" \u203b \u534a\u89d2\u82f1\u6570",i.supplierConst.CHARACTER_LIMITS.PASSWORD_MIN_LENGTH,"~",i.supplierConst.CHARACTER_LIMITS.PASSWORD_MAX_LENGTH,"\u6587\u5b57\uff08\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u30fb\u6570\u5b57\u3092\u305d\u308c\u305e\u308c1\u6587\u5b57\u305a\u3064\u542b\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff09 "),e.xp6(2),e.Q6J("formCtrl",i.fc_pw.confirm)("invalidOverride",null==i.fc.password.errors?null:i.fc.password.errors.confirmPassword),e.xp6(2),e.Q6J("ngIf",null==i.fc.password.errors?null:i.fc.password.errors.isPasswordSame)}}let ge=(()=>{class o{constructor(i,t,r,_,h,f,U){this.fb=i,this.authorService=t,this.route=r,this.common=_,this.service=h,this.customTags=f,this.divisions=U,this.supplierConst=X,this.errorConst=oe.c,this.id=this.route.snapshot.params.id,this.updater="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.authorname="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.apiService=this.service,this.modifyFormValue=()=>{const Z={...this.form.value};return Z.password&&(Z.password=Z.password?.password),Z.supplier_custom_tag=this.form.value.supplier_custom_tag?.filter(H=>H.name&&H.value),Z.supplier_custom_tag.forEach(H=>H.custom_tag_id?"":delete H.custom_tag_id),Z},this.form=this.fb.group({name:["",[a.kI.required,a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.NAME_MAX_LENGTH))]],name_kana:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH)),a.kI.pattern(T.m.FULL_WIDTH_KATAKANA_REG_EX)]],pic_name:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.PIC_NAME_MAX_LENGTH))]],pic_name_kana:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.PIC_NAME_KANA_MAX_LENGTH)),a.kI.pattern(T.m.FULL_WIDTH_KATAKANA_REG_EX)]],postal_code:["",[a.kI.required,a.kI.minLength(Number(this.supplierConst.CHARACTER_LIMITS.POSTAL_CODE_MIN_LENGTH)),a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.POSTAL_CODE_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],province:["",[a.kI.required]],locality:["",[a.kI.required,a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.LOCALITY_MAX_LENGTH))]],street_address:["",[a.kI.required,a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.STREET_ADDRESS_MAX_LENGTH))]],other_address:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.OTHER_ADDRESS_MAX_LENGTH))]],mail:["",[a.kI.required,a.kI.email,a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.MAIL_MAX_LENGTH))]],tel:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.TEL_MAX_LENGTH))]],fax:["",[a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.FAX_MAX_LENGTH))]],password:this.fb.group({password:["",[a.kI.required,a.kI.minLength(Number(this.supplierConst.CHARACTER_LIMITS.PASSWORD_MIN_LENGTH)),a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.PASSWORD_MAX_LENGTH)),a.kI.pattern(T.m.PASSWORD_REG_EX)]],confirm:["",[a.kI.required]]},{validators:[ae.d.compareValidator("password","confirm")]}),payee_1:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.PAYEE_1_MAX_LENGTH))]],payee_2:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.PAYEE_2_MAX_LENGTH))]],payment_division_id:["",[a.kI.required]],cutoff_date_billing:["",[a.kI.required]],scheduled_payment_date:"",payment_site_division_id:"",sales_fraction_division_id:[""],sales_tax_division_id:["",[a.kI.required]],sales_tax_calc_division_id:["",[a.kI.required]],sales_tax_fraction_division_id:["",[a.kI.required]],remarks_1:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH))]],remarks_2:["",[a.kI.maxLength(Number(this.supplierConst.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH))]],supplier_custom_tag:this.fb.array([this.fb.group({custom_tag_id:"",name:"",value:""})]),logo_image:null,logo_image_path:""}),this.options={province:[],cutoff_date_billing:[],scheduled_payment_date:[],payment_division_id:[],payment_site_division_id:[],sales_fraction_division_id:[],sales_tax_division_id:[],sales_tax_calc_division_id:[],sales_tax_fraction_division_id:[]},this.subscription=new M.w0}get fc(){return this.form.controls}get fc_pw(){return this.fc.password.controls}ngOnInit(){if(this.initOptions(),this.authorService.author?(this.author=this.authorService.author,this.authorname=`${this.author.last_name} ${this.author.first_name}`):this.subscription.add(this.authorService.author$.subscribe(r=>{this.author=r,this.authorname=`${this.author.last_name} ${this.author.first_name}`})),!this.id)return;this.fc.password.disable();const i=this.service.find(this.id).pipe((0,d.K)(this.service.handleErrorModal())),t=this.customTags.getRelatedCustomTags(this.id).pipe((0,d.K)(this.customTags.handleErrorModal()));this.common.loading=!0,(0,R.D)({ss:i,ct:t}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{const _=r.ss.data[0];this.form.patchValue(_),this.updater=`${_.employee_updated_last_name} ${_.employee_updated_first_name}`;const h=r.ct.data;h.length&&this.fc.supplier_custom_tag.clear(),h.map(f=>this.fc.supplier_custom_tag.push(this.fb.group({custom_tag_id:f.custom_tag_id+"",name:f.custom_tag_name,value:f.custom_tag_value})))})}listenStateChange(i){this.common.loading=!!i}initOptions(){this.common.loading=!0,this.divisions.getAsSelectOptions().pipe((0,d.K)(this.divisions.handleErrorModal({})),(0,L.x)(()=>this.common.loading=!1)).subscribe(i=>{this.options.payment_division_id=i.\u4ed5\u5165\u5148\u652f\u6255\u533a\u5206,this.options.payment_site_division_id=i.\u652f\u6255\u3044\u30b5\u30a4\u30c8,this.options.sales_fraction_division_id=i.\u8ca9\u58f2\u7aef\u6570\u533a\u5206,this.options.sales_tax_division_id=i.\u4ed5\u5165\u5148\u6d88\u8cbb\u7a0e\u533a\u5206,this.options.sales_tax_calc_division_id=i.\u5f97\u610f\u5148\u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206,this.options.sales_tax_fraction_division_id=i.\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206,this.options.province=N.J.map(r=>({value:r,text:r}));const t=[...Array(30)].map((r,_)=>({value:_+1,text:`${_+1}\u65e5`}));if(t.push({value:99,text:"\u672b\u65e5"}),this.options.cutoff_date_billing=[...t],this.options.scheduled_payment_date=[...t],Object.values(this.options).forEach(r=>r.unshift({value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})),!this.id){const _=this.options.sales_fraction_division_id.find(h=>"\u56db\u6368\u4e94\u5165"===h.text)?.value?.toString()||"";this.form.patchValue({sales_fraction_division_id:_})}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(W.Y),e.Y36(s.gz),e.Y36(C.v),e.Y36(b.p),e.Y36(k),e.Y36(j.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit"]],decls:81,vars:58,consts:[[3,"service","formCtrl","modFn","statusChange"],["pageTitle",""],["updater",""],["authorname",""],["form",""],["formTitle",""],["formContent","",1,"flex","flex-col","gap-4"],[1,"flex","gap-16"],[1,"w-1/3","order-2",3,"fileCtrl","pathCtrl"],[1,"flex","flex-col","gap-6","w-2/3"],[3,"formCtrl"],[1,"flex","gap-6","[&>*]:w-1/2"],[1,"flex","gap-6"],[1,"w-1/2",3,"formCtrl"],[1,"w-1/3",3,"formCtrl","options"],[1,"flex","gap-6","[&>*]:w-1/3"],["class","flex gap-6 [&>*]:w-1/2",4,"ngIf"],[1,"flex","gap-6","[&>*]:w-1/6"],[3,"formCtrl","options"],[3,"formArray"],["type","password",3,"formCtrl"],[1,"ml-1","text-sm","text-primary"],["type","password",3,"formCtrl","invalidOverride"],["class","ml-1 text-sm text-red",4,"ngIf"],[1,"ml-1","text-sm","text-red"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-add-edit",0),e.NdJ("statusChange",function(_){return t.listenStateChange(_)}),e.ynx(1,1),e._uU(2),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.ynx(5,3),e._uU(6),e.BQk(),e.TgZ(7,"app-form-block",4),e.ynx(8,5),e._uU(9,"\u4ed5\u5165\u5148\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(10,"div",6)(11,"div",7)(12,"app-file-with-preview",8),e._uU(13," \u4ed5\u5165\u5148\u30ed\u30b4\u753b\u50cf "),e.qZA(),e.TgZ(14,"div",9)(15,"app-input",10),e._uU(16),e.qZA(),e.TgZ(17,"app-input",10),e._uU(18),e.qZA(),e.TgZ(19,"div",11)(20,"app-input",10),e._uU(21),e.qZA(),e.TgZ(22,"app-input",10),e._uU(23),e.qZA()(),e.TgZ(24,"div",12)(25,"app-input",13),e._uU(26),e.qZA(),e.TgZ(27,"app-select",14),e._uU(28," \u90fd\u9053\u5e9c\u770c "),e.qZA()()()(),e.TgZ(29,"div",15)(30,"app-input",10),e._uU(31),e.qZA(),e.TgZ(32,"app-input",10),e._uU(33),e.qZA(),e.TgZ(34,"app-input",10),e._uU(35),e.qZA()(),e.TgZ(36,"div",15)(37,"app-input",10),e._uU(38),e.qZA(),e.TgZ(39,"app-input",10),e._uU(40),e.qZA(),e.TgZ(41,"app-input",10),e._uU(42),e.qZA()(),e.YNc(43,xe,10,6,"div",16),e.TgZ(44,"div",11)(45,"app-input",10),e._uU(46),e.qZA(),e.TgZ(47,"app-input",10),e._uU(48),e.qZA()()()(),e.TgZ(49,"app-form-block",4),e.ynx(50,5),e._uU(51,"\u533a\u5206\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(52,"div",6)(53,"div",17)(54,"app-select",18),e._uU(55," \u652f\u6255\u533a\u5206 "),e.qZA(),e.TgZ(56,"app-select",18),e._uU(57," \u7de0\u65e5 "),e.qZA(),e.TgZ(58,"app-select",18),e._uU(59," \u652f\u6255\u30b5\u30a4\u30c8 "),e.qZA(),e.TgZ(60,"app-select",18),e._uU(61," \u652f\u6255\u65e5 "),e.qZA(),e.TgZ(62,"app-select",18),e._uU(63," \u8ca9\u58f2\u7aef\u6570\u533a\u5206 "),e.qZA()(),e.TgZ(64,"div",17)(65,"app-select",18),e._uU(66," \u6d88\u8cbb\u7a0e\u533a\u5206 "),e.qZA(),e.TgZ(67,"app-select",18),e._uU(68," \u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206 "),e.qZA(),e.TgZ(69,"app-select",18),e._uU(70," \u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206 "),e.qZA()()()(),e.TgZ(71,"app-form-block",4),e.ynx(72,5),e._uU(73,"\u305d\u306e\u4ed6\u5c5e\u6027\u60c5\u5831"),e.BQk(),e.TgZ(74,"div",6)(75,"app-textarea",10),e._uU(76),e.qZA(),e.TgZ(77,"app-textarea",10),e._uU(78),e.qZA(),e.TgZ(79,"app-custom-tag-form",19),e._uU(80," \u30ab\u30b9\u30bf\u30e0\u30bf\u30b0 "),e.qZA()()()()),2&i&&(e.Q6J("service",t.apiService)("formCtrl",t.form)("modFn",t.modifyFormValue),e.xp6(2),e.hij(" ",t.id?"\u4ed5\u5165\u5148\u7de8\u96c6":"\u4ed5\u5165\u5148\u65b0\u898f\u767b\u9332"," "),e.xp6(2),e.Oqu(t.updater),e.xp6(2),e.Oqu(t.authorname),e.xp6(6),e.Q6J("fileCtrl",t.fc.logo_image)("pathCtrl",t.fc.logo_image_path),e.xp6(3),e.Q6J("formCtrl",t.fc.name),e.xp6(1),e.hij("\u4ed5\u5165\u5148\u540d\uff08",t.supplierConst.CHARACTER_LIMITS.NAME_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.name_kana),e.xp6(1),e.hij(" \u4ed5\u5165\u5148\u540d\u30ab\u30ca\uff08\u5168\u89d2\u30ab\u30ca",t.supplierConst.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.pic_name),e.xp6(1),e.hij(" \u62c5\u5f53\u8005\u540d\uff08",t.supplierConst.CHARACTER_LIMITS.PIC_NAME_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.pic_name_kana),e.xp6(1),e.hij(" \u62c5\u5f53\u8005\u30ab\u30ca\uff08\u5168\u89d2\u30ab\u30ca",t.supplierConst.CHARACTER_LIMITS.PIC_NAME_KANA_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.postal_code),e.xp6(1),e.hij(" \u90f5\u4fbf\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057",t.supplierConst.CHARACTER_LIMITS.POSTAL_CODE_MAX_LENGTH,"\u6587\u5b57\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.province)("options",t.options.province),e.xp6(3),e.Q6J("formCtrl",t.fc.locality),e.xp6(1),e.hij("\u5e02\u533a\u753a\u6751\uff08",t.supplierConst.CHARACTER_LIMITS.LOCALITY_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.street_address),e.xp6(1),e.hij(" \u753a\u540d\u756a\u5730\uff08",t.supplierConst.CHARACTER_LIMITS.STREET_ADDRESS_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.other_address),e.xp6(1),e.hij(" \u5efa\u7269\u540d\u306a\u3069\uff08",t.supplierConst.CHARACTER_LIMITS.OTHER_ADDRESS_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.mail),e.xp6(1),e.hij("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08",t.supplierConst.CHARACTER_LIMITS.MAIL_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.tel),e.xp6(1),e.hij("\u96fb\u8a71\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57",t.supplierConst.CHARACTER_LIMITS.TEL_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.fax),e.xp6(1),e.hij("FAX\u756a\u53f7\uff08",t.supplierConst.CHARACTER_LIMITS.FAX_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("ngIf",!t.id),e.xp6(2),e.Q6J("formCtrl",t.fc.payee_1),e.xp6(1),e.hij("\u632f\u8fbc\u51481\uff08",t.supplierConst.CHARACTER_LIMITS.PAYEE_1_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.payee_2),e.xp6(1),e.hij("\u632f\u8fbc\u51482\uff08",t.supplierConst.CHARACTER_LIMITS.PAYEE_2_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(6),e.Q6J("formCtrl",t.fc.payment_division_id)("options",t.options.payment_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.cutoff_date_billing)("options",t.options.cutoff_date_billing),e.xp6(2),e.Q6J("formCtrl",t.fc.payment_site_division_id)("options",t.options.payment_site_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.scheduled_payment_date)("options",t.options.scheduled_payment_date),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_fraction_division_id)("options",t.options.sales_fraction_division_id),e.xp6(3),e.Q6J("formCtrl",t.fc.sales_tax_division_id)("options",t.options.sales_tax_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_tax_calc_division_id)("options",t.options.sales_tax_calc_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_tax_fraction_division_id)("options",t.options.sales_tax_fraction_division_id),e.xp6(6),e.Q6J("formCtrl",t.fc.remarks_1),e.xp6(1),e.hij("\u5099\u80031\uff08",t.supplierConst.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.remarks_2),e.xp6(1),e.hij("\u5099\u80032\uff08",t.supplierConst.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formArray",t.fc.supplier_custom_tag))},dependencies:[A.O5,Y.Z,re.Q,x.a,P.H,he.k,_e.R,ue.A]}),o})();var le=n(1536);let Pe=(()=>{class o{constructor(i,t,r){this.common=i,this.service=t,this.authorService=r,this.supplierConst=X,this.fileNamePrefix="\u4ed5\u5165\u5148",this.apiService=this.service,this.authorname="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.descriptions=[{title:"id",description:"\u4ed5\u5165\u5148ID\uff08\u534a\u89d2\u82f1\u6570\uff09\u203b\u7a7a\u6b04\u306b\u3059\u308b\u3068\u65b0\u898f\u767b\u9332\u306b\u306a\u308a\u307e\u3059\u3002"},{title:"name",description:`\u4ed5\u5165\u5148\u540d\uff08${X.CHARACTER_LIMITS.NAME_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"name_kana",description:`\u4ed5\u5165\u5148\u540d\u30ab\u30ca\uff08${X.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"postal_code",description:`\u90f5\u4fbf\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057${X.CHARACTER_LIMITS.POSTAL_CODE_MAX_LENGTH}\u6587\u5b57\uff09`,required:!0},{title:"province",description:`\u90fd\u9053\u5e9c\u770c\uff08${X.CHARACTER_LIMITS.PROVINCE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"locality",description:`\u5e02\u533a\u753a\u6751\uff08${X.CHARACTER_LIMITS.LOCALITY_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"street_address",description:`\u753a\u540d\u756a\u5730\uff08${X.CHARACTER_LIMITS.STREET_ADDRESS_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"other_address",description:`\u5efa\u7269\u540d\u306a\u3069\uff08${X.CHARACTER_LIMITS.OTHER_ADDRESS_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"tel",description:`\u96fb\u8a71\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057${X.CHARACTER_LIMITS.TEL_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`,required:!0},{title:"fax",description:`FAX\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057${X.CHARACTER_LIMITS.FAX_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"mail",description:`\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08${X.CHARACTER_LIMITS.MAIL_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"cutoff_date_billing",description:"\u7de0\u65e5\uff08\u672b\u65e5\uff1a99\u3001\u672b\u65e5\u4ee5\u5916\uff1a\u534a\u89d2\u6570\u5024\u3067\u6307\u5b9a\uff09",required:!0},{title:"scheduled_payment_date",description:"\u652f\u6255\u65e5\uff08\u672b\u65e5\uff1a99\u3001\u672b\u65e5\u4ee5\u5916\uff1a\u534a\u89d2\u6570\u5024\u3067\u6307\u5b9a\uff09"},{title:"payment_division_id",description:"\u652f\u6255\u533a\u5206\uff08\u8cb7\u639b: 340\u3001\u73fe\u91d1: 341\uff09"},{title:"payment_site_division_id",description:"\u652f\u6255\u3044\u30b5\u30a4\u30c8\u533a\u5206\uff08\u7fcc\u6708: 60\u3001\u7fcc\u3005\u6708: 61\u30013\u304b\u6708\u5f8c: 124\u3001\u5f53\u6708: 157\uff09",required:!0},{title:"sales_fraction_division_id",description:"\u8ca9\u58f2\u7aef\u6570\u533a\u5206\uff08\u5207\u308a\u6368\u3066: 1\u3001\u5207\u308a\u4e0a\u3052: 2\u3001\u56db\u6368\u4e94\u5165: 3\uff09",required:!1},{title:"sales_tax_fraction_division_id",description:"\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206\uff08\u5207\u308a\u6368\u3066: 4\u3001\u5207\u308a\u4e0a\u3052: 5\u3001\u56db\u6368\u4e94\u5165: 6\uff09",required:!0},{title:"sales_tax_division_id",description:"\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u5916\u7a0e10%: 33\u3001\u5185\u7a0e10%: 34\u3001\u975e\u8ab2\u7a0e: 35\uff09",required:!0},{title:"sales_tax_calc_division_id",description:"\u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206\uff08\u6708\u5358\u4f4d: 15\u3001\u4f1d\u7968\u5358\u4f4d: 16\uff09",required:!0},{title:"remarks_1",description:`\u5099\u80031\uff08${X.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09'`},{title:"remarks_2",description:`\u5099\u80032\uff08${X.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"pic_name",description:`\u62c5\u5f53\u8005\u540d\uff08${X.CHARACTER_LIMITS.PIC_NAME_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"pic_name_kana",description:`\u62c5\u5f53\u8005\u540d\u30ab\u30ca\uff08${X.CHARACTER_LIMITS.PIC_NAME_KANA_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"payee_1",description:`\u632f\u8fbc\u51481\uff08${X.CHARACTER_LIMITS.PAYEE_1_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"payee_2",description:`\u632f\u8fbc\u51482\uff08${X.CHARACTER_LIMITS.PAYEE_2_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`},{title:"account_payable",description:"\u8cb7\u639b\u6b8b\u9ad8\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"custom_tag",description:"\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\uff08\u30bf\u30b0\u540d:\u5024\u30022\u3064\u4ee5\u4e0a\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u300c\u30bf\u30b0\u540d:\u5024@\u30bf\u30b0\u540d:\u5024\u300d\u306e\u3088\u3046\u306b@\u3067\u3064\u306a\u3050\uff09"},{title:"password",description:`\u30ed\u30b0\u30a4\u30f3\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u534a\u89d2\u306e\u82f1\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u6570\u5b57\u304c\u305d\u308c\u305e\u308c1\u6587\u5b57\u305a\u3064\u542b\u307e\u308c\u308b${X.CHARACTER_LIMITS.PASSWORD_MIN_LENGTH}\uff5e${X.CHARACTER_LIMITS.PASSWORD_MAX_LENGTH}\u6587\u5b57\u306e\u6587\u5b57\u5217\uff09`,required:!0}],this.subscription=new M.w0}ngOnInit(){this.authorService.author?(this.author=this.authorService.author,this.authorname=`${this.author.last_name} ${this.author.first_name}`):this.subscription.add(this.authorService.author$.subscribe(i=>{this.author=i,this.authorname=`${this.author.last_name} ${this.author.first_name}`}))}listenStateChange(i){i===Y.a.START&&(this.common.loading=!0),i===Y.a.END&&(this.common.loading=!1)}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(C.v),e.Y36(b.p),e.Y36(W.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bulk-add"]],decls:5,vars:4,consts:[[3,"service","descriptions","fileNamePrefix","statusChange"],["pageTitle",""],["authorname",""]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-bulk-add",0),e.NdJ("statusChange",function(_){return t.listenStateChange(_)}),e.ynx(1,1),e._uU(2,"\u4ed5\u5165\u5148\u4e00\u62ec\u767b\u9332"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.qZA()),2&i&&(e.Q6J("service",t.apiService)("descriptions",t.descriptions)("fileNamePrefix",t.fileNamePrefix),e.xp6(4),e.Oqu(t.authorname))},dependencies:[le.I]}),o})();var ke=n(7579),Ce=n(2640),z=n(6082),pe=n(6626),de=n(476),He=n(2993),Xe=n(9586);let $e=(()=>{class o{constructor(i,t,r,_,h,f,U){this.fb=i,this.route=t,this.common=r,this.service=_,this.divisions=h,this.largeCates=f,this.midCates=U,this.id=this.route.snapshot.params.id,this.form=this.fb.group({name:"",name_kana:"",supplier_product_cd:"",barcode:["",[a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.minLength(8),a.kI.maxLength(13)]],large_category_id:"",medium_category_id:"",product_division_id:""}),this.options={large_category_id:[],medium_category_id:[],product_division_id:[]},this.tableParams=new ke.x,this.columnNameMappings=[{name:"barcode",name_jp:"JAN\u30b3\u30fc\u30c9"},{name:"supplier_product_cd",name_jp:"\u4ed5\u5165\u5148\u5546\u54c1\u30b3\u30fc\u30c9"},{name:"name",name_jp:"\u5546\u54c1\u540d"},{name:"supplier_cost_price",name_jp:"\u4fa1\u683c"},{name:"c_supplier_cost_price",name_jp:"\u30b1\u30fc\u30b9\u4fa1\u683c"},{name:"part_number",name_jp:"\u54c1\u756a"},{name:"standard",name_jp:"\u898f\u683c"}],this.pages={page:1,itemsPerPage:Ce.p,sort:{}}}get fc(){return this.form.controls}ngOnInit(){this.initOptions(),this.updateTable()}listenSubmitEvent(){this.pages.page=1,this.updateTable()}listenPageChange(i){this.pages=i,this.updateTable()}initOptions(){const i=this.largeCates.getAsSelectOptions().pipe((0,d.K)(this.largeCates.handleErrorModal())),t=this.midCates.getAsSelectOptions().pipe((0,d.K)(this.midCates.handleErrorModal())),r=this.divisions.getAsSelectOptions().pipe((0,d.K)(this.divisions.handleErrorModal()));this.common.loading=!0,(0,R.D)({lc$:i,mc$:t,div$:r}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(({lc$:_,mc$:h,div$:f})=>{this.options.large_category_id=_,this.options.medium_category_id=h,this.options.product_division_id=f.\u5546\u54c1\u533a\u5206,Object.values(this.options).map(U=>U.unshift({value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}))})}updateTable(){const t=this.common.createApiParams(this.form.value,this.pages,this.columnNameMappings);this.common.loading=!0,this.service.get(this.id,t).pipe((0,d.K)(this.service.handleErrorModal()),(0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{this.tableParams.next(this.common.createTableParams(r,this.columnNameMappings,this.modifiedTableBody))})}modifiedTableBody(i){return t=>""===i[t.name]?i[t.name]:"barcode"===t.name?{href:`./${i.id}`,text:i[t.name]+""}:["price","c_price"].includes(t.name)?`${i[t.name].toLocaleString()} \u5186`:i[t.name]+""}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(s.gz),e.Y36(C.v),e.Y36(z.M),e.Y36(j.E),e.Y36(pe.T),e.Y36(de.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:23,vars:19,consts:[[3,"formCtrl","submitEvent"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-6","[&>*]:w-1/3"],[3,"formCtrl","useClear"],[1,"flex","gap-6","[&>*]:w-1/4"],[3,"formCtrl","options","useClear"],["path","../",1,"block","mt-4"],[1,"block","mt-2",3,"params","pageChange"]],template:function(i,t){1&i&&(e.TgZ(0,"app-search",0),e.NdJ("submitEvent",function(){return t.listenSubmitEvent()}),e.TgZ(1,"div",1)(2,"div",2)(3,"app-input",3),e._uU(4," \u5546\u54c1\u540d "),e.qZA(),e.TgZ(5,"app-input",3),e._uU(6," \u5546\u54c1\u540d\u30ab\u30ca "),e.qZA()(),e.TgZ(7,"div",2)(8,"app-input",3),e._uU(9," \u4ed5\u5165\u5148\u5546\u54c1\u30b3\u30fc\u30c9 "),e.qZA(),e.TgZ(10,"app-input",3),e._uU(11," JAN\u30b3\u30fc\u30c9 "),e.qZA()(),e.TgZ(12,"div",4)(13,"app-select",5),e._uU(14," \u5927\u5206\u985e "),e.qZA(),e.TgZ(15,"app-select",5),e._uU(16," \u4e2d\u5206\u985e "),e.qZA(),e.TgZ(17,"app-select",5),e._uU(18," \u5546\u54c1\u533a\u5206 "),e.qZA()()()(),e.TgZ(19,"app-back-to-link-org",6),e._uU(20," \u4ed5\u5165\u5148\u8a73\u7d30\u3078\u623b\u308b\n"),e.qZA(),e.TgZ(21,"app-table-with-pagination",7),e.NdJ("pageChange",function(_){return t.listenPageChange(_)}),e._uU(22," \u4ed5\u5165\u5148\u5546\u54c1\u4e00\u89a7\n"),e.qZA()),2&i&&(e.Q6J("formCtrl",t.form),e.xp6(3),e.Q6J("formCtrl",t.fc.name)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.name_kana)("useClear",!0),e.xp6(3),e.Q6J("formCtrl",t.fc.supplier_product_cd)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.barcode)("useClear",!0),e.xp6(3),e.Q6J("formCtrl",t.fc.large_category_id)("options",t.options.large_category_id)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.medium_category_id)("options",t.options.medium_category_id)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.product_division_id)("options",t.options.product_division_id)("useClear",!0),e.xp6(4),e.Q6J("params",t.tableParams))},dependencies:[He.g,x.a,P.H,Xe.i,Ce.i]}),o})();var ce=n(9693);let Ge=(()=>{class o{constructor(i,t,r){this.route=i,this.common=t,this.service=r,this.id=this.route.snapshot.params.pid,this.title="",this.listPagePath="../",this._details=[{name:"\u5546\u54c1ID",prop_name:"id"},{name:"\u5546\u54c1\u30b3\u30fc\u30c9",prop_name:"supplier_product_cd"},{name:"\u5546\u54c1\u540d",prop_name:"name"},{name:"\u5546\u54c1\u540d\u30ab\u30ca",prop_name:"name_kana"},{name:"\u4ed5\u5165\u5148ID",prop_name:"supplier_id"},{name:"\u4ed5\u5165\u5148\u540d",prop_name:"supplier_name"},{name:"\u30d0\u30fc\u30b3\u30fc\u30c9",prop_name:"barcode"},{name:"\u898f\u683c",prop_name:"standard"},{name:"\u54c1\u756a",prop_name:"part_number"},{name:"\u4ed5\u5165\u5148\u5546\u54c1\u5358\u4fa1",prop_name:"supplier_cost_price"},{name:"\u5358\u4f4d\u533a\u5206",prop_name:"division_unit_value"},{name:"\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206",prop_name:"division_sales_tax_value"},{name:"\u8ca9\u58f2\u7aef\u6570\u533a\u5206",prop_name:"division_sales_fraction_value"},{name:"C\u30d0\u30fc\u30b3\u30fc\u30c9",prop_name:"c_barcode"},{name:"C\u5165\u6570",prop_name:"c_quantity"},{name:"C\u4fa1\u683c",prop_name:"c_selling_price"},{name:"C\u5358\u4f4d\u533a\u5206",prop_name:"c_unit_division_id"},{name:"\u6700\u5c0f\u767a\u6ce8\u6570",prop_name:"minimum_order_quantity"},{name:"\u767a\u6ce8\u5358\u4f4d\u533a\u5206",prop_name:"order_unit"},{name:"\u767a\u6ce8\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0",prop_name:"order_lead_time"},{name:"\u5546\u54c1\u533a\u5206",prop_name:"division_product_value"},{name:"\u5099\u80031",prop_name:"remarks_1"},{name:"\u5099\u80032",prop_name:"remarks_2"},{name:"\u5099\u80033\uff08\u30ec\u30b8\u5099\u8003\uff09",prop_name:"remarks_3"},{name:"\u5099\u80034",prop_name:"remarks_4"},{name:"\u4f5c\u6210\u65e5\u6642",prop_name:"created_at"},{name:"\u66f4\u65b0\u65e5\u6642",prop_name:"updated_at"}]}get details(){return this._details}ngOnInit(){this.common.loading=!0,this.service.find(this.id).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(i=>{const t=i.data[0];this.title=t.name+(t.name_kana?`\uff08${t.name_kana}\uff09`:""),this.setDetailsValue(t)})}setDetailsValue(i){this._details.filter(t=>t.prop_name).forEach(t=>{t.value=(i[t.prop_name]??"")+""}),this._details.forEach(t=>{!t.value||(["price","c_price"].includes(t.prop_name)&&(t.value=`${Number(t.value).toLocaleString()} \u5186`),["created_at","updated_at"].includes(t.prop_name)&&(t.value=new Date(t.value).toLocaleString()),"order_lead_time"===t.prop_name&&(t.value=`${t.value} \u65e5`))})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.gz),e.Y36(C.v),e.Y36(z.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detail"]],decls:6,vars:3,consts:[[1,"[&_app-last-updater-org]:hidden",3,"backToListPath"],["pageTitle",""],["detailTitle",""],["detailContent","",3,"details"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-detail",0),e.ynx(1,1),e._uU(2,"\u4ed5\u5165\u5148\u5546\u54c1\u8a73\u7d30"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e._UZ(5,"app-detail-list",3),e.qZA()),2&i&&(e.Q6J("backToListPath",t.listPagePath),e.xp6(4),e.Oqu(t.title),e.xp6(1),e.Q6J("details",t.details))},dependencies:[J.J,ce.m]}),o})();var fe=n(1267),ie=n(2425),Je=n(3148);function Qe(o,l){1&o&&e.GkF(0,13)}function qe(o,l){if(1&o&&(e.TgZ(0,"p",14),e._uU(1),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.hij(" ",i.errorConst.FORM_ERROR.DATE_TERM_TO_BEFORE_FROM,"a ")}}let Ke=(()=>{class o{constructor(i,t,r){this.fb=i,this.common=t,this.service=r,this.fileNamePrefix="\u5f97\u610f\u5148",this.errorConst=oe.c,this.form=this.fb.group({name:"",client_cd:"",billing_cd:"",province:"",locality:"",tel:"",cutoff_date_billing:"",next_credit_confirmation_date:this.fb.group({from:"",to:""},{validators:[ae.d.beforeFromDate()]})}),this.tableParams={},this.columnNameMappings=[{name:"id",name_jp:"ID"},{name:"name",name_jp:"\u5f97\u610f\u5148\u540d"},{name:"mail",name_jp:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"},{name:"tel",name_jp:"\u96fb\u8a71\u756a\u53f7"},{name:"pic_name",name_jp:"\u62c5\u5f53\u8005\u540d"},{name:"province",name_jp:"\u4f4f\u6240"},{name:"next_credit_confirmation_date",name_jp:"\u4e0e\u4fe1\u306e\u6b21\u56de\u78ba\u8a8d\u65e5"}],this.options={province:[],cutoff_date_billing:[]}}get fc(){return this.form.controls}get export$(){const i=this.common.formatFormData(this.form.value);return this.service.getCsv("csv",i).pipe((0,d.K)(this.service.handleErrorModal("")),(0,L.x)(()=>this.common.loading=!1))}ngOnInit(){this.initOptions()}initOptions(){this.options.province=N.J.map(i=>({value:i,text:i}));for(let i=1;i<31;i++)this.options.cutoff_date_billing.push({value:i,text:i+"\u65e5"});this.options.cutoff_date_billing.push({value:99,text:"\u672b\u65e5"},{value:98,text:"\u7121\u3057"}),Object.values(this.options).map(i=>i.unshift({value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}))}updateTable(i){const r=(0,fe.vP)(this.form.value),_=(0,fe.g3)(r),h=this.common.createApiParams(_,i,this.columnNameMappings);this.common.loading=!0,this.service.getAll(h).pipe((0,d.K)(this.service.handleErrorModal()),(0,L.x)(()=>this.common.loading=!1)).subscribe(f=>{console.log(f),this.tableParams=this.common.createTableParams(f,this.columnNameMappings,this.modifiedTableBody)})}onExportStatusChange(i){i===S.U.START&&(this.common.loading=!0)}modifiedTableBody(i){return t=>{if(""===i[t.name])return i[t.name];if("id"===t.name)return{href:`./detail/${i[t.name]}`,text:i[t.name]+""};if("province"===t.name){const{postal_code:r,province:_,locality:h,street_address:f,other_address:U}=i;return`${r?`\u3012${r.slice(0,3)}-${r.slice(3)} `:""}${_}${h}${f} ${U}`}return["next_credit_confirmation_date"].includes(t.name)?new Date(i[t.name]).toLocaleDateString():i[t.name]}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(C.v),e.Y36(ie.y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:26,vars:25,consts:[[3,"tableParams","formCtrl","export$","fileNamePrefix","paramsChange","exportStatusChange"],["tableTitle",""],["search",""],[1,"flex","gap-6"],[1,"w-1/2",3,"formCtrl","useClear"],[1,"w-1/4",3,"formCtrl","useClear"],[1,"flex","gap-6","mt-6"],[1,"w-1/3",3,"formCtrl","options","useClear"],[1,"w-1/3",3,"formCtrl","useClear"],[1,"w-1/6",3,"formCtrl","options","useClear"],[1,"w-3/6",3,"dateFromFormCtrl","dateToFormCtrl","invalid"],["message","",4,"ngIf","ngIfThen"],["beforeFromDate",""],["message",""],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-template-list",0),e.NdJ("paramsChange",function(_){return t.updateTable(_)})("exportStatusChange",function(_){return t.onExportStatusChange(_)}),e.ynx(1,1),e._uU(2,"\u5f97\u610f\u5148\u4e00\u89a7"),e.BQk(),e.ynx(3,2),e.TgZ(4,"div",3)(5,"app-input",4),e._uU(6," \u5f97\u610f\u5148\u540d "),e.qZA(),e.TgZ(7,"app-input",5),e._uU(8," \u5f97\u610f\u5148\u30b3\u30fc\u30c9 "),e.qZA(),e.TgZ(9,"app-input",5),e._uU(10," \u8acb\u6c42\u5148\u30b3\u30fc\u30c9 "),e.qZA()(),e.TgZ(11,"div",6)(12,"app-select",7),e._uU(13," \u90fd\u9053\u5e9c\u770c "),e.qZA(),e.TgZ(14,"app-input",8),e._uU(15," \u5e02\u533a\u753a\u6751 "),e.qZA(),e.TgZ(16,"app-input",8),e._uU(17," \u96fb\u8a71\u756a\u53f7 "),e.qZA()(),e.TgZ(18,"div",6)(19,"app-select",9),e._uU(20," \u7de0\u65e5 "),e.qZA(),e.TgZ(21,"app-date-term-clear-container",10),e._uU(22," \u4e0e\u4fe1\u306e\u6b21\u56de\u78ba\u8a8d\u65e5 "),e.YNc(23,Qe,1,0,"ng-container",11),e.qZA()(),e.BQk(),e.qZA(),e.YNc(24,qe,2,1,"ng-template",null,12,e.W1O)),2&i){const r=e.MAs(25);e.Q6J("tableParams",t.tableParams)("formCtrl",t.form)("export$",t.export$)("fileNamePrefix",t.fileNamePrefix),e.xp6(5),e.Q6J("formCtrl",t.fc.name)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.client_cd)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.billing_cd)("useClear",!0),e.xp6(3),e.Q6J("formCtrl",t.fc.province)("options",t.options.province)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.locality)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.tel)("useClear",!0),e.xp6(3),e.Q6J("formCtrl",t.fc.cutoff_date_billing)("options",t.options.cutoff_date_billing)("useClear",!0),e.xp6(2),e.Q6J("dateFromFormCtrl",t.fc.next_credit_confirmation_date.controls.from)("dateToFormCtrl",t.fc.next_credit_confirmation_date.controls.to)("invalid",!!t.fc.next_credit_confirmation_date.errors),e.xp6(2),e.Q6J("ngIf",null==t.fc.next_credit_confirmation_date.errors?null:t.fc.next_credit_confirmation_date.errors.beforeFromDate)("ngIfThen",r)}},dependencies:[A.O5,F.n,x.a,P.H,Je.w]}),o})(),Ae=(()=>{class o extends O.O{constructor(){super(...arguments),this.endpoint=v.pU.clientCustomTagApi.endpoint}getAll(i={}){return this.httpOptions.params=i,this.http.get(this.endpoint,this.httpOptions)}getRelatedCustomTags(i){return this.getAll({client_id:i})}}return o.\u0275fac=function(){let l;return function(t){return(l||(l=e.n5z(o)))(t||o)}}(),o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function we(o,l){if(1&o&&(e.TgZ(0,"tr",10)(1,"td",11),e._uU(2,"\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0"),e.qZA(),e.TgZ(3,"td",12),e._uU(4),e.qZA()()),2&o){const i=l.$implicit;e.xp6(4),e.Oqu(i)}}let Ye=(()=>{class o{constructor(i,t,r,_,h){this.route=i,this.common=t,this.service=r,this.customTags=_,this.divisions=h,this.id=this.route.snapshot.params.id,this.updater="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.title="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d",this.remove$=this.service.remove(this.id).pipe((0,d.K)(this.service.handleErrorModal())),this.listItems=[{name_en:"id",name:"\u5f97\u610f\u5148ID",value:""},{name_en:"name",name:"\u5f97\u610f\u5148\u540d",value:""},{name_en:"name_kana",name:"\u5f97\u610f\u5148\u540d\u30ab\u30ca",value:""},{name_en:"pic_name",name:"\u62c5\u5f53\u8005\u540d",value:""},{name_en:"pic_name_kana",name:"\u62c5\u5f53\u8005\u540d\u30ab\u30ca",value:""},{name_en:"client_cd",name:"\u5f97\u610f\u5148\u30b3\u30fc\u30c9",value:""},{name_en:"billing_cd",name:"\u8acb\u6c42\u5148\u30b3\u30fc\u30c9",value:""},{name_en:"postal_code",name:"\u4f4f\u6240",value:""},{name_en:"mail",name:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",value:""},{name_en:"tel",name:"\u96fb\u8a71\u756a\u53f7",value:""},{name_en:"fax",name:"FAX\u756a\u53f7",value:""},{name_en:"cutoff_date_billing",name:"\u7de0\u65e5",value:""},{name_en:"division_payment_value",name:"\u652f\u6255\u533a\u5206",value:""},{name_en:"scheduled_payment_date",name:"\u652f\u6255\u4e88\u5b9a\u65e5",value:""},{name_en:"next_credit_confirmation_date",name:"\u4e0e\u4fe1\u306e\u6b21\u56de\u78ba\u8a8d\u65e5",value:""},{name_en:"next_billing_date",name:"\u6b21\u56de\u8acb\u6c42\u65e5",value:""},{name_en:"payment_term",name:"\u652f\u6255\u3044\u30b5\u30a4\u30c8",value:""},{name_en:"division_sales_tax_value",name:"\u6d88\u8cbb\u7a0e\u533a\u5206",value:""},{name_en:"division_sales_tax_calc_value",name:"\u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206",value:""},{name_en:"division_sales_tax_fraction_value",name:"\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206",value:""},{name_en:"division_sales_fraction_value",name:"\u8ca9\u58f2\u7aef\u6570\u533a\u5206",value:""},{name_en:"credit",name:"\u58f2\u639b\u9650\u5ea6\u984d",value:""},{name_en:"rank_division_id",name:"\u30e9\u30f3\u30af\u4fa1\u683c\u533a\u5206",value:""},{name_en:"division_print_value",name:"\u5370\u5237\u533a\u5206",value:""},{name_en:"line_num",name:"\u660e\u7d30\u884c\u6570",value:""},{name_en:"division_title_value",name:"\u656c\u79f0",value:""},{name_en:"custom_title",name:"\u6307\u5b9a\u6642\u306e\u656c\u79f0",value:""},{name_en:"remarks_1",name:"\u5099\u8003\uff11",value:""},{name_en:"remarks_2",name:"\u5099\u8003\uff12",value:""},{name_en:"created_at",name:"\u767b\u9332\u65e5\u6642",value:""},{name_en:"employee_created_last_name",name:"\u767b\u9332\u8005",value:""},{name_en:"updated_at",name:"\u6700\u7d42\u66f4\u65b0\u65e5\u6642",value:""},{name_en:"employee_updated_last_name",name:"\u6700\u7d42\u66f4\u65b0\u8005",value:""}],this.tags=[]}ngOnInit(){const i=this.service.find(this.id).pipe((0,d.K)(this.service.handleErrorModal())),t=this.customTags.getRelatedCustomTags(this.id).pipe((0,d.K)(this.customTags.handleErrorModal())),r=this.divisions.getAsSelectOptions().pipe((0,d.K)(this.divisions.handleErrorModal({})));this.common.loading=!0,(0,R.D)({ss:i,ct:t,dv:r}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(_=>{const h=_.ss.data[0],f=_.dv;this.title=h.name,this.updater=`${h.employee_updated_last_name} ${h.employee_updated_first_name}`,this.setListItemValue(h,f),this.tags=_.ct.data.map(U=>`${U.custom_tag_name}: ${U.custom_tag_value}`)})}setListItemValue(i,t){this.listItems.filter(r=>r.name_en).forEach(r=>{r.value=(i[r.name_en]??"")+""}),this.listItems.forEach(r=>{if(r.value){if("postal_code"===r.name_en){const _=`\u3012${r.value.slice(0,3)}-${r.value.slice(3)}`,{province:h,locality:f,street_address:U,other_address:Z}=i;r.value=`${_} ${h}${f}${U}${Z}`}if("cutoff_date_billing"===r.name_en&&(r.value=this.setDaySuffix(i.cutoff_date_billing)),"scheduled_payment_date"===r.name_en&&(r.value=this.setDaySuffix(i.scheduled_payment_date)),"next_billing_date"===r.name_en&&(r.value=new Date(String(i.next_billing_date)).toLocaleDateString()),"next_credit_confirmation_date"===r.name_en&&(r.value=new Date(String(i.next_credit_confirmation_date)).toLocaleDateString()),["created_at","updated_at"].includes(r.name_en)&&(r.value=new Date(r.value).toLocaleString()),"payment_term"===r.name_en){const _=t.\u652f\u6255\u3044\u30b5\u30a4\u30c8.filter(h=>h.value===Number(r.value));r.value=_[0].text}if("rank_division_id"===r.name_en){const _=t.\u30e9\u30f3\u30af\u4fa1\u683c\u533a\u5206.filter(h=>h.value===Number(r.value));r.value=_[0].text}"employee_created_last_name"===r.name_en&&(r.value=`${i.employee_created_last_name} ${i.employee_created_first_name}`),"employee_updated_last_name"===r.name_en&&(r.value=`${i.employee_updated_last_name} ${i.employee_updated_first_name}`)}})}setDaySuffix(i){if(!i)return"";switch(i){case 98:return"\u7121\u3057";case 99:return"\u672b\u65e5";default:return`${i}\u65e5`}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.gz),e.Y36(C.v),e.Y36(ie.y),e.Y36(Ae),e.Y36(j.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detail"]],decls:13,vars:5,consts:[[3,"remove$"],["pageTitle",""],["updater",""],["detailTitle",""],["detailContent","",1,"mt-2"],[1,"mt-4","flex","gap-6"],[1,"grow"],[3,"details"],[1,"mt-6","w-full","shadow"],["class","border border-slate-200",4,"ngFor","ngForOf"],[1,"border","border-slate-200"],[1,"p-4","w-1/4","bg-slate-100"],[1,"p-4"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-detail",0),e.ynx(1,1),e._uU(2,"\u5f97\u610f\u5148\u8a73\u7d30"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6),e._UZ(10,"app-detail-list",7),e.TgZ(11,"table",8),e.YNc(12,we,5,1,"tr",9),e.qZA()()()()()),2&i&&(e.Q6J("remove$",t.remove$),e.xp6(4),e.Oqu(t.updater),e.xp6(2),e.hij(" ",t.title," "),e.xp6(4),e.Q6J("details",t.listItems),e.xp6(2),e.Q6J("ngForOf",t.tags))},dependencies:[A.sg,J.J,ce.m]}),o})();var B=n(9042);const I={CHARACTER_LIMITS:{NAME_MAX_LENGTH:"25",NAME_KANA_MAX_LENGTH:"25",CLIENT_CD_MAX_LENGTH:"8",BILLING_CD_MAX_LENGTH:"8",PIC_NAME_MAX_LENGTH:"25",PIC_NAME_KANA_MAX_LENGTH:"25",POSTAL_CODE_MAX_LENGTH:"7",POSTAL_CODE_MIN_LENGTH:"7",PROVINCE_MAX_LENGTH:"4",LOCALITY_MAX_LENGTH:"20",STREET_ADDRESS_MAX_LENGTH:"20",OTHER_ADDRESS_MAX_LENGTH:"20",MAIL_MAX_LENGTH:"255",TEL_MAX_LENGTH:"16",FAX_MAX_LENGTH:"16",CREDIT_MAX_LENGTH:"12",LINE_NUM_MAX_LENGTH:"3",CUSTOM_TITLE_MAX_LENGTH:"3",REMARKS_1_MAX_LENGTH:"20",REMARKS_2_MAX_LENGTH:"20"},TITLE:{CODE:{ORGANIZATION:0,INDIVIDUAL:1,USER_SPECIFIED:2},VALUE:{ORGANIZATION:"\u5fa1\u4e2d",INDIVIDUAL:"\u69d8",USER_SPECIFIED:"\u6307\u5b9a"}},PAYMENT_DIVISION:{CODE:{ACCOUNTS_RECEIVABLE:0,CASH:1},VALUE:{ACCOUNTS_RECEIVABLE:"\u58f2\u639b",CASH:"\u73fe\u91d1"}},SALES_TAX_DIVISION:{CODE:{TAX_EXCLUDED:1,TAX_INCLUDED:2,NON_TAXABLE:3},VALUE:{TAX_EXCLUDED:"\u5916\u7a0e",TAX_INCLUDED:"\u5185\u7a0e",NON_TAXABLE:"\u975e\u8ab2\u7a0e"}},SALES_TAX_CALC_DIVISION:{CODE:{MONTHLY:0,SLIP_UNIT:1},VALUE:{MONTHLY:"\u6708\u5358\u4f4d",SLIP_UNIT:"\u4f1d\u7968\u5358\u4f4d"}},SALES_FRACTION:{CODE:{ROUND_DOWN:1,ROUND_UP:2,ROUND_HALF_UP:3},VALUE:{ROUND_DOWN:"\u5207\u308a\u6368\u3066",ROUND_UP:"\u5207\u308a\u4e0a\u3052",ROUND_HALF_UP:"\u56db\u6368\u4e94\u5165"}},SALES_TAX_FRACTION:{CODE:{ROUND_DOWN:1,ROUND_UP:2,ROUND_HALF_UP:3},VALUE:{ROUND_DOWN:"\u5207\u308a\u6368\u3066",ROUND_UP:"\u5207\u308a\u4e0a\u3052",ROUND_HALF_UP:"\u56db\u6368\u4e94\u5165"}},PRINT:{CODE:{ORIGINAL:0,DOT:1},VALUE:{ORIGINAL:"\u30aa\u30ea\u30b8\u30ca\u30eb",DOT:"\u30c9\u30c3\u30c8"}},PAYMENT_TERM:{CODE:{AFTER_1_MONTHS:1,AFTER_2_MONTHS:2,AFTER_3_MONTHS:3,CURRENT_MONTH:4},VALUE:{AFTER_1_MONTHS:"\u7fcc\u6708",AFTER_2_MONTHS:"\u7fcc\u3005\u6708",AFTER_3_MONTHS:"3\u304b\u6708\u5f8c",CURRENT_MONTH:"\u5f53\u6708"}}};var Ve=n(67),je=n(6863),We=n(2195);function ze(o,l){1&o&&e.GkF(0)}function et(o,l){1&o&&e.GkF(0,50)}function tt(o,l){if(1&o&&(e.TgZ(0,"p",51),e._uU(1),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.errorConst.FORM_ERROR.OPPONENT_SELECTION_REQUIRED_ITEM," ")}}const it=function(o){return{label:o,required:!1}},st=function(o){return{ctrl:o}};function nt(o,l){if(1&o&&(e.TgZ(0,"div",45)(1,"app-text-container",46),e.YNc(2,ze,1,0,"ng-container",47),e.YNc(3,et,1,0,"ng-container",48),e.qZA(),e.YNc(4,tt,2,1,"p",49),e.qZA()),2&o){const i=e.oxw(),t=e.MAs(102),r=e.MAs(104);e.xp6(1),e.Q6J("formCtrl",i.fc_title.custom_title),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(6,it,"\u6307\u5b9a\u656c\u79f0("+i.clientConst.CHARACTER_LIMITS.CUSTOM_TITLE_MAX_LENGTH+"\u6587\u5b57\u4ee5\u5185)")),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(8,st,i.fc_title.custom_title)),e.xp6(1),e.Q6J("ngIf",null==i.fc.title.errors?null:i.fc.title.errors.isRequired)}}function at(o,l){1&o&&(e.TgZ(0,"span",54),e._uU(1,"\u5fc5\u9808"),e.qZA())}function ot(o,l){if(1&o&&(e.TgZ(0,"div",52)(1,"span"),e._uU(2),e.qZA(),e.YNc(3,at,2,0,"span",53),e.qZA()),2&o){const i=l.label,t=l.required;e.xp6(2),e.Oqu(i),e.xp6(1),e.Q6J("ngIf",t)}}function rt(o,l){if(1&o&&(e.TgZ(0,"p",57),e._uU(1),e.qZA()),2&o){const i=e.oxw(3);e.xp6(1),e.hij(" ",i.errorConst.FORM_ERROR.OPPONENT_SELECTION_REQUIRED_ITEM," ")}}function _t(o,l){if(1&o&&(e.ynx(0),e.YNc(1,rt,2,1,"p",56),e.BQk()),2&o){const i=e.oxw().ctrl;e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.required)}}function ut(o,l){if(1&o&&e.YNc(0,_t,2,1,"ng-container",55),2&o){const i=l.ctrl,t=e.oxw();e.Q6J("ngIf",t.formControlStateManager(i))}}let Ee=(()=>{class o{constructor(i,t,r,_,h,f,U){this.fb=i,this.authorService=t,this.route=r,this.common=_,this.service=h,this.customTags=f,this.divisions=U,this.clientConst=I,this.generalConst=Ve.s,this.id=this.route.snapshot.params.id,this.updater="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.authorname="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.apiService=this.service,this.modifyFormValue=()=>{const Z={...this.form.value,...this.form.controls.title.value};return Z.client_custom_tag=this.form.value.client_custom_tag?.filter(H=>H.name&&H.value),Object.keys(Z.client_custom_tag).forEach(H=>{H.custom_tag_id||delete H.custom_tag_id}),""!==Z.next_credit_confirmation_date&&(Z.next_credit_confirmation_date=new Date(String(Z.next_credit_confirmation_date)).toLocaleDateString()),""!==Z.next_billing_date&&(Z.next_billing_date=new Date(String(Z.next_billing_date)).toLocaleDateString()),Z},this.is_user_specified_title=!1,this.form=this.fb.group({name:["",[a.kI.required,a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.NAME_MAX_LENGTH))]],name_kana:["",[a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH)),a.kI.pattern(T.m.FULL_WIDTH_KATAKANA_REG_EX)]],client_cd:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.CLIENT_CD_MAX_LENGTH))]],billing_cd:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.BILLING_CD_MAX_LENGTH))]],pic_name:["",[a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.PIC_NAME_MAX_LENGTH))]],pic_name_kana:["",[a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.PIC_NAME_KANA_MAX_LENGTH)),a.kI.pattern(T.m.FULL_WIDTH_KATAKANA_REG_EX)]],postal_code:["",[a.kI.required,a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.POSTAL_CODE_MAX_LENGTH)),a.kI.minLength(Number(this.clientConst.CHARACTER_LIMITS.POSTAL_CODE_MIN_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],province:["",a.kI.required],locality:["",[a.kI.required,a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.LOCALITY_MAX_LENGTH))]],street_address:["",[a.kI.required,a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.STREET_ADDRESS_MAX_LENGTH))]],other_address:["",a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.OTHER_ADDRESS_MAX_LENGTH))],mail:["",[a.kI.email,a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.MAIL_MAX_LENGTH))]],tel:["",[a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.TEL_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],fax:["",[a.kI.maxLength(Number(this.clientConst.CHARACTER_LIMITS.FAX_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],payment_division_id:["",a.kI.required],cutoff_date_billing:["",a.kI.required],scheduled_payment_date:[""],next_credit_confirmation_date:[""],next_billing_date:[""],payment_term:[""],sales_fraction_division_id:[""],print_division_id:[""],sales_tax_division_id:[""],sales_tax_calc_division_id:["",a.kI.required],sales_tax_fraction_division_id:["",a.kI.required],rank_division_id:[""],credit:["",[a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.maxLength(Number(I.CHARACTER_LIMITS.CREDIT_MAX_LENGTH))]],line_num:["",[a.kI.pattern(T.m.NUMERIC_REG_EX),a.kI.maxLength(Number(I.CHARACTER_LIMITS.LINE_NUM_MAX_LENGTH))]],remarks_1:["",a.kI.maxLength(Number(I.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH))],remarks_2:["",a.kI.maxLength(Number(I.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH))],title:this.fb.group({title_division_id:[""],title_division_code:[""],custom_title:["",a.kI.maxLength(Number(I.CHARACTER_LIMITS.CUSTOM_TITLE_MAX_LENGTH))]},{validators:[ae.d.opponentSelectionRequiredValidator("title_division_code",String(I.TITLE.CODE.USER_SPECIFIED),"custom_title")]}),client_custom_tag:this.fb.array([this.fb.group({custom_tag_id:"",name:"",value:""})])}),this.options={payment_division_id:[],cutoff_date_billing:[],scheduled_payment_date:[],payment_term:[],sales_fraction_division_id:[],print_division_id:[],sales_tax_division_id:[],sales_tax_calc_division_id:[],sales_tax_fraction_division_id:[],rank_division_id:[],title_division_id:[],province:[]},this.errorConst=oe.c,this.subscription=new M.w0}get fc(){return this.form.controls}get fc_title(){return this.fc.title.controls}ngOnInit(){if(this.initOptions(),this.authorService.author?(this.author=this.authorService.author,this.authorname=`${this.author.last_name} ${this.author.first_name}`):this.subscription.add(this.authorService.author$.subscribe(r=>{this.author=r,this.authorname=`${this.author.last_name} ${this.author.first_name}`})),!this.id)return;const i=this.service.find(this.id).pipe((0,d.K)(this.service.handleErrorModal())),t=this.customTags.getRelatedCustomTags(this.id).pipe((0,d.K)(this.customTags.handleErrorModal()));this.common.loading=!0,(0,R.D)({cs:i,ct:t}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{const _=r.cs.data[0];this.form.patchValue(_),this.fc.title.patchValue(_),this.updater=`${_.employee_updated_last_name} ${_.employee_updated_first_name}`,console.log(_),this.setTitleDivisionId(Number(_.title_division_id));const h=r.ct.data;h.length&&this.fc.client_custom_tag.clear(),h.map(f=>this.fc.client_custom_tag.push(this.fb.group({custom_tag_id:f.custom_tag_id+"",name:f.custom_tag_name,value:f.custom_tag_value})))})}setTitleDivisionId(i){Number(i)===this.designated_honorific_title_id?(console.log(!0),this.fc_title.title_division_code.patchValue(String(I.TITLE.CODE.USER_SPECIFIED)),this.is_user_specified_title=!0):(this.fc_title.title_division_code.patchValue(""),this.is_user_specified_title=!1)}getSelectTitleDivisionId(i){Number(i.target.value)===this.designated_honorific_title_id?(this.fc_title.title_division_code.patchValue(String(I.TITLE.CODE.USER_SPECIFIED)),this.is_user_specified_title=!0):(this.fc_title.title_division_code.patchValue(""),this.is_user_specified_title=!1)}formControlStateManager(i){return(i.touched||i.dirty)&&i.invalid}listenStateChange(i){this.common.loading=!!i}initOptions(){this.common.loading=!0;const i=this.divisions.getAll({name:B.z.CLIENT_TITLE}),t=this.divisions.getAsSelectOptions().pipe((0,d.K)(this.divisions.handleErrorModal({})));(0,R.D)({divisions:t,divisions_title:i}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{this.options.payment_division_id=r.divisions[B.z.CLIENT_PAYMENT_TYPE],this.options.payment_term=r.divisions[B.z.TERM_OF_PAYMENT],this.options.sales_fraction_division_id=r.divisions[B.z.SALES_FRACTION],this.options.print_division_id=r.divisions[B.z.CLIENT_PRINT_TYPE],this.options.sales_tax_division_id=r.divisions[B.z.CLIENT_SALES_TAX],this.options.sales_tax_calc_division_id=r.divisions[B.z.CLIENT_SALES_TAX_CALC_TYPE],this.options.sales_tax_fraction_division_id=r.divisions[B.z.MAIN_SALES_TAX_FRACTION],this.options.title_division_id=r.divisions[B.z.CLIENT_TITLE],this.options.rank_division_id=r.divisions[B.z.PRICE_RANKING],this.options.province=N.J.map(f=>({value:f,text:f}));const _=[...Array(30)].map((f,U)=>({value:U+1,text:`${U+1}\u65e5`}));_.push({value:99,text:"\u672b\u65e5"}),this.options.cutoff_date_billing=[..._,{value:98,text:"\u7121\u3057"}],this.options.scheduled_payment_date=[..._],Object.values(this.options).forEach(f=>f.unshift({value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}));let h=r.divisions_title.data.find(f=>f.division_code===I.TITLE.CODE.USER_SPECIFIED);this.designated_honorific_title_id=h.id,this.designated_honorific_title_code=h.code})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(W.Y),e.Y36(s.gz),e.Y36(C.v),e.Y36(ie.y),e.Y36(Ae),e.Y36(j.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit"]],decls:105,vars:70,consts:[[3,"service","formCtrl","modFn","statusChange"],["pageTitle",""],["updater",""],["authorname",""],["form",""],["formTitle",""],["formContent","",1,"flex","flex-col","gap-4"],[1,"flex","flex-row","gap-6"],["nameAttrValue","client_name","idAttrValue","client-name",1,"w-2/3",3,"formCtrl"],["nameAttrValue","client_cd","idAttrValue","client-cd",1,"w-1/3",3,"formCtrl"],["nameAttrValue","name_kana","idAttrValue","name-kana",1,"w-2/3",3,"formCtrl"],["nameAttrValue","billing_cd","idAttrValue","billing-cd",1,"w-1/3",3,"formCtrl"],["nameAttrValue","pic_name","idAttrValue","pic-name",1,"w-96",3,"formCtrl"],["nameAttrValue","pic_name_kana","idAttrValue","pic-name-kana",1,"w-96",3,"formCtrl"],[1,"w-1/3"],["nameAttrValue","postal_code","idAttrValue","postal-code",1,"w-96",3,"formCtrl"],["nameAttrValue","client_province","idAttrValue","client-province",1,"w-96",3,"formCtrl","options"],["nameAttrValue","client_locality","idAttrValue","client-locality",1,"w-1/3",3,"formCtrl"],["nameAttrValue","street_address","idAttrValue","street-address",1,"w-1/3",3,"formCtrl"],["nameAttrValue","other_address","idAttrValue","other-address",1,"w-1/3",3,"formCtrl"],["nameAttrValue","client_mail","idAttrValue","client-mail",1,"w-1/3",3,"formCtrl"],["nameAttrValue","client_tel","idAttrValue","client-tel",1,"w-1/3",3,"formCtrl"],["nameAttrValue","client_fax","idAttrValue","client-fax",1,"w-1/3",3,"formCtrl"],["formContent","",1,"flex","flex-col","gap-6"],["nameAttrValue","payment_division_id","idAttrValue","payment-division-id",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","cutoff_date_billing","idAttrValue","cutoff-date-billing",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","payment_term","idAttrValue","payment-term",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","scheduled_payment_date","idAttrValue","scheduled-payment-date",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","next_billing_date","idAttrValue","next-billing-date",1,"w-1/6",3,"formCtrl"],[1,"w-1/6"],["nameAttrValue","client_credit","idAttrValue","client-credit",1,"w-1/6",3,"formCtrl"],["nameAttrValue","next_credit_confirmation_date","idAttrValue","next-credit-confirmation-date",1,"w-1/6",3,"formCtrl"],["nameAttrValue","sales_tax_division_id","idAttrValue","sales-tax-division-id",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","sales_tax_calc_division_id","idAttrValue","sales-tax-calc-division-id",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","sales_tax_fraction_division_id","idAttrValue","sales-tax-fraction-division-id",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","sales_fraction_division_id","idAttrValue","division-sales-fraction-code",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","rank_division_id","idAttrValue","rank-division-id",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","title_division_id","idAttrValue","title-division-id",1,"w-1/6",3,"formCtrl","options","change"],["class","w-1/4",4,"ngIf"],["nameAttrValue","print_division_id","idAttrValue","print-division-id",1,"w-1/6",3,"formCtrl","options"],["nameAttrValue","line_num","idAttrValue","line-num",1,"w-1/6",3,"formCtrl"],[3,"formCtrl","rows"],[3,"formArray"],["labels",""],["errors",""],[1,"w-1/4"],["nameAttrValue","custom_title","idAttrValue","custom-title",3,"formCtrl"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ml-1 text-sm text-red",4,"ngIf"],["message",""],[1,"ml-1","text-sm","text-red"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],[4,"ngIf"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-add-edit",0),e.NdJ("statusChange",function(_){return t.listenStateChange(_)}),e.ynx(1,1),e._uU(2),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.ynx(5,3),e._uU(6),e.BQk(),e.TgZ(7,"app-form-block",4),e.ynx(8,5),e._uU(9," \u5f97\u610f\u5148 \u57fa\u672c\u60c5\u5831\u5165\u529b "),e.BQk(),e.TgZ(10,"div",6)(11,"div",7)(12,"app-input",8),e._uU(13),e.qZA(),e.TgZ(14,"app-input",9),e._uU(15),e.qZA()(),e.TgZ(16,"div",7)(17,"app-input",10),e._uU(18),e.qZA(),e.TgZ(19,"app-input",11),e._uU(20),e.qZA()(),e.TgZ(21,"div",7)(22,"app-input",12),e._uU(23),e.qZA(),e.TgZ(24,"app-input",13),e._uU(25),e.qZA(),e._UZ(26,"div",14),e.qZA(),e.TgZ(27,"div",7)(28,"app-input",15),e._uU(29),e.qZA(),e.TgZ(30,"app-select",16),e._uU(31," \u90fd\u9053\u5e9c\u770c "),e.qZA(),e._UZ(32,"div",14),e.qZA(),e.TgZ(33,"div",7)(34,"app-input",17),e._uU(35),e.qZA(),e.TgZ(36,"app-input",18),e._uU(37),e.qZA(),e.TgZ(38,"app-input",19),e._uU(39),e.qZA()(),e.TgZ(40,"div",7)(41,"app-input",20),e._uU(42),e.qZA(),e._UZ(43,"div",14)(44,"div",14),e.qZA(),e.TgZ(45,"div",7)(46,"app-input",21),e._uU(47),e.qZA(),e.TgZ(48,"app-input",22),e._uU(49),e.qZA(),e._UZ(50,"div",14),e.qZA()()(),e.TgZ(51,"app-form-block",4),e.ynx(52,5),e._uU(53," \u5f97\u610f\u5148 \u8a73\u7d30\u60c5\u5831\u5165\u529b "),e.BQk(),e.TgZ(54,"div",23)(55,"div",7)(56,"app-select",24),e._uU(57," \u652f\u6255\u533a\u5206 "),e.qZA(),e.TgZ(58,"app-select",25),e._uU(59," \u7de0\u65e5 "),e.qZA(),e.TgZ(60,"app-select",26),e._uU(61," \u652f\u6255\u3044\u30b5\u30a4\u30c8 "),e.qZA(),e.TgZ(62,"app-select",27),e._uU(63," \u652f\u6255\u4e88\u5b9a\u65e5 "),e.qZA(),e.TgZ(64,"app-date-term",28),e._uU(65," \u6b21\u56de\u8acb\u6c42\u65e5 "),e.qZA(),e._UZ(66,"div",29),e.qZA(),e.TgZ(67,"div",7)(68,"app-input",30),e._uU(69),e.qZA(),e.TgZ(70,"app-date-term",31),e._uU(71," \u6b21\u56de\u4e0e\u4fe1\u78ba\u8a8d\u65e5 "),e.qZA(),e.TgZ(72,"app-select",32),e._uU(73," \u6d88\u8cbb\u7a0e\u533a\u5206 "),e.qZA(),e.TgZ(74,"app-select",33),e._uU(75," \u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206 "),e.qZA(),e.TgZ(76,"app-select",34),e._uU(77," \u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206 "),e.qZA(),e.TgZ(78,"app-select",35),e._uU(79," \u8ca9\u58f2\u7aef\u6570\u533a\u5206 "),e.qZA()(),e.TgZ(80,"div",7)(81,"app-select",36),e._uU(82," \u30e9\u30f3\u30af\u4fa1\u683c "),e.qZA(),e.TgZ(83,"app-select",37),e.NdJ("change",function(_){return t.getSelectTitleDivisionId(_)}),e._uU(84," \u656c\u79f0 "),e.qZA(),e.YNc(85,nt,5,10,"div",38),e.TgZ(86,"app-select",39),e._uU(87," \u5370\u5237\u533a\u5206 "),e.qZA(),e.TgZ(88,"app-input",40),e._uU(89),e.qZA(),e._UZ(90,"div",29),e.qZA()()(),e.TgZ(91,"app-form-block",4),e.ynx(92,5),e._uU(93," \u305d\u306e\u4ed6\u5c5e\u6027\u60c5\u5831\u5165\u529b "),e.BQk(),e.TgZ(94,"div",6)(95,"app-textarea",41),e._uU(96),e.qZA(),e.TgZ(97,"app-textarea",41),e._uU(98),e.qZA(),e.TgZ(99,"app-custom-tag-form",42),e._uU(100," \u30ab\u30b9\u30bf\u30e0\u30bf\u30b0 "),e.qZA()()()(),e.YNc(101,ot,4,2,"ng-template",null,43,e.W1O),e.YNc(103,ut,1,1,"ng-template",null,44,e.W1O)),2&i&&(e.Q6J("service",t.apiService)("formCtrl",t.form)("modFn",t.modifyFormValue),e.xp6(2),e.hij(" ",t.id?"\u5f97\u610f\u5148\u7de8\u96c6":"\u5f97\u610f\u5148\u65b0\u898f\u767b\u9332"," "),e.xp6(2),e.Oqu(t.updater),e.xp6(2),e.Oqu(t.authorname),e.xp6(6),e.Q6J("formCtrl",t.fc.name),e.xp6(1),e.hij(" \u5f97\u610f\u5148\u540d\uff08",t.clientConst.CHARACTER_LIMITS.NAME_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.client_cd),e.xp6(1),e.hij(" \u5f97\u610f\u5148\u30b3\u30fc\u30c9\uff08\u534a\u89d2\u6570\u5b57",t.clientConst.CHARACTER_LIMITS.CLIENT_CD_MAX_LENGTH,"\u6841\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.name_kana),e.xp6(1),e.hij(" \u5f97\u610f\u5148\u540d\u30ab\u30ca\uff08\u5168\u89d2\u30ab\u30ca",t.clientConst.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.billing_cd),e.xp6(1),e.hij(" \u8acb\u6c42\u5148\u30b3\u30fc\u30c9\uff08\u534a\u89d2\u6570\u5b57",t.clientConst.CHARACTER_LIMITS.BILLING_CD_MAX_LENGTH,"\u6841\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.pic_name),e.xp6(1),e.hij(" \u62c5\u5f53\u8005\u540d\uff08",t.clientConst.CHARACTER_LIMITS.PIC_NAME_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.pic_name_kana),e.xp6(1),e.hij(" \u62c5\u5f53\u8005\u540d\u30ab\u30ca\uff08\u5168\u89d2\u30ab\u30ca",t.clientConst.CHARACTER_LIMITS.PIC_NAME_KANA_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(3),e.Q6J("formCtrl",t.fc.postal_code),e.xp6(1),e.hij(" \u90f5\u4fbf\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57",t.clientConst.CHARACTER_LIMITS.POSTAL_CODE_MAX_LENGTH,"\u6841\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.province)("options",t.options.province),e.xp6(4),e.Q6J("formCtrl",t.fc.locality),e.xp6(1),e.hij(" \u5e02\u533a\u753a\u6751\uff08",t.clientConst.CHARACTER_LIMITS.LOCALITY_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.street_address),e.xp6(1),e.hij(" \u753a\u540d\u756a\u5730\uff08",t.clientConst.CHARACTER_LIMITS.STREET_ADDRESS_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.other_address),e.xp6(1),e.hij(" \u5efa\u7269\u540d\u306a\u3069\uff08",t.clientConst.CHARACTER_LIMITS.OTHER_ADDRESS_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.mail),e.xp6(1),e.hij(" \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08",t.clientConst.CHARACTER_LIMITS.MAIL_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(4),e.Q6J("formCtrl",t.fc.tel),e.xp6(1),e.hij(" \u96fb\u8a71\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57",t.clientConst.CHARACTER_LIMITS.TEL_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.fax),e.xp6(1),e.hij(" FAX\u756a\u53f7\uff08\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57",t.clientConst.CHARACTER_LIMITS.FAX_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(7),e.Q6J("formCtrl",t.fc.payment_division_id)("options",t.options.payment_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.cutoff_date_billing)("options",t.options.cutoff_date_billing),e.xp6(2),e.Q6J("formCtrl",t.fc.payment_term)("options",t.options.payment_term),e.xp6(2),e.Q6J("formCtrl",t.fc.scheduled_payment_date)("options",t.options.scheduled_payment_date),e.xp6(2),e.Q6J("formCtrl",t.fc.next_billing_date),e.xp6(4),e.Q6J("formCtrl",t.fc.credit),e.xp6(1),e.hij(" \u58f2\u639b\u9650\u5ea6\u984d(",t.clientConst.CHARACTER_LIMITS.CREDIT_MAX_LENGTH,"\u6841\u4ee5\u5185) "),e.xp6(1),e.Q6J("formCtrl",t.fc.next_credit_confirmation_date),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_tax_division_id)("options",t.options.sales_tax_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_tax_calc_division_id)("options",t.options.sales_tax_calc_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_tax_fraction_division_id)("options",t.options.sales_tax_fraction_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_fraction_division_id)("options",t.options.sales_fraction_division_id),e.xp6(3),e.Q6J("formCtrl",t.fc.rank_division_id)("options",t.options.rank_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc_title.title_division_id)("options",t.options.title_division_id),e.xp6(2),e.Q6J("ngIf",t.is_user_specified_title),e.xp6(1),e.Q6J("formCtrl",t.fc.print_division_id)("options",t.options.print_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.line_num),e.xp6(1),e.hij(" \u660e\u7d30\u884c\u6570(",t.clientConst.CHARACTER_LIMITS.LINE_NUM_MAX_LENGTH,"\u6841\u4ee5\u5185) "),e.xp6(6),e.Q6J("formCtrl",t.fc.remarks_1)("rows",2),e.xp6(1),e.hij(" \u5099\u80031\uff08",t.clientConst.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.remarks_2)("rows",2),e.xp6(1),e.hij(" \u5099\u80032\uff08",t.clientConst.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formArray",t.fc.client_custom_tag))},dependencies:[A.O5,A.tP,Y.Z,re.Q,x.a,P.H,_e.R,je.a,ue.A,We.O]}),o})();var Te=n(529),lt=n(6585),me=n(9646),pt=n(9744),dt=n(2334);let ct=(()=>{class o{constructor(i,t,r,_,h,f){this.common=i,this.service=t,this.divisionService=r,this.dIService=_,this.errorService=h,this.authorService=f,this.clientConst=I,this.fileNamePrefix="\u5f97\u610f\u5148",this.apiService=this.service,this.authorname="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.errorModalTitle="\u5f97\u610f\u5148\u4e00\u62ec\u767b\u9332\u30a8\u30e9\u30fc\uff1a"+lt.yR.TITLE.HAS_ERROR,this.descriptions=[{title:"id",description:"\u5f97\u610f\u5148ID\uff08\u534a\u89d2\u82f1\u6570\uff09\u203b\u7a7a\u6b04\u306b\u3059\u308b\u3068\u65b0\u898f\u767b\u9332\u306b\u306a\u308a\u307e\u3059\u3002"},{title:"client_cd",description:`\u5f97\u610f\u5148\u30b3\u30fc\u30c9\uff08${I.CHARACTER_LIMITS.CLIENT_CD_MAX_LENGTH}\u6841\u4ee5\u5185\u306e\u534a\u89d2\u6570\u5b57\uff09`,required:!0},{title:"name",description:`\u5f97\u610f\u5148\u540d\uff08${I.CHARACTER_LIMITS.NAME_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"name_kana",description:`\u5f97\u610f\u5148\u540d\u30ab\u30ca\uff08${I.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"pic_name",description:`\u62c5\u5f53\u8005\u540d\uff08${I.CHARACTER_LIMITS.PIC_NAME_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"pic_name_kana",description:`\u62c5\u5f53\u8005\u540d\u30ab\u30ca\uff08${I.CHARACTER_LIMITS.PIC_NAME_KANA_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"billing_cd",description:`\u8acb\u6c42\u5148\u30b3\u30fc\u30c9\uff08${I.CHARACTER_LIMITS.BILLING_CD_MAX_LENGTH}\u6841\u4ee5\u5185\u306e\u534a\u89d2\u6570\u5b57\uff09`,required:!0},{title:"postal_code",description:`\u90f5\u4fbf\u756a\u53f7\uff08${I.CHARACTER_LIMITS.POSTAL_CODE_MAX_LENGTH}\u6841\u306e\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57\uff09`,required:!0},{title:"province",description:`\u90fd\u9053\u5e9c\u770c\uff08${I.CHARACTER_LIMITS.PROVINCE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"locality",description:`\u5e02\u533a\u753a\u6751\uff08${I.CHARACTER_LIMITS.LOCALITY_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"street_address",description:`\u753a\u540d\u756a\u5730\uff08${I.CHARACTER_LIMITS.STREET_ADDRESS_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!0},{title:"other_address",description:`\u5efa\u7269\u540d\u306a\u3069\uff08${I.CHARACTER_LIMITS.OTHER_ADDRESS_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"tel",description:`\u96fb\u8a71\u756a\u53f7\uff08${I.CHARACTER_LIMITS.TEL_MAX_LENGTH}\u6841\u4ee5\u5185\u306e\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57\uff09`,required:!1},{title:"fax",description:`FAX\uff08${I.CHARACTER_LIMITS.FAX_MAX_LENGTH}\u6841\u4ee5\u5185\u306e\u30cf\u30a4\u30d5\u30f3\u306a\u3057\u534a\u89d2\u6570\u5b57\uff09`,required:!1},{title:"mail",description:`\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08${I.CHARACTER_LIMITS.MAIL_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"remarks_1",description:`\u5099\u8003\uff11\uff08${I.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"remarks_2",description:`\u5099\u8003\uff12\uff08${I.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff09`,required:!1},{title:"cutoff_date_billing",description:"\u7de0\u65e5\uff08\u7121\u3057\uff1a98\u3001\u672b\u65e5\uff1a99\u3001\u7121\u3057\u30fb\u672b\u65e5\u4ee5\u5916\uff1a\u534a\u89d2\u6570\u5024\u3067\u6307\u5b9a\uff09",required:!0},{title:"scheduled_payment_date",description:"\u652f\u6255\u4e88\u5b9a\u65e5\uff08\u672b\u65e5\uff1a99\u3001\u672b\u65e5\u4ee5\u5916\uff1a\u534a\u89d2\u6570\u5024\u3067\u6307\u5b9a\uff09",required:!1},{title:"payment_division_id",description:"\u652f\u6255\u533a\u5206\uff08\u58f2\u639b\uff1a??\u3001\u73fe\u91d1\uff1a??\uff09",required:!0},{title:"sales_tax_division_id",description:"\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u5916\u7a0e\uff1a??\u3001\u5185\u7a0e\uff1a??\u3001\u975e\u8ab2\u7a0e\uff1a??\uff09",required:!1},{title:"sales_tax_calc_division_id",description:"\u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206\uff08\u6708\u5358\u4f4d\uff1a??\u3001\u4f1d\u7968\u5358\u4f4d\uff1a??\uff09",required:!0},{title:"sales_fraction_division_id",description:"\u8ca9\u58f2\u7aef\u6570\u533a\u5206\uff08\u5207\u308a\u6368\u3066\uff1a?\u3001\u5207\u308a\u4e0a\u3052\uff1a?\u3001\u56db\u6368\u4e94\u5165\uff1a?\uff09",required:!1},{title:"sales_tax_fraction_division_id",description:"\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206\uff08\u5207\u308a\u6368\u3066\uff1a?\u3001\u5207\u308a\u4e0a\u3052\uff1a?\u3001\u56db\u6368\u4e94\u5165\uff1a?\uff09",required:!0},{title:"print_division_id",description:"\u5370\u5237\u533a\u5206\uff08\u30aa\u30ea\u30b8\u30ca\u30eb\uff1a??\u3001\u30c9\u30c3\u30c8\uff1a??\uff09",required:!1},{title:"rank_division_id",description:"\u30e9\u30f3\u30af\u4fa1\u683cID\uff08\u8a2d\u5b9a\u306e\u30e9\u30f3\u30af\u4fa1\u683c\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff09",required:!1},{title:"next_billing_date",description:"\u6b21\u56de\u8acb\u6c42\u65e5\uff08YYYY-MM-DD\u3002\u4f8b\uff1a2023-01-01\uff09",required:!1},{title:"next_credit_confirmation_date",description:"\u4e0e\u4fe1\u306e\u6b21\u56de\u78ba\u8a8d\u65e5\uff08YYYY-MM-DD\u3002\u4f8b\uff1a2023-01-01\uff09",required:!1},{title:"accounts_receivable_balance",description:"\u524d\u56de\u58f2\u639b\u91d1\u6b8b\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!1},{title:"credit",description:`\u58f2\u639b\u9650\u5ea6\u984d\uff08${I.CHARACTER_LIMITS.CREDIT_MAX_LENGTH}\u6841\u4ee5\u5185\u306e\u534a\u89d2\u6570\u5b57\uff09`,required:!1},{title:"line_num",description:`\u660e\u7d30\u884c\u6570\uff08${I.CHARACTER_LIMITS.LINE_NUM_MAX_LENGTH}\u6841\u4ee5\u5185\u306e\u534a\u89d2\u6570\u5b57\uff09`,required:!1},{title:"title_division_id",description:"\u656c\u79f0\uff08\u5fa1\u4e2d\uff1a??\u3001\u69d8\uff1a??\u3001\u6307\u5b9a\uff1a??\uff09",required:!1},{title:"custom_title",description:`${I.CHARACTER_LIMITS.CUSTOM_TITLE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\u306e\u6587\u5b57\u5217\uff08\u656c\u79f0\u300c\u6307\u5b9a\u300d\u9078\u629e\u6642\u306e\u656c\u79f0\u3002\u656c\u79f0\u300c\u6307\u5b9a\u300d\u6642\u306f\u5fc5\u9808\uff09`,required:!1},{title:"payment_term",description:"\u652f\u6255\u3044\u30b5\u30a4\u30c8\uff08\u7fcc\u6708\uff1a??\u3001\u7fcc\u3005\u6708\uff1a??\u30013\u304b\u6708\u5f8c\uff1a???\u3001\u5f53\u6708\uff1a???\uff09",required:!1},{title:"custom_tag",description:"\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\uff08\u30bf\u30b0\u540d:\u5024\u30022\u3064\u4ee5\u4e0a\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u300c\u30bf\u30b0\u540d:\u5024@\u30bf\u30b0\u540d:\u5024\u300d\u306e\u3088\u3046\u306b@\u3067\u3064\u306a\u3050\uff09",required:!1}],this.subscription=new M.w0}ngOnInit(){this.authorService.author?(this.author=this.authorService.author,this.authorname=`${this.author.last_name} ${this.author.first_name}`):this.subscription.add(this.authorService.author$.subscribe(i=>{this.author=i,this.authorname=`${this.author.last_name} ${this.author.first_name}`})),this.initOptions()}listenStateChange(i){i===Y.a.START&&(this.common.loading=!0),i===Y.a.END&&(this.common.loading=!1)}initOptions(){this.common.loading=!0,this.subscription.add((0,R.D)([this.divisionService.getAsSelectOptions()]).pipe((0,L.x)(()=>this.common.loading=!1),(0,d.K)(i=>(0,me.of)(i))).subscribe(i=>{i instanceof Te.UA?this.handleError(i.status,this.errorModalTitle,i.message):this.setDescriptions(i[0])}))}setDescriptions(i){const t=this.dIService.getDivisionid(i,B.z.CLIENT_PAYMENT_TYPE,I.PAYMENT_DIVISION.CODE.ACCOUNTS_RECEIVABLE),r=this.dIService.getDivisionid(i,B.z.CLIENT_PAYMENT_TYPE,I.PAYMENT_DIVISION.CODE.CASH),_=this.dIService.getDivisionid(i,B.z.CLIENT_SALES_TAX,I.SALES_TAX_DIVISION.CODE.TAX_EXCLUDED),h=this.dIService.getDivisionid(i,B.z.CLIENT_SALES_TAX,I.SALES_TAX_DIVISION.CODE.TAX_INCLUDED),f=this.dIService.getDivisionid(i,B.z.CLIENT_SALES_TAX,I.SALES_TAX_DIVISION.CODE.NON_TAXABLE),U=this.dIService.getDivisionid(i,B.z.CLIENT_SALES_TAX_CALC_TYPE,I.SALES_TAX_CALC_DIVISION.CODE.MONTHLY),Z=this.dIService.getDivisionid(i,B.z.CLIENT_SALES_TAX_CALC_TYPE,I.SALES_TAX_CALC_DIVISION.CODE.SLIP_UNIT),H=this.dIService.getDivisionid(i,B.z.SUPPLIER_SALES_FRACTION,I.SALES_FRACTION.CODE.ROUND_DOWN),V=this.dIService.getDivisionid(i,B.z.SUPPLIER_SALES_FRACTION,I.SALES_FRACTION.CODE.ROUND_UP),ee=this.dIService.getDivisionid(i,B.z.SUPPLIER_SALES_FRACTION,I.SALES_FRACTION.CODE.ROUND_HALF_UP),te=this.dIService.getDivisionid(i,B.z.MAIN_SALES_TAX_FRACTION,I.SALES_TAX_FRACTION.CODE.ROUND_DOWN),q=this.dIService.getDivisionid(i,B.z.MAIN_SALES_TAX_FRACTION,I.SALES_TAX_FRACTION.CODE.ROUND_UP),se=this.dIService.getDivisionid(i,B.z.MAIN_SALES_TAX_FRACTION,I.SALES_TAX_FRACTION.CODE.ROUND_HALF_UP),w=this.dIService.getDivisionid(i,B.z.CLIENT_PRINT_TYPE,I.PRINT.CODE.ORIGINAL),K=this.dIService.getDivisionid(i,B.z.CLIENT_PRINT_TYPE,I.PRINT.CODE.DOT),Ft=this.dIService.getDivisionid(i,B.z.CLIENT_TITLE,I.TITLE.CODE.ORGANIZATION),St=this.dIService.getDivisionid(i,B.z.CLIENT_TITLE,I.TITLE.CODE.INDIVIDUAL),Ot=this.dIService.getDivisionid(i,B.z.CLIENT_TITLE,I.TITLE.CODE.USER_SPECIFIED),Ut=this.dIService.getDivisionid(i,B.z.TERM_OF_PAYMENT,I.PAYMENT_TERM.CODE.AFTER_1_MONTHS),Zt=this.dIService.getDivisionid(i,B.z.TERM_OF_PAYMENT,I.PAYMENT_TERM.CODE.AFTER_2_MONTHS),yt=this.dIService.getDivisionid(i,B.z.TERM_OF_PAYMENT,I.PAYMENT_TERM.CODE.AFTER_3_MONTHS),Bt=this.dIService.getDivisionid(i,B.z.TERM_OF_PAYMENT,I.PAYMENT_TERM.CODE.CURRENT_MONTH);this.descriptions.map(G=>{"payment_division_id"===G.title&&(G.description=`\u652f\u6255\u533a\u5206\uff08\u58f2\u639b\uff1a${t}\u3001\u73fe\u91d1\uff1a${r}\uff09`),"sales_tax_division_id"===G.title&&(G.description=`\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u5916\u7a0e\uff1a${_}\u3001\u5185\u7a0e\uff1a${h}\u3001\u975e\u8ab2\u7a0e\uff1a${f}\uff09`),"sales_tax_calc_division_id"===G.title&&(G.description=`\u6d88\u8cbb\u7a0e\u8a08\u7b97\u533a\u5206\uff08\u6708\u5358\u4f4d\uff1a${U}\u3001\u4f1d\u7968\u5358\u4f4d\uff1a${Z}\uff09`),"sales_fraction_division_id"===G.title&&(G.description=`\u8ca9\u58f2\u7aef\u6570\u533a\u5206\uff08\u5207\u308a\u6368\u3066\uff1a${H}\u3001\u5207\u308a\u4e0a\u3052\uff1a${V}\u3001\u56db\u6368\u4e94\u5165\uff1a${ee}\uff09`),"sales_tax_fraction_division_id"===G.title&&(G.description=`\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206\uff08\u5207\u308a\u6368\u3066\uff1a${te}\u3001\u5207\u308a\u4e0a\u3052\uff1a${q}\u3001\u56db\u6368\u4e94\u5165\uff1a${se}\uff09`),"print_division_id"===G.title&&(G.description=`\u5370\u5237\u533a\u5206\uff08\u30aa\u30ea\u30b8\u30ca\u30eb\uff1a${w}\u3001\u30c9\u30c3\u30c8\uff1a${K}\uff09`),"title_division_id"===G.title&&(G.description=`\u656c\u79f0\uff08\u5fa1\u4e2d\uff1a${Ft}\u3001\u69d8\uff1a${St}\u3001\u6307\u5b9a\uff1a${Ot}\uff09`),"payment_term"===G.title&&(G.description=`\u652f\u6255\u3044\u30b5\u30a4\u30c8\uff08\u7fcc\u6708\uff1a${Ut}\u3001\u7fcc\u3005\u6708\uff1a${Zt}\u30013\u304b\u6708\u5f8c\uff1a${yt}\u3001\u5f53\u6708\uff1a${Bt}\uff09`)})}handleError(i,t,r,_){this.errorService.setError({status:i,title:t,message:r,redirectPath:_})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(C.v),e.Y36(ie.y),e.Y36(j.E),e.Y36(pt.J),e.Y36(dt.T),e.Y36(W.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bulk-add"]],decls:5,vars:4,consts:[[3,"service","descriptions","fileNamePrefix","statusChange"],["pageTitle",""],["authorname",""]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-bulk-add",0),e.NdJ("statusChange",function(_){return t.listenStateChange(_)}),e.ynx(1,1),e._uU(2,"\u5f97\u610f\u5148\u4e00\u62ec\u767b\u9332"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.qZA()),2&i&&(e.Q6J("service",t.apiService)("descriptions",t.descriptions)("fileNamePrefix",t.fileNamePrefix),e.xp6(4),e.Oqu(t.authorname))},dependencies:[le.I]}),o})();var ve=n(4004),Ie=n(4151),Me=n(9612);let mt=(()=>{class o{constructor(i,t,r,_,h,f,U,Z){this.fb=i,this.common=t,this.service=r,this.largeCates=_,this.midCates=h,this.smallCates=f,this.divisions=U,this.suppliers=Z,this.form=this.fb.group({id:"",name:"",supplier_id:"",supplier_name:"",barcode:["",a.kI.pattern(T.m.NUMERIC_REG_EX)],large_category_id:"",medium_category_id:"",small_category_id:"",shelf_division_id:"",part_number:"",standard:"",custom_tag_id:""}),this.options={large_category_id:[],medium_category_id:[],small_category_id:[],shelf_division_id:[]},this.fileNamePrefix="\u5546\u54c1",this.tableParams={},this.columnNameMappings=[{name:"id",name_jp:"ID"},{name:"name",name_jp:"\u5546\u54c1\u540d"},{name:"barcode",name_jp:"JAN\u30b3\u30fc\u30c9"},{name:"selling_price",name_jp:"\u4fa1\u683c"},{name:"supplier_cost_price",name_jp:"\u539f\u4fa1"},{name:"supplier_id",name_jp:"\u4ed5\u5165\u5148ID"},{name:"supplier_product_cd",name_jp:"\u4ed5\u5165\u5148\u5546\u54c1\u30b3\u30fc\u30c9"}]}get fc(){return this.form.controls}get export$(){const i=this.common.formatFormData(this.form.value);return this.service.getCsv("csv",i).pipe((0,d.K)(this.service.handleErrorModal("")),(0,L.x)(()=>this.common.loading=!1))}ngOnInit(){this.initOptions()}updateTable(i){let t=this.form.value;const _=this.form.value.custom_tag_id;delete t.custom_tag_id;let h=this.common.createApiParams(t,i,this.columnNameMappings);if(_){const f=(f=>f.indexOf(",")?f.split(","):[f])(_);let U=0;for(let Z in f){if(""===f[Z])continue;let H="custom_tag_id["+String(U)+"]";Object.assign(h,{[`${H}`]:f[Z]}),U++}}this.common.loading=!0,this.service.getAll(h).pipe((0,d.K)(this.service.handleErrorModal()),(0,L.x)(()=>this.common.loading=!1)).subscribe(f=>{this.tableParams=this.common.createTableParams(f,this.columnNameMappings,this.modifiedTableBody)})}onExportStatusChange(i){i===S.U.START&&(this.common.loading=!0)}initOptions(){const i=this.largeCates.getAsSelectOptions().pipe((0,d.K)(this.largeCates.handleErrorModal())),t=this.midCates.getAsSelectOptions().pipe((0,d.K)(this.midCates.handleErrorModal())),r=this.smallCates.getAsSelectOptions().pipe((0,d.K)(this.smallCates.handleErrorModal())),_=this.divisions.getAsSelectOptions().pipe((0,ve.U)(h=>h.\u9673\u5217\u68da\u533a\u5206),(0,d.K)(this.divisions.handleErrorModal()));this.common.loading=!0,(0,R.D)({lc$:i,mc$:t,sc$:r,div$:_}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(({lc$:h,mc$:f,sc$:U,div$:Z})=>{this.options.large_category_id=h,this.options.medium_category_id=f,this.options.small_category_id=U,this.options.shelf_division_id=Z,Object.values(this.options).map(H=>H.unshift({value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}))})}modifiedTableBody(i){return t=>""===i[t.name]?i[t.name]:"id"===t.name?{href:`./detail/${i[t.name]}`,text:i[t.name]+""}:["selling_price","supplier_cost_price"].includes(t.name)?`${i[t.name].toLocaleString()} \u5186`:i[t.name]}getProductSuggests(){return{observable:this.service.getAll({name:this.fc.name.value}),idField:"id",nameField:"name"}}getSupplierSuggests(){return{observable:this.suppliers.getAll({name:this.fc.supplier_name.value}),idField:"id",nameField:"name"}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(C.v),e.Y36(z.M),e.Y36(pe.T),e.Y36(de.G),e.Y36(Ie.i),e.Y36(j.E),e.Y36(b.p))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:33,vars:34,consts:[[3,"tableParams","formCtrl","export$","fileNamePrefix","paramsChange","exportStatusChange"],["tableTitle",""],["search",""],[1,"flex","gap-6","[&>*]:w-1/3"],["nameAttrValue","product_name","idAttrValue","product-name",3,"idCtrl","nameCtrl","apiInput"],[3,"formCtrl","useClear"],[1,"mt-6","flex","gap-6","[&>*]:w-1/3"],["nameAttrValue","supplier_name","idAttrValue","supplier-name",3,"idCtrl","nameCtrl","apiInput"],["nameAttrValue","supplier_id","idAttrValue","supplier-id",1,"w-4/12",3,"formCtrl","useClear"],[3,"formCtrl","options","useClear"],[1,"mt-6","flex","gap-6","[&>*]:w-1/4"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-list",0),e.NdJ("paramsChange",function(_){return t.updateTable(_)})("exportStatusChange",function(_){return t.onExportStatusChange(_)}),e.ynx(1,1),e._uU(2,"\u5546\u54c1\u4e00\u89a7"),e.BQk(),e.ynx(3,2),e.TgZ(4,"div",3)(5,"app-real-time-suggest-container",4),e._uU(6," \u5546\u54c1\u540d "),e.qZA(),e.TgZ(7,"app-input",5),e._uU(8," \u5546\u54c1ID "),e.qZA(),e.TgZ(9,"app-input",5),e._uU(10," JAN\u30b3\u30fc\u30c9 "),e.qZA()(),e.TgZ(11,"div",6)(12,"app-real-time-suggest-container",7),e._uU(13," \u4ed5\u5165\u5148\u540d "),e.qZA(),e.TgZ(14,"app-input",8),e._uU(15," \u4ed5\u5165\u5148ID "),e.qZA(),e._UZ(16,"div"),e.qZA(),e.TgZ(17,"div",6)(18,"app-select",9),e._uU(19," \u5927\u5206\u985e "),e.qZA(),e.TgZ(20,"app-select",9),e._uU(21," \u4e2d\u5206\u985e "),e.qZA(),e.TgZ(22,"app-select",9),e._uU(23," \u5c0f\u5206\u985e "),e.qZA()(),e.TgZ(24,"div",10)(25,"app-select",9),e._uU(26," \u68da\u756a "),e.qZA(),e.TgZ(27,"app-input",5),e._uU(28," \u54c1\u756a "),e.qZA(),e.TgZ(29,"app-input",5),e._uU(30," \u898f\u683c "),e.qZA(),e.TgZ(31,"app-input",5),e._uU(32," \u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\u540d "),e.qZA()(),e.BQk(),e.qZA()),2&i&&(e.Q6J("tableParams",t.tableParams)("formCtrl",t.form)("export$",t.export$)("fileNamePrefix",t.fileNamePrefix),e.xp6(5),e.Q6J("idCtrl",t.fc.id)("nameCtrl",t.fc.name)("apiInput",t.getProductSuggests()),e.xp6(2),e.Q6J("formCtrl",t.fc.id)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.barcode)("useClear",!0),e.xp6(3),e.Q6J("idCtrl",t.fc.supplier_id)("nameCtrl",t.fc.supplier_name)("apiInput",t.getSupplierSuggests()),e.xp6(2),e.Q6J("formCtrl",t.fc.supplier_id)("useClear",!0),e.xp6(4),e.Q6J("formCtrl",t.fc.large_category_id)("options",t.options.large_category_id)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.medium_category_id)("options",t.options.medium_category_id)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.small_category_id)("options",t.options.small_category_id)("useClear",!0),e.xp6(3),e.Q6J("formCtrl",t.fc.shelf_division_id)("options",t.options.shelf_division_id)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.part_number)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.standard)("useClear",!0),e.xp6(2),e.Q6J("formCtrl",t.fc.custom_tag_id)("useClear",!0))},dependencies:[F.n,x.a,P.H,Me.Y]}),o})(),Le=(()=>{class o extends O.O{constructor(){super(...arguments),this.endpoint=v.pU.productCustomTagApi.endpoint}getAll(i={}){return this.httpOptions.params=i,this.http.get(this.endpoint,this.httpOptions).pipe((0,d.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\u95a2\u9023\u30c6\u30fc\u30d6\u30eb\u306e\u53d6\u5f97")))}getRelatedCustomTags(i){return this.getAll({product_id:i})}}return o.\u0275fac=function(){let l;return function(t){return(l||(l=e.n5z(o)))(t||o)}}(),o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ht=(()=>{class o{constructor(i,t,r,_){this.route=i,this.common=t,this.service=r,this.customTags=_,this.id=this.route.snapshot.params.id,this.updater="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.title="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d",this.logo="assets/images/no_image.png",this.SEAL_PRICE_INDICATION_FALSE="\u8868\u793a\u3057\u306a\u3044",this.SEAL_PRICE_INDICATION_TRUE="\u8868\u793a\u3059\u308b",this.remove$=this.service.remove(this.id).pipe((0,d.K)(this.service.handleErrorModal())),this.listItems=[{name:"\u5546\u54c1ID",prop_name:"id"},{name:"\u5546\u54c1\u540d",prop_name:"name"},{name:"\u5546\u54c1\u540d\u30ab\u30ca",prop_name:"name_kana"},{name:"\u4ed5\u5165\u5148ID",prop_name:"supplier_id"},{name:"\u4ed5\u5165\u5148\u540d",prop_name:"supplier_name"},{name:"\u4ed5\u5165\u5148\u5546\u54c1\u30b3\u30fc\u30c9",prop_name:"supplier_product_cd"},{name:"\u4ed5\u5165\u5148\u6d88\u8cbb\u7a0e\u533a\u5206",prop_name:"division_supplier_sales_tax_value"},{name:"\u4ed5\u5165\u5148\u8ca9\u58f2\u7aef\u6570\u533a\u5206",prop_name:"division_supplier_sales_fraction_value"},{name:"\u4ed5\u5165\u5148\u5546\u54c1\u5358\u4fa1",prop_name:"supplier_cost_price"},{name:"\u4ed5\u5165\u5148\u5546\u54c1B\u5358\u4fa1",prop_name:"b_supplier_cost_price"},{name:"\u4ed5\u5165\u5148\u5546\u54c1C\u5358\u4fa1",prop_name:"c_supplier_cost_price"},{name:"\u898f\u683c",prop_name:"standard"},{name:"\u54c1\u756a",prop_name:"part_number"},{name:"\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206",prop_name:"division_sales_tax_value"},{name:"\u8ca9\u58f2\u7aef\u6570\u533a\u5206",prop_name:"division_sales_fraction_value"},{name:"\u30d0\u30fc\u30b3\u30fc\u30c9",prop_name:"barcode"},{name:"B\u30d0\u30fc\u30b3\u30fc\u30c9",prop_name:"b_barcode"},{name:"C\u30d0\u30fc\u30b3\u30fc\u30c9",prop_name:"c_barcode"},{name:"\u5165\u6570",prop_name:"quantity"},{name:"B\u5165\u6570",prop_name:"b_quantity"},{name:"C\u5165\u6570",prop_name:"c_quantity"},{name:"\u7c97\u5229\u7387",prop_name:"gross_profit_rate"},{name:"B\u7c97\u5229\u7387",prop_name:"b_gross_profit_rate"},{name:"C\u7c97\u5229\u7387",prop_name:"c_gross_profit_rate"},{name:"\u58f2\u4fa1",prop_name:"selling_price"},{name:"B\u58f2\u4fa1",prop_name:"b_selling_price"},{name:"C\u58f2\u4fa1",prop_name:"c_selling_price"},{name:"\u5024\u5f15\u533a\u5206",prop_name:"division_discount_value"},{name:"\u5358\u4f4d\u533a\u5206",prop_name:"division_unit_value"},{name:"B\u5358\u4f4d\u533a\u5206",prop_name:"division_b_unit_value"},{name:"C\u5358\u4f4d\u533a\u5206",prop_name:"division_c_unit_value"},{name:"\u5546\u54c1\u533a\u5206",prop_name:"division_product_value"},{name:"\u30dd\u30a4\u30f3\u30c8\u533a\u5206",prop_name:"division_point_value"},{name:"\u4fdd\u8a3c\u66f8\u767a\u884c\u533a\u5206",prop_name:"division_issuance_warranty_value"},{name:"\u5927\u5206\u985e",prop_name:"large_category_name"},{name:"\u4e2d\u5206\u985e",prop_name:"medium_category_name"},{name:"\u5c0f\u5206\u985e",prop_name:"small_category_name"},{name:"\u5099\u80031",prop_name:"remarks_1"},{name:"\u5099\u80032",prop_name:"remarks_2"},{name:"\u5099\u80033\uff08\u30ec\u30b8\u5099\u8003\uff09",prop_name:"remarks_3"},{name:"\u5099\u80034",prop_name:"remarks_4"},{name:"\u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u5370\u5237\u533a\u5206",prop_name:"division_seal_print_value"},{name:"\u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u4fa1\u683c\u8868\u793a\u533a\u5206",prop_name:"seal_price_indication"},{name:"\u30dd\u30c3\u30d7\u30b7\u30fc\u30eb\u533a\u5206",prop_name:"division_price_tag_value"},{name:"\u767a\u6ce8\u5bfe\u8c61\u30d0\u30fc\u30b3\u30fc\u30c9",prop_name:"ordering_target_barcode"},{name:"\u898f\u5b9a\u5728\u5eab\u6570",prop_name:"regulated_stock_num"},{name:"\u767a\u6ce8\u70b9",prop_name:"ordering_point"},{name:"\u767a\u6ce8\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0",prop_name:"order_lead_time"},{name:"\u9673\u5217\u68da\u533a\u5206",prop_name:"division_shelf_value"},{name:"\u9673\u5217\u68da\u5217\u533a\u5206",prop_name:"division_shelf_col_value"},{name:"\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e",prop_name:"custom_large_category_name"},{name:"\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e",prop_name:"custom_medium_category_name"},{name:"\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e",prop_name:"custom_small_category_name"},{name:"\u30c7\u30fc\u30bf\u516c\u958b\u533a\u5206",prop_name:"division_data_permission_value"},{name:"\u6700\u5c0f\u767a\u6ce8\u6570",prop_name:"minimum_order_quantity"},{name:"\u914d\u9001\u57fa\u672c\u6599\u91d1",prop_name:"basic_shipping_fee"},{name:"\u914d\u9001\u8ffd\u52a0\u6599\u91d1",prop_name:"shipping_surcharge"},{name:"\u767b\u9332\u65e5\u6642",prop_name:"created_at"},{name:"\u6700\u7d42\u66f4\u65b0\u65e5\u6642",prop_name:"updated_at"},{name:"\u5ec3\u756a\u8a2d\u5b9a\u65e5\u6642",prop_name:"out_of_service_at"},{name:"\u767b\u9332\u8005",prop_name:"employee_created_last_name"},{name:"\u6700\u7d42\u66f4\u65b0\u8005",prop_name:"employee_updated_last_name"},{name:"\u5ec3\u756a\u8a2d\u5b9a\u8005",prop_name:"employee_out_of_service_last_name"}],this.tags=[]}get details(){return this.listItems}ngOnInit(){const i=this.service.find(this.id).pipe((0,d.K)(this.service.handleErrorModal())),t=this.customTags.getRelatedCustomTags(this.id).pipe((0,d.K)(this.customTags.handleErrorModal()));this.common.loading=!0,(0,R.D)({ps:i,ct:t}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{const _=r.ps.data[0];this.updater=`${_.employee_updated_last_name} ${_.employee_updated_first_name}`,this.title=_.name+(_.name_kana?`\uff08${_.name_kana}\uff09`:""),_.image_path&&(this.logo=_.image_path),this.setListItemValue(_),this.tags=r.ct.data.map(h=>({name:"\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0",value:`${h.custom_tag_name}: ${h.custom_tag_value}`}))})}setListItemValue(i){this.listItems.filter(t=>t.name).forEach(t=>{t.value=(i[t.prop_name]??"")+""}),this.listItems.forEach(t=>{!t.value||(["supplier_cost_price","b_supplier_cost_price","c_supplier_cost_price","selling_price","b_selling_price","c_selling_price","order_cost_price","basic_shipping_fee","shipping_surcharge"].includes(t.prop_name)&&(t.value=`${Number(t.value).toLocaleString()} \u5186`),"seal_price_indication"===t.prop_name&&(t.value="1"===t.value?this.SEAL_PRICE_INDICATION_TRUE:this.SEAL_PRICE_INDICATION_FALSE),["gross_profit_rate","b_gross_profit_rate","c_gross_profit_rate"].includes(t.prop_name)&&(t.value=`${t.value} %`),["created_at","updated_at","out_of_service_at"].includes(t.prop_name)&&(t.value=new Date(t.value).toLocaleString()),"employee_created_last_name"===t.prop_name&&(t.value=`${i.employee_created_last_name} ${i.employee_created_first_name}`),"employee_updated_last_name"===t.prop_name&&(t.value=`${i.employee_updated_last_name} ${i.employee_updated_first_name}`),"employee_out_of_service_last_name"===t.prop_name&&(t.value=`${i.employee_out_of_service_last_name} ${i.employee_out_of_service_first_name}`))})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(s.gz),e.Y36(C.v),e.Y36(z.M),e.Y36(Le))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detail"]],decls:12,vars:6,consts:[[3,"remove$"],["pageTitle",""],["updater",""],["detailTitle",""],["detailContent","",1,"mt-2","flex","gap-6"],["alt","\u30ed\u30b4\u753b\u50cf",1,"w-[240px]","self-start",3,"src"],[1,"grow"],[3,"details"],[1,"mt-6","block",3,"details"]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-detail",0),e.ynx(1,1),e._uU(2,"\u5546\u54c1\u8a73\u7d30"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.TgZ(5,"div",3),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"img",5),e.TgZ(9,"div",6),e._UZ(10,"app-detail-list",7)(11,"app-detail-list",8),e.qZA()()()),2&i&&(e.Q6J("remove$",t.remove$),e.xp6(4),e.Oqu(t.updater),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Q6J("src",t.logo,e.LSH),e.xp6(2),e.Q6J("details",t.details),e.xp6(1),e.Q6J("details",t.tags))},dependencies:[J.J,ce.m]}),o})();var Q=n(4870);let gt=(()=>{class o{constructor(i,t,r){this.common=i,this.service=t,this.authorService=r,this.productConst=Q.U,this.fileNamePrefix="\u5546\u54c1",this.apiService=this.service,this.authorname="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.descriptions=[{title:"id",description:"\u5546\u54c1ID\uff08\u534a\u89d2\u82f1\u6570\uff09\u203b\u7a7a\u6b04\u306b\u3059\u308b\u3068\u65b0\u898f\u767b\u9332\u306b\u306a\u308a\u307e\u3059\u3002"},{title:"name",description:`\u5546\u54c1\u540d\u5546\u54c1\u540d\uff08${Q.U.CHARACTER_LIMITS.NAME_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`,required:!0},{title:"name_kana",description:`\u5546\u54c1\u540d\u30ab\u30ca\uff08${Q.U.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"supplier_id",description:"\u4ed5\u5165\u5148ID\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"supplier_product_cd",description:`\u4ed5\u5165\u5148\u5546\u54c1\u30b3\u30fc\u30c9\uff08${Q.U.CHARACTER_LIMITS.SUPPLIER_PRODUCT_CD}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"standard",description:`\u898f\u683c\uff08${Q.U.CHARACTER_LIMITS.STANDARD_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"part_number",description:`\u54c1\u756a\uff08${Q.U.CHARACTER_LIMITS.PART_NUMBER_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"basic_shipping_fee",description:"\u914d\u9001\u6599\u91d1\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"shipping_surcharge",description:"\u914d\u9001\u8ffd\u52a0\u6599\u91d1\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"unit_division_id",description:"\u5358\u4f4d\u533a\u5206ID\uff08191\uff1a\u500b\u3001192\uff1a\u672c\u3001193\uff1a\u7740\u3001194\uff1a\u53f0\u3001195\uff1a\u679a\u3001196\uff1a\u7bb1\u3001197\uff1a\u888b\u3001198\uff1a\u4e01\u3001199\uff1a\u8db3\u3001200\uff1a\u5dfb\u3001201\uff1a\u7f36\u3001202\uff1aP\u3001203\uff1aM\u3001204\uff1a\u53cc\u3001205\uff1a\uff7e\uff6f\uff84\u3001206\uff1a\u7d44\u3001207\uff1a\u30f6\u3001208\uff1aST\u3001209\uff1a\u675f\u3001210\uff1a\uff76\uff70\uff84\uff9d\u3001211\uff1a\u5305\u3001212\uff1a\uff8a\uff9f\uff6f\uff78\u3001213\uff1a\u6253\u3001214\uff1a\u53cd\u3001215\uff1akg\u3001216\uff1a\u339d\u3001217\uff1a\u56de\u3001218\uff1a\u518a\u3001219\uff1a\u5f0f\u3001220\uff1aKS\u3001221\uff1a\uff79\uff70\uff7d\u3001222\uff1a\uff98\uff6f\uff84\uff99\u3001223\uff1a\u676f\u3001224\uff1a0\u3001225\uff1aL\u3001226\uff1aS\u3001227\uff1a\u811a\u3001228\uff1a\u7d3a\u3001229\uff1a\u5373\u3001230\uff1a\u9023\uff09"},{title:"b_unit_division_id",description:"B\u5358\u4f4d\u533a\u5206ID\uff08191\uff1a\u500b\u3001192\uff1a\u672c\u3001193\uff1a\u7740\u3001194\uff1a\u53f0\u3001195\uff1a\u679a\u3001196\uff1a\u7bb1\u3001197\uff1a\u888b\u3001198\uff1a\u4e01\u3001199\uff1a\u8db3\u3001200\uff1a\u5dfb\u3001201\uff1a\u7f36\u3001202\uff1aP\u3001203\uff1aM\u3001204\uff1a\u53cc\u3001205\uff1a\uff7e\uff6f\uff84\u3001206\uff1a\u7d44\u3001207\uff1a\u30f6\u3001208\uff1aST\u3001209\uff1a\u675f\u3001210\uff1a\uff76\uff70\uff84\uff9d\u3001211\uff1a\u5305\u3001212\uff1a\uff8a\uff9f\uff6f\uff78\u3001213\uff1a\u6253\u3001214\uff1a\u53cd\u3001215\uff1akg\u3001216\uff1a\u339d\u3001217\uff1a\u56de\u3001218\uff1a\u518a\u3001219\uff1a\u5f0f\u3001220\uff1aKS\u3001221\uff1a\uff79\uff70\uff7d\u3001222\uff1a\uff98\uff6f\uff84\uff99\u3001223\uff1a\u676f\u3001224\uff1a0\u3001225\uff1aL\u3001226\uff1aS\u3001227\uff1a\u811a\u3001228\uff1a\u7d3a\u3001229\uff1a\u5373\u3001230\uff1a\u9023\uff09"},{title:"c_unit_division_id",description:"C\u5358\u4f4d\u533a\u5206ID\uff08191\uff1a\u500b\u3001192\uff1a\u672c\u3001193\uff1a\u7740\u3001194\uff1a\u53f0\u3001195\uff1a\u679a\u3001196\uff1a\u7bb1\u3001197\uff1a\u888b\u3001198\uff1a\u4e01\u3001199\uff1a\u8db3\u3001200\uff1a\u5dfb\u3001201\uff1a\u7f36\u3001202\uff1aP\u3001203\uff1aM\u3001204\uff1a\u53cc\u3001205\uff1a\uff7e\uff6f\uff84\u3001206\uff1a\u7d44\u3001207\uff1a\u30f6\u3001208\uff1aST\u3001209\uff1a\u675f\u3001210\uff1a\uff76\uff70\uff84\uff9d\u3001211\uff1a\u5305\u3001212\uff1a\uff8a\uff9f\uff6f\uff78\u3001213\uff1a\u6253\u3001214\uff1a\u53cd\u3001215\uff1akg\u3001216\uff1a\u339d\u3001217\uff1a\u56de\u3001218\uff1a\u518a\u3001219\uff1a\u5f0f\u3001220\uff1aKS\u3001221\uff1a\uff79\uff70\uff7d\u3001222\uff1a\uff98\uff6f\uff84\uff99\u3001223\uff1a\u676f\u3001224\uff1a0\u3001225\uff1aL\u3001226\uff1aS\u3001227\uff1a\u811a\u3001228\uff1a\u7d3a\u3001229\uff1a\u5373\u3001230\uff1a\u9023\uff09"},{title:"b_quantity",description:"B\u5165\u6570\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"c_quantity",description:"C\u5165\u6570\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"barcode",description:`\u30d0\u30fc\u30b3\u30fc\u30c9\uff08${Q.U.CHARACTER_LIMITS.BARCODE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`,required:!0},{title:"b_barcode",description:`B\u30d0\u30fc\u30b3\u30fc\u30c9\uff08${Q.U.CHARACTER_LIMITS.B_BARCODE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"c_barcode",description:`C\u30d0\u30fc\u30b3\u30fc\u30c9\uff08${Q.U.CHARACTER_LIMITS.C_BARCODE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"ordering_target_barcode",description:`\u767a\u6ce8\u5bfe\u8c61\u30d0\u30fc\u30b3\u30fc\u30c9\uff08${Q.U.CHARACTER_LIMITS.ORDERING_TARGET_BARCODE_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`,required:!0},{title:"large_category_id",description:"\u5927\u5206\u985eID\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"medium_category_id",description:"\u4e2d\u5206\u985eID\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"small_category_id",description:"\u5c0f\u5206\u985eID\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"point_division_id",description:"\u30dd\u30a4\u30f3\u30c8\u533a\u5206ID\uff08\u30dd\u30a4\u30f3\u30c8\u4ed8\u4e0e\u3059\u308b: 38\u3001\u30dd\u30a4\u30f3\u30c8\u4ed8\u4e0e\u3057\u306a\u3044: 39\uff09",required:!0},{title:"issuance_warranty_division_id",description:"\u4fdd\u8a3c\u66f8\u767a\u884c\u533a\u5206ID\uff08\u767a\u884c\u3057\u306a\u3044: 40\u3001\u767a\u884c\u3059\u308b: 41\uff09",required:!0},{title:"discount_division_id",description:"\u5024\u5f15\u533a\u5206\uff08\u5024\u5f15\u304d\u3059\u308b: 36\u3001\u5024\u5f15\u304d\u3057\u306a\u3044: 37\uff09",required:!0},{title:"price_tag_division_id",description:"\u30dd\u30c3\u30d7\u30b7\u30fc\u30eb\u533a\u5206ID\uff08319\uff1a\u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\uff14\uff14\u9762\u3001320\uff1a\u30ab\u30c8\u30fc\uff11\uff14\uff2e\u3001321\uff1a\u540d\u523a\u30b5\u30a4\u30ba\u3001322\uff1a\u68da\u756a\u53f7\u4ed8\uff11\uff10\uff10\xd7\uff14\uff10\u3001323\uff1a\u30ec\u30fc\u30b6\u30fc\u5c02\u7528\u3001324\uff1a\uff21\uff14\u3001325\uff1a\uff21\uff15\u3001326\uff1a\uff21\uff16\u3001328\uff1a\u306a\u3057\uff09",required:!0},{title:"seal_print_division_id",description:"\u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u5370\u5237\u533a\u5206ID\uff08\u5370\u5237\u3059\u308b: 47\u3001\u5370\u5237\u3057\u306a\u3044: 48\uff09",required:!0},{title:"product_division_id",description:"\u5546\u54c1\u533a\u5206ID\uff08\u5b9a\u756a: 26\u3001\u5ec3\u756a: 27\uff09"},{title:"data_permission_division_id",description:"\u30c7\u30fc\u30bf\u516c\u958b\u533a\u5206\uff08\u516c\u958b\u4e2d: 52\u3001\u4eee\u4fdd\u5b58: 53\u3001\u975e\u516c\u958b: 54\uff09"},{title:"sales_tax_division_id",description:"\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206ID\uff08\u58f2\u4e0a\u7528\uff09\uff08\u5916\u7a0e10%: 28\u3001\u5185\u7a0e10%: 29\u3001\u975e\u8ab2\u7a0e: 30\u3001\u5916\u7a0e8%: 31\u3001\u5185\u7a0e8%: 32\uff09",required:!0},{title:"sales_fraction_division_id",description:"\u5546\u54c1\u8ca9\u58f2\u7aef\u6570\u533a\u5206ID\uff08\u58f2\u4e0a\u7528\uff09\uff08\u5207\u308a\u6368\u3066: 4\u3001\u5207\u308a\u4e0a\u3052: 5\u3001\u56db\u6368\u4e94\u5165: 6\uff09",required:!0},{title:"supplier_sales_tax_division_id",description:"\u4ed5\u5165\u5148\u6d88\u8cbb\u7a0e\u533a\u5206ID\uff08\u5916\u7a0e10%: 33\u3001\u5185\u7a0e10%: 34\u3001\u975e\u8ab2\u7a0e: 35\uff09",required:!0},{title:"supplier_sales_fraction_division_id",description:"\u4ed5\u5165\u5148\u8ca9\u58f2\u7aef\u6570\u533a\u5206ID\uff08\u5207\u308a\u6368\u3066: 4\u3001\u5207\u308a\u4e0a\u3052: 5\u3001\u56db\u6368\u4e94\u5165: 6\uff09",required:!0},{title:"supplier_cost_price",description:"\u4ed5\u5165\u5148\u5546\u54c1\u5358\u4fa1\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"b_supplier_cost_price",description:"\u4ed5\u5165\u5148\u5546\u54c1B\u5358\u4fa1\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"c_supplier_cost_price",description:"\u4ed5\u5165\u5148\u5546\u54c1C\u5358\u4fa1\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"gross_profit_rate",description:"\u8352\u5229\u7387\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"b_gross_profit_rate",description:"B\u8352\u5229\u7387\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"c_gross_profit_rate",description:"C\u8352\u5229\u7387\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"selling_price",description:"\u58f2\u4fa1\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"b_selling_price",description:"B\u58f2\u4fa1\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"c_selling_price",description:"C\u58f2\u4fa1\uff08\u534a\u89d2\u6570\u5b57\uff09",required:!0},{title:"minimum_order_quantity",description:"\u6700\u5c0f\u767a\u6ce8\u6570\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"regulated_stock_num",description:"\u898f\u5b9a\u5728\u5eab\u6570\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"ordering_point",description:"\u767a\u6ce8\u70b9\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"order_lead_time",description:"\u767a\u6ce8\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"shelf_division_id",description:"\u9673\u5217\u68daID\uff080\uff5e82\uff1a231\uff5e312\u300186\uff1a313\u300199\uff1a314\u3001383\uff1a315\u3001393\uff1a316\u3001737\uff1a317\uff09",required:!0},{title:"shelf_col_division_id",description:"\u9673\u5217\u68da - \u5217ID\uff080\uff1a318\uff09",required:!0},{title:"remarks_1",description:`\u5099\u80031\uff08${Q.U.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"remarks_2",description:`\u5099\u80032\uff08${Q.U.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"remarks_3",description:`\u5099\u80033\uff08\u30ec\u30b8\u5099\u8003\uff09\uff08${Q.U.CHARACTER_LIMITS.REMARKS_3_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"remarks_4",description:`\u5099\u80034\uff08${Q.U.CHARACTER_LIMITS.REMARKS_4_MAX_LENGTH}\u6587\u5b57\u4ee5\u5185\uff09`},{title:"custom_large_category_id",description:"\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985eID\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"custom_medium_category_id",description:"\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985eID\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"custom_small_category_id",description:"\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985eID\uff08\u534a\u89d2\u6570\u5b57\uff09"},{title:"seal_price_indication",description:"\u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u4fa1\u683c\u8868\u793a\u533a\u5206\uff080: \u8868\u793a\u3057\u306a\u3044\u30011:\u8868\u793a\u3059\u308b\uff09"},{title:"custom_tag",description:"\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\uff08\u30bf\u30b0\u540d:\u5024\u30022\u3064\u4ee5\u4e0a\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u300c\u30bf\u30b0\u540d:\u5024@\u30bf\u30b0\u540d:\u5024\u300d\u306e\u3088\u3046\u306b@\u3067\u3064\u306a\u3050\uff09"}],this.subscription=new M.w0}ngOnInit(){this.authorService.author?(this.author=this.authorService.author,this.authorname=`${this.author.last_name} ${this.author.first_name}`):this.subscription.add(this.authorService.author$.subscribe(i=>{this.author=i,this.authorname=`${this.author.last_name} ${this.author.first_name}`}))}listenStateChange(i){i===Y.a.START&&(this.common.loading=!0),i===Y.a.END&&(this.common.loading=!1)}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(C.v),e.Y36(z.M),e.Y36(W.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bulk-add"]],decls:5,vars:4,consts:[[3,"service","descriptions","fileNamePrefix","statusChange"],["pageTitle",""],["authorname",""]],template:function(i,t){1&i&&(e.TgZ(0,"app-template-bulk-add",0),e.NdJ("statusChange",function(_){return t.listenStateChange(_)}),e.ynx(1,1),e._uU(2,"\u5546\u54c1\u4e00\u62ec\u767b\u9332"),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.qZA()),2&i&&(e.Q6J("service",t.apiService)("descriptions",t.descriptions)("fileNamePrefix",t.fileNamePrefix),e.xp6(4),e.Oqu(t.authorname))},dependencies:[le.I]}),o})();var Ct=n(8372),Re=n(1884),be=n(3900),De=n(8505),ft=n(9867),At=n(3073),Et=n(1009),Tt=n(5146);function vt(o,l){1&o&&e.GkF(0)}function It(o,l){1&o&&e.GkF(0)}function Mt(o,l){if(1&o&&(e.TgZ(0,"div",55)(1,"p",56),e._uU(2),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(i.notAbleToCalcMessage.piece)}}function Lt(o,l){if(1&o&&(e.TgZ(0,"div",55)(1,"p",56),e._uU(2),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(i.notAbleToCalcMessage.set)}}function Rt(o,l){if(1&o&&(e.TgZ(0,"div",55)(1,"p",56),e._uU(2),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(i.notAbleToCalcMessage.case)}}function bt(o,l){1&o&&(e.TgZ(0,"span",57),e._uU(1," \u5fc5\u9808 "),e.qZA())}let Ne=(()=>{class o{constructor(i,t,r,_,h,f,U,Z,H,V,ee,te,q,se){this.fb=i,this.authorService=t,this.route=r,this.common=_,this.service=h,this.customTags=f,this.divisions=U,this.suppliers=Z,this.lCates=H,this.mCates=V,this.sCates=ee,this.cLCates=te,this.cMCates=q,this.cSCates=se,this.seal_price_indication_option=[{value:"0",text:"\u8868\u793a\u3057\u306a\u3044"},{value:"1",text:"\u8868\u793a\u3059\u308b"}],this.productConst=Q.U,this.id=this.route.snapshot.params.id,this.updater="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.authorname="\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d...",this.subscription=new M.w0,this.defaultSelectOption={value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"},this.notAbleToCalcMessage={piece:null,set:null,case:null},this.division={},this.modifyFormValue=()=>{const w={...this.form.value};return["gross_profit_rate","b_gross_profit_rate","c_gross_profit_rate"].forEach(K=>{w[K]=this.form.get(K)?.value}),w.product_custom_tag=this.form.value.product_custom_tag?.filter(K=>K.name&&K.value),w.product_custom_tag.forEach(K=>K.custom_tag_id?"":delete K.custom_tag_id),w},this.form=this.fb.group({image:null,image_path:"",name:["",[a.kI.required,a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.NAME_MAX_LENGTH))]],name_kana:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH)),a.kI.pattern(T.m.FULL_WIDTH_KATAKANA_REG_EX)]],supplier_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],supplier_name:["",[a.kI.required,a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.SUPPLIER_NAME))]],supplier_product_cd:["",a.kI.maxLength(10)],supplier_sales_tax_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],supplier_sales_fraction_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],supplier_cost_price:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],b_supplier_cost_price:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],c_supplier_cost_price:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],standard:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.STANDARD_MAX_LENGTH))]],part_number:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.PART_NUMBER_MAX_LENGTH))]],sales_tax_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],sales_fraction_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],barcode:["",[a.kI.required,a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.BARCODE_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],b_barcode:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.B_BARCODE_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],c_barcode:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.C_BARCODE_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],quantity:["1",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.QUANTITY_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],b_quantity:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.B_QUANTITY_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],c_quantity:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.C_QUANTITY_MAX_LENGTH)),a.kI.pattern(T.m.NUMERIC_REG_EX)]],gross_profit_rate:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_2DIGIT_REG_EX)]],b_gross_profit_rate:["",[a.kI.pattern(T.m.NUMERIC_2DIGIT_REG_EX)]],c_gross_profit_rate:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_2DIGIT_REG_EX)]],selling_price:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],b_selling_price:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],c_selling_price:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],discount_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],unit_division_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],b_unit_division_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],c_unit_division_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],product_division_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],point_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],issuance_warranty_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],large_category_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],medium_category_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],small_category_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],remarks_1:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH))]],remarks_2:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH))]],remarks_3:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.REMARKS_3_MAX_LENGTH))]],remarks_4:["",[a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.REMARKS_4_MAX_LENGTH))]],seal_print_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],price_tag_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],ordering_target_barcode:["",[a.kI.required,a.kI.maxLength(Number(this.productConst.CHARACTER_LIMITS.ORDERING_TARGET_BARCODE_MAX_LENGTH))]],regulated_stock_num:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],ordering_point:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],order_lead_time:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],shelf_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],shelf_col_division_id:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],custom_large_category_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],custom_medium_category_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],custom_small_category_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],data_permission_division_id:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],minimum_order_quantity:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],basic_shipping_fee:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],shipping_surcharge:["",[a.kI.required,a.kI.pattern(T.m.NUMERIC_REG_EX)]],seal_price_indication:["",[a.kI.pattern(T.m.NUMERIC_REG_EX)]],out_of_service_at:[""],product_custom_tag:this.fb.array([this.fb.group({custom_tag_id:"",name:"",value:""})]),specified_order_flag:["0"]}),this.opts={supplier_id:[],supplier_sales_tax_division_id:[],supplier_sales_fraction_division_id:[],sales_tax_division_id:[],sales_fraction_division_id:[],discount_division_id:[],unit_division_id:[],b_unit_division_id:[],c_unit_division_id:[],product_division_id:[],point_division_id:[],issuance_warranty_division_id:[],seal_print_division_id:[],price_tag_division_id:[],shelf_division_id:[],shelf_col_division_id:[],custom_large_category_id:[],custom_medium_category_id:[],custom_small_category_id:[],data_permission_division_id:[],large_category_id:[],medium_category_id:[],small_category_id:[],seal_price_indication:[]}}get fc(){return this.form.controls}ngOnInit(){if(this.authorService.author?(this.author=this.authorService.author,this.authorname=`${this.author.last_name} ${this.author.first_name}`):this.subscription.add(this.authorService.author$.subscribe(r=>{this.author=r,this.authorname=`${this.author.last_name} ${this.author.first_name}`})),!this.id)return this.initOptions(),void this.subscribeFormChanges();const i=this.service.find(this.id).pipe((0,d.K)(this.service.handleErrorModal())),t=this.customTags.getRelatedCustomTags(this.id).pipe((0,d.K)(this.customTags.handleErrorModal()));this.common.loading=!0,(0,R.D)({ps:i,ct:t}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(r=>{const _=r.ps.data[0];_.barcode===_.ordering_target_barcode&&(this.flg_ordering_target_barcode=1),_.b_barcode===_.ordering_target_barcode&&(this.flg_ordering_target_barcode=2),_.c_barcode===_.ordering_target_barcode&&(this.flg_ordering_target_barcode=3),this.initOptions(_),this.form.patchValue(_,{emitEvent:!1}),this.form.controls.image_path.setValue(_.image_path),this.updater=`${_.employee_updated_last_name} ${_.employee_updated_first_name}`,this.fc.ordering_target_barcode.reset(),setTimeout(()=>{this.fc.ordering_target_barcode.patchValue(_.ordering_target_barcode)},1);const h=r.ct.data;h.length&&this.fc.product_custom_tag.clear(),h.map(f=>this.fc.product_custom_tag.push(this.fb.group({custom_tag_id:f.custom_tag_id+"",name:f.custom_tag_name,value:f.custom_tag_value}))),this.subscribeFormChanges()}),this.notAbleToCalcMessage={piece:null,set:null,case:null}}changeOrderingTargetBarcode(i,t){this.flg_ordering_target_barcode===i&&this.fc.ordering_target_barcode.patchValue(t)}setOrderingTargetBarcode(i,t){this.flg_ordering_target_barcode=i,this.fc.ordering_target_barcode.patchValue(t)}getValue(i){let t=i.target.value;const r=this.opts.product_division_id.find(f=>f.text===this.productConst.PRODUCT_DIVISION.VALUE.WASTE_NUMBER);let h=(new Date).toLocaleString();Number(t)==r?.value?this.fc.out_of_service_at.setValue(h):this.fc.out_of_service_at.setValue("")}ngOnDestroy(){this.subscription.unsubscribe()}listenStateChange(i){this.common.loading=!!i}initOptions(i){let t={},r={},_={},h={};void 0!==i&&(t={large_category_id:i.large_category_id},r={medium_category_id:i.medium_category_id},""!==i.custom_large_category_id&&(_={custom_large_category_id:i.custom_large_category_id}),""!==i.custom_medium_category_id&&(h={custom_medium_category_id:i.custom_medium_category_id}));const f=this.divisions.getAsSelectOptions().pipe((0,d.K)(this.divisions.handleErrorModal())),U=this.lCates.getAsSelectOptions().pipe((0,d.K)(this.lCates.handleErrorModal())),Z=this.mCates.getAsSelectOptions(t).pipe((0,d.K)(this.mCates.handleErrorModal())),H=this.sCates.getAsSelectOptions(r).pipe((0,d.K)(this.sCates.handleErrorModal())),V=this.cLCates.getAsSelectOptions().pipe((0,d.K)(this.cLCates.handleErrorModal())),ee=this.cMCates.getAsSelectOptions(_).pipe((0,d.K)(this.cMCates.handleErrorModal())),te=this.cSCates.getAsSelectOptions(h).pipe((0,d.K)(this.cSCates.handleErrorModal()));this.common.loading=!0,(0,R.D)({div:f,lc:U,mc:Z,sc:H,cl:V,cm:ee,cs:te}).pipe((0,L.x)(()=>this.common.loading=!1)).subscribe(q=>{this.division=q.div,[{name:"supplier_sales_tax_division_id",name_jp:"\u4ed5\u5165\u5148\u6d88\u8cbb\u7a0e\u533a\u5206"},{name:"supplier_sales_fraction_division_id",name_jp:"\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206"},{name:"sales_tax_division_id",name_jp:"\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206"},{name:"sales_fraction_division_id",name_jp:"\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206"},{name:"discount_division_id",name_jp:"\u5024\u5f15\u304d\u533a\u5206"},{name:"unit_division_id",name_jp:"\u5358\u4f4d\u533a\u5206"},{name:"b_unit_division_id",name_jp:"\u5358\u4f4d\u533a\u5206"},{name:"c_unit_division_id",name_jp:"\u5358\u4f4d\u533a\u5206"},{name:"product_division_id",name_jp:"\u5546\u54c1\u533a\u5206"},{name:"point_division_id",name_jp:"\u30dd\u30a4\u30f3\u30c8\u533a\u5206"},{name:"issuance_warranty_division_id",name_jp:"\u4fdd\u8a3c\u66f8\u767a\u884c\u533a\u5206"},{name:"seal_print_division_id",name_jp:"\u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u5370\u5237\u533a\u5206"},{name:"price_tag_division_id",name_jp:"\u30dd\u30c3\u30d7\u30b7\u30fc\u30eb\u533a\u5206"},{name:"shelf_division_id",name_jp:"\u9673\u5217\u68da\u533a\u5206"},{name:"shelf_col_division_id",name_jp:"\u9673\u5217\u68da\u5217\u533a\u5206"},{name:"data_permission_division_id",name_jp:"\u30c7\u30fc\u30bf\u516c\u958b\u533a\u5206"}].forEach(({name:w,name_jp:K})=>this.opts[w]=[...q.div[K]]),this.opts.large_category_id=q.lc,this.opts.medium_category_id=q.mc,this.opts.small_category_id=q.sc,this.opts.custom_large_category_id=q.cl,this.opts.custom_medium_category_id=q.cm,this.opts.custom_small_category_id=q.cs,Object.values(this.opts).forEach(w=>w.unshift(this.defaultSelectOption)),this.fc.seal_price_indication.patchValue(null==i?"1":i.seal_price_indication)})}onIdValueChanges(i){if(""===i||null==i)return this.fc.supplier_sales_tax_division_id.setValue(""),this.fc.supplier_sales_fraction_division_id.setValue(""),void this.fc.supplier_id.setValue("",{emitEvent:!1});this.common.loading=!0,this.subscription.add(this.suppliers.find(Number(i)).pipe((0,d.K)(t=>(this.common.loading=!1,(0,me.of)(t)))).subscribe(t=>{if(t instanceof Te.UA)return void this.suppliers.handleErrorModal()(t);const r=t.data[0];this.fc.supplier_sales_tax_division_id.setValue(r?.sales_tax_division_id+""),this.fc.supplier_sales_fraction_division_id.setValue(r?.sales_fraction_division_id+""),this.common.loading=!1}))}getSupplier(i){return null==i||""===i?(this.fc.supplier_sales_tax_division_id.setValue(""),this.fc.supplier_sales_fraction_division_id.setValue(""),this.fc.supplier_name.setValue("",{emitEvent:!1}),(0,me.of)()):(this.common.loading=!0,this.suppliers.find(Number(i)).pipe((0,ve.U)(t=>{const r=t.data[0];this.fc.supplier_sales_tax_division_id.setValue(r?.sales_tax_division_id+""),this.fc.supplier_sales_fraction_division_id.setValue(r?.sales_fraction_division_id+""),this.fc.supplier_name.setValue(r?.name,{emitEvent:!1}),this.common.loading=!1}),(0,d.K)(t=>(this.common.loading=!1,this.suppliers.handleErrorModal()(t)))))}subscribeFormChanges(){this.subscription.add(this.fc.supplier_id.valueChanges.pipe((0,Ct.b)(500),(0,Re.x)(),(0,be.w)(t=>this.getSupplier(String(t)))).subscribe()),[{control:this.fc.large_category_id,observable:t=>this.mCates.getAsSelectOptions({large_category_id:Number(t)}).pipe((0,d.K)(this.mCates.handleErrorModal())),subscribe:t=>{this.opts.medium_category_id=t,this.fc.medium_category_id.patchValue(""),this.fc.small_category_id.patchValue("")}},{control:this.fc.medium_category_id,observable:t=>this.sCates.getAsSelectOptions({medium_category_id:Number(t)}).pipe((0,d.K)(this.sCates.handleErrorModal())),subscribe:t=>this.opts.small_category_id=t},{control:this.fc.custom_large_category_id,observable:t=>this.cMCates.getAsSelectOptions({custom_large_category_id:Number(t)}).pipe((0,d.K)(this.cMCates.handleErrorModal())),subscribe:t=>{this.opts.custom_medium_category_id=t,this.fc.small_category_id.patchValue(""),this.fc.custom_medium_category_id.patchValue("")}},{control:this.fc.custom_medium_category_id,observable:t=>this.cSCates.getAsSelectOptions({custom_medium_category_id:Number(t)}).pipe((0,d.K)(this.cSCates.handleErrorModal())),subscribe:t=>this.opts.custom_small_category_id=t}].forEach(t=>{const r=t.control.valueChanges.pipe((0,Re.x)(),(0,De.b)(()=>this.common.loading=!0),(0,be.w)(_=>t.observable(_+"").pipe((0,L.x)(()=>this.common.loading=!1),(0,L.x)(()=>this.setDisabled()))),(0,De.b)(_=>_.unshift(this.defaultSelectOption))).subscribe(_=>t.subscribe(_));this.subscription.add(r)}),this.subscription.add(this.fc.sales_tax_division_id.valueChanges.pipe().subscribe(()=>{this.fc.selling_price.setValue(""),this.fc.b_selling_price.setValue(""),this.fc.c_selling_price.setValue(""),this.setNotAbleToCalcMessage("\u30d0\u30e9"),this.setNotAbleToCalcMessage("\u5c0f\u5206\u3051"),this.setNotAbleToCalcMessage("\u30b1\u30fc\u30b9")})),this.subscription.add(this.fc.supplier_cost_price.valueChanges.subscribe(()=>this.setNotAbleToCalcMessage("\u30d0\u30e9"))),this.subscription.add(this.fc.gross_profit_rate.valueChanges.subscribe(()=>this.setNotAbleToCalcMessage("\u30d0\u30e9"))),this.subscription.add(this.fc.b_supplier_cost_price.valueChanges.subscribe(()=>this.setNotAbleToCalcMessage("\u5c0f\u5206\u3051"))),this.subscription.add(this.fc.b_gross_profit_rate.valueChanges.subscribe(()=>this.setNotAbleToCalcMessage("\u5c0f\u5206\u3051"))),this.subscription.add(this.fc.c_supplier_cost_price.valueChanges.subscribe(()=>this.setNotAbleToCalcMessage("\u30b1\u30fc\u30b9"))),this.subscription.add(this.fc.c_gross_profit_rate.valueChanges.subscribe(()=>this.setNotAbleToCalcMessage("\u30b1\u30fc\u30b9"))),this.setDisabled()}setDisabled(){[{parent:this.fc.large_category_id,child:this.fc.medium_category_id},{parent:this.fc.medium_category_id,child:this.fc.small_category_id},{parent:this.fc.custom_large_category_id,child:this.fc.custom_medium_category_id},{parent:this.fc.custom_medium_category_id,child:this.fc.custom_small_category_id}].forEach(({parent:i,child:t})=>""===i.value?t.disable({emitEvent:!1}):t.enable({emitEvent:!1}))}getSuggests(){return{observable:this.suppliers.getAll({name:this.fc.supplier_name.value}),idField:"id",nameField:"name"}}setNotAbleToCalcMessage(i){if(""===this.fc.sales_tax_division_id.value)return this.notAbleToCalcMessage.piece="\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u58f2\u4e0a\u7528\uff09\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u5024\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",this.notAbleToCalcMessage.set="\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u58f2\u4e0a\u7528\uff09\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u5024\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",void(this.notAbleToCalcMessage.case="\u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u58f2\u4e0a\u7528\uff09\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u5024\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002");switch(i){case"\u30d0\u30e9":this.notAbleToCalcMessage.piece=""===this.fc.supplier_cost_price.value&&""===this.fc.gross_profit_rate.value?"\u4ed5\u5165\u5358\u4fa1\u3068\u7c97\u5229\u7387\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===this.fc.supplier_cost_price.value?"\u4ed5\u5165\u5358\u4fa1\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===this.fc.gross_profit_rate.value?"\u7c97\u5229\u7387\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":null;break;case"\u5c0f\u5206\u3051":this.notAbleToCalcMessage.set=""===this.fc.b_supplier_cost_price.value&&""===this.fc.b_gross_profit_rate.value?"\u4ed5\u5165\u5358\u4fa1\u3068\u7c97\u5229\u7387\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===this.fc.b_supplier_cost_price.value?"\u4ed5\u5165\u5358\u4fa1\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===this.fc.b_gross_profit_rate.value?"\u7c97\u5229\u7387\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":null;break;case"\u30b1\u30fc\u30b9":this.notAbleToCalcMessage.case=""===this.fc.c_supplier_cost_price.value&&""===this.fc.c_gross_profit_rate.value?"\u4ed5\u5165\u5358\u4fa1\u3068\u7c97\u5229\u7387\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===this.fc.c_supplier_cost_price.value?"\u4ed5\u5165\u5358\u4fa1\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":""===this.fc.c_gross_profit_rate.value?"\u7c97\u5229\u7387\u304c\u7a7a\u767d\u3067\u3059\u3002\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002":null}}handleClickCalcButton(i){switch(this.setNotAbleToCalcMessage(i),i){case"\u30d0\u30e9":if(null!==this.notAbleToCalcMessage.piece)return;break;case"\u5c0f\u5206\u3051":if(null!==this.notAbleToCalcMessage.set)return;break;case"\u30b1\u30fc\u30b9":if(null!==this.notAbleToCalcMessage.case)return;break;default:return}let t,r,_;switch(String(this.fc.sales_tax_division_id.value)){case"28":t=1.1;break;case"31":t=1.08;break;default:t=1}switch(i){case"\u30d0\u30e9":r=Number(this.fc.supplier_cost_price.value)/(1-Number(this.fc.gross_profit_rate.value)/100)*t;break;case"\u5c0f\u5206\u3051":r=Number(this.fc.b_supplier_cost_price.value)/(1-Number(this.fc.b_gross_profit_rate.value)/100)*t;break;case"\u30b1\u30fc\u30b9":r=Number(this.fc.c_supplier_cost_price.value)/(1-Number(this.fc.c_gross_profit_rate.value)/100)*t}switch(!0){case r<3e3:_=Math.round(r);break;case r<1e4:_=10*Math.round(r/10);break;default:_=100*Math.round(r/100)}switch(i){case"\u30d0\u30e9":this.fc.selling_price.setValue(String(_));break;case"\u5c0f\u5206\u3051":this.fc.b_selling_price.setValue(String(_));break;case"\u30b1\u30fc\u30b9":this.fc.c_selling_price.setValue(String(_))}}handleClickClearValueButton(i){switch(i){case"\u30d0\u30e9":this.fc.selling_price.setValue(""),this.fc.selling_price.markAllAsTouched();break;case"\u5c0f\u5206\u3051":this.fc.b_selling_price.setValue("");break;case"\u30b1\u30fc\u30b9":this.fc.c_selling_price.setValue(""),this.fc.c_selling_price.markAsTouched()}}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(W.Y),e.Y36(s.gz),e.Y36(C.v),e.Y36(z.M),e.Y36(Le),e.Y36(j.E),e.Y36(b.p),e.Y36(pe.T),e.Y36(de.G),e.Y36(Ie.i),e.Y36(ft.r),e.Y36(At.t),e.Y36(Et.N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit"]],decls:233,vars:119,consts:[[3,"service","formCtrl","modFn","statusChange"],["pageTitle",""],["updater",""],["authorname",""],["form",""],["formTitle",""],["formContent","",1,"flex","flex-col","gap-4"],[1,"flex","flex-row","gap-6"],["nameAttrValue","supplier_id","idAttrValue","supplier-id",1,"w-3/12",3,"formCtrl","useClear"],["nameAttrValue","supplier_name","idAttrValue","supplier-name",1,"w-9/12",3,"idCtrl","nameCtrl","apiInput","idValueChanges"],[1,"w-3/12",3,"formCtrl"],[1,"w-9/12"],[3,"formCtrl"],[1,"flex","gap-6"],[1,"w-2/3",3,"formCtrl"],[1,"w-1/3",3,"formCtrl"],[1,"w-1/4",3,"formCtrl"],[1,"mt-2","shadow","border","border-gray-300","border-t-warning-hover","border-t-2","[&_app-label]:hidden"],[1,"flex","gap-6","px-6","py-4","border-b","border-b-gray-300","[&>*]:w-1/5"],[1,"flex","gap-2","items-center"],[4,"ngTemplateOutlet"],[3,"formCtrl","options"],[3,"formCtrl","alignRight"],[3,"formCtrl","change"],[1,"flex","items-center"],["type","radio","name","radio",1,"w-6","h-6","text-blue-600","bg-gray-100","border-gray-300","cursor-pointer",3,"disabled","checked","change"],[1,"flex","gap-6","[&>*]:w-1/3"],[3,"formCtrl","options","change"],["formContent","",1,"flex","flex-col","gap-4","[&_input]:text-right"],[1,"flex","gap-6","[&>*]:w-1/4"],[1,"mt-2","shadow","border","border-gray-300","border-t-warning-hover","border-t-2","py-6"],[1,"flex","flex-1","gap-4","px-4"],[1,"w-[10%]","flex","items-center","justify-center"],[1,"mt-[24px]"],[1,"w-[25%]"],[1,"w-[30%]","mt-7","flex","flex-row","gap-6","justify-end"],["btnType","button",3,"click"],["btnType","button","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled","click"],["class","px-4 flex justify-end",4,"ngIf"],[1,"my-4"],[1,"flex","gap-4","px-4"],["formContent","",1,"mt-6","shadow","border","border-gray-300","border-t-warning-hover","border-t-2"],[1,"flex","gap-6","px-6","py-4","[&>*]:w-1/4"],[1,"flex"],[1,"grow",3,"formCtrl"],[1,"ml-2","pt-9"],["formContent",""],[1,"pb-8","flex","border-b","border-gray-300"],[1,"w-1/3",3,"fileCtrl","pathCtrl"],[1,"text-sm"],[1,"grow","flex","flex-col","gap-4"],[3,"formCtrl","rows"],[1,"mt-6","pb-8","flex","gap-6","[&>*]:w-1/3","border-b","border-gray-300"],[1,"block","mt-6",3,"formArray"],["required",""],[1,"px-4","flex","justify-end"],[1,"mt-4","text-rose-500"],[1,"px-3","py-0.5","shrink-0","text-xs","text-white","bg-warning-dark","rounded-full"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-template-add-edit",0),e.NdJ("statusChange",function(_){return t.common.loading=!!_}),e.ynx(1,1),e._uU(2),e.BQk(),e.ynx(3,2),e._uU(4),e.BQk(),e.ynx(5,3),e._uU(6),e.BQk(),e.TgZ(7,"app-form-block",4),e.ynx(8,5),e._uU(9,"\u4ed5\u5165\u5148\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(10,"div",6)(11,"div",7)(12,"app-input",8),e._uU(13," \u4ed5\u5165\u5148ID\uff08\u534a\u89d2\u6570\u5b57\uff09 "),e.qZA(),e.TgZ(14,"app-real-time-suggest-container",9),e.NdJ("idValueChanges",function(_){return t.onIdValueChanges(_)}),e._uU(15," \u4ed5\u5165\u5148\u540d "),e.qZA()(),e.TgZ(16,"div",7)(17,"app-input",10),e._uU(18," \u4ed5\u5165\u5148\u5546\u54c1\u30b3\u30fc\u30c9\uff0810\u6587\u5b57\u4ee5\u5185\uff09 "),e.qZA(),e._UZ(19,"div",11),e.qZA()()(),e.TgZ(20,"app-form-block",4),e.ynx(21,5),e._uU(22,"\u5546\u54c1\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(23,"div",6)(24,"app-input",12),e._uU(25),e.qZA(),e.TgZ(26,"app-input",12),e._uU(27),e.qZA(),e.TgZ(28,"div",13)(29,"app-input",14),e._uU(30),e.qZA(),e.TgZ(31,"app-input",15),e._uU(32),e.qZA()(),e.TgZ(33,"div",13)(34,"app-input",16),e._uU(35,"\u914d\u9001\u6599\u91d1\uff08\u534a\u89d2\u6570\u5b57\uff09"),e.qZA(),e.TgZ(36,"app-input",16),e._uU(37,"\u914d\u9001\u8ffd\u52a0\u6599\u91d1\uff08\u534a\u89d2\u6570\u5b57\uff09"),e.qZA()(),e.TgZ(38,"div",17)(39,"div",18),e._UZ(40,"div"),e.TgZ(41,"div"),e._uU(42,"\u5358\u4f4d"),e.qZA(),e.TgZ(43,"div"),e._uU(44,"\u5165\u6570"),e.qZA(),e.TgZ(45,"div",19),e._uU(46," JAN\u30b3\u30fc\u30c9 "),e.YNc(47,vt,1,0,"ng-container",20),e.qZA(),e.TgZ(48,"div",19),e._uU(49," \u767a\u6ce8\u7528 "),e.YNc(50,It,1,0,"ng-container",20),e.qZA()(),e.TgZ(51,"div",18)(52,"p"),e._uU(53,"\u30d0\u30e9"),e.qZA(),e._UZ(54,"app-select",21)(55,"app-input",22),e.TgZ(56,"app-input",23),e.NdJ("change",function(){return t.changeOrderingTargetBarcode(1,t.fc.barcode.value)}),e.qZA(),e.TgZ(57,"div",24)(58,"input",25),e.NdJ("change",function(){return t.setOrderingTargetBarcode(1,t.fc.barcode.value)}),e.qZA()()(),e.TgZ(59,"div",18)(60,"p"),e._uU(61,"\u5c0f\u5206\u3051"),e.qZA(),e._UZ(62,"app-select",21)(63,"app-input",22),e.TgZ(64,"app-input",23),e.NdJ("change",function(){return t.changeOrderingTargetBarcode(2,t.fc.b_barcode.value)}),e.qZA(),e.TgZ(65,"div",24)(66,"input",25),e.NdJ("change",function(){return t.setOrderingTargetBarcode(2,t.fc.b_barcode.value)}),e.qZA()()(),e.TgZ(67,"div",18)(68,"p"),e._uU(69,"\u30b1\u30fc\u30b9"),e.qZA(),e._UZ(70,"app-select",21)(71,"app-input",22),e.TgZ(72,"app-input",23),e.NdJ("change",function(){return t.changeOrderingTargetBarcode(3,t.fc.c_barcode.value)}),e.qZA(),e.TgZ(73,"div",24)(74,"input",25),e.NdJ("change",function(){return t.setOrderingTargetBarcode(3,t.fc.c_barcode.value)}),e.qZA()()()(),e.TgZ(75,"div",26)(76,"app-select",21),e._uU(77," \u5927\u5206\u985e "),e.qZA(),e.TgZ(78,"app-select",21),e._uU(79," \u4e2d\u5206\u985e "),e.qZA(),e.TgZ(80,"app-select",21),e._uU(81," \u5c0f\u5206\u985e "),e.qZA()()()(),e.TgZ(82,"app-form-block",4),e.ynx(83,5),e._uU(84,"\u5404\u7a2e\u533a\u5206\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(85,"div",6)(86,"div",26)(87,"app-select",21),e._uU(88," \u30dd\u30a4\u30f3\u30c8\u533a\u5206 "),e.qZA(),e.TgZ(89,"app-select",21),e._uU(90," \u4fdd\u8a3c\u66f8\u767a\u884c\u533a\u5206 "),e.qZA(),e.TgZ(91,"app-select",21),e._uU(92," \u5024\u5f15\u533a\u5206 "),e.qZA()(),e.TgZ(93,"div",26)(94,"app-select",21),e._uU(95," \u30dd\u30c3\u30d7\u30b7\u30fc\u30eb\u533a\u5206 "),e.qZA(),e.TgZ(96,"app-select",21),e._uU(97," \u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u5370\u5237\u533a\u5206 "),e.qZA(),e.TgZ(98,"app-select",21),e._uU(99," \u30e9\u30d9\u30eb\u30b7\u30fc\u30eb\u4fa1\u683c\u8868\u793a\u533a\u5206 "),e.qZA()(),e.TgZ(100,"div",26)(101,"app-select",27),e.NdJ("change",function(_){return t.getValue(_)}),e._uU(102," \u5546\u54c1\u533a\u5206 "),e.qZA(),e.TgZ(103,"app-select",21),e._uU(104," \u30c7\u30fc\u30bf\u516c\u958b\u533a\u5206 "),e.qZA(),e._UZ(105,"div"),e.qZA()()(),e.TgZ(106,"app-form-block",4),e.ynx(107,5),e._uU(108,"\u4fa1\u683c\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(109,"div",28)(110,"div",29)(111,"app-select",21),e._uU(112," \u5546\u54c1\u6d88\u8cbb\u7a0e\u533a\u5206\uff08\u58f2\u4e0a\u7528\uff09 "),e.qZA(),e.TgZ(113,"app-select",21),e._uU(114," \u5546\u54c1\u8ca9\u58f2\u7aef\u6570\u533a\u5206\uff08\u58f2\u4e0a\u7528\uff09 "),e.qZA(),e.TgZ(115,"app-select",21),e._uU(116," \u4ed5\u5165\u5148\u6d88\u8cbb\u7a0e\u533a\u5206 "),e.qZA(),e.TgZ(117,"app-select",21),e._uU(118," \u4ed5\u5165\u5148\u6d88\u8cbb\u7a0e\u7aef\u6570\u533a\u5206 "),e.qZA()(),e.TgZ(119,"div",30)(120,"div",31)(121,"div",32)(122,"div",33)(123,"span"),e._uU(124,"\u30d0\u30e9"),e.qZA()()(),e.TgZ(125,"div",34)(126,"app-input",12),e._uU(127,"\u4ed5\u5165\u5358\u4fa1\uff08\u5186\uff09"),e.qZA()(),e.TgZ(128,"div",34)(129,"app-input",12),e._uU(130,"\u7c97\u5229\u7387\uff08\uff05\uff09"),e.qZA()(),e.TgZ(131,"div",34)(132,"app-input",12),e._uU(133,"\u58f2\u4fa1\uff08\u5186\uff09"),e.qZA()(),e.TgZ(134,"div",35)(135,"app-button",36),e.NdJ("click",function(){return t.handleClickClearValueButton("\u30d0\u30e9")}),e._uU(136," \u5024\u3092\u30af\u30ea\u30a2 "),e.qZA(),e.TgZ(137,"app-button",37),e.NdJ("click",function(){return t.handleClickCalcButton("\u30d0\u30e9")}),e._uU(138," \u58f2\u4fa1\u3092\u8a08\u7b97 "),e.qZA()()(),e.YNc(139,Mt,3,1,"div",38),e._UZ(140,"hr",39),e.TgZ(141,"div",40)(142,"div",32)(143,"div",33)(144,"span"),e._uU(145,"\u5c0f\u5206\u3051"),e.qZA()()(),e.TgZ(146,"div",34)(147,"app-input",12),e._uU(148,"\u4ed5\u5165\u5358\u4fa1\uff08\u5186\uff09"),e.qZA()(),e.TgZ(149,"div",34)(150,"app-input",12),e._uU(151,"\u7c97\u5229\u7387\uff08\uff05\uff09"),e.qZA()(),e.TgZ(152,"div",34)(153,"app-input",12),e._uU(154,"\u58f2\u4fa1\uff08\u5186\uff09"),e.qZA()(),e.TgZ(155,"div",35)(156,"app-button",36),e.NdJ("click",function(){return t.handleClickClearValueButton("\u5c0f\u5206\u3051")}),e._uU(157," \u5024\u3092\u30af\u30ea\u30a2 "),e.qZA(),e.TgZ(158,"app-button",37),e.NdJ("click",function(){return t.handleClickCalcButton("\u5c0f\u5206\u3051")}),e._uU(159," \u58f2\u4fa1\u3092\u8a08\u7b97 "),e.qZA()()(),e.YNc(160,Lt,3,1,"div",38),e._UZ(161,"hr",39),e.TgZ(162,"div",40)(163,"div",32)(164,"div",33)(165,"span"),e._uU(166,"\u30b1\u30fc\u30b9"),e.qZA()()(),e.TgZ(167,"div",34)(168,"app-input",12),e._uU(169,"\u4ed5\u5165\u5358\u4fa1\uff08\u5186\uff09"),e.qZA()(),e.TgZ(170,"div",34)(171,"app-input",12),e._uU(172,"\u7c97\u5229\u7387\uff08\uff05\uff09"),e.qZA()(),e.TgZ(173,"div",34)(174,"app-input",12),e._uU(175,"\u58f2\u4fa1\uff08\u5186\uff09"),e.qZA()(),e.TgZ(176,"div",35)(177,"app-button",36),e.NdJ("click",function(){return t.handleClickClearValueButton("\u30b1\u30fc\u30b9")}),e._uU(178," \u5024\u3092\u30af\u30ea\u30a2 "),e.qZA(),e.TgZ(179,"app-button",37),e.NdJ("click",function(){return t.handleClickCalcButton("\u30b1\u30fc\u30b9")}),e._uU(180," \u58f2\u4fa1\u3092\u8a08\u7b97 "),e.qZA()()(),e.YNc(181,Rt,3,1,"div",38),e.qZA()()(),e.TgZ(182,"app-form-block",4),e.ynx(183,5),e._uU(184,"\u5728\u5eab\u7ba1\u7406\u60c5\u5831\u5165\u529b"),e.BQk(),e.TgZ(185,"div",41)(186,"div",42)(187,"app-input",12),e._uU(188,"\u6700\u5c0f\u767a\u6ce8\u6570\uff08\u534a\u89d2\u6570\u5b57\uff09"),e.qZA(),e.TgZ(189,"app-input",12),e._uU(190,"\u898f\u5b9a\u5728\u5eab\u6570\uff08\u534a\u89d2\u6570\u5b57\uff09"),e.qZA(),e.TgZ(191,"app-input",12),e._uU(192,"\u767a\u6ce8\u70b9\uff08\u534a\u89d2\u6570\u5b57\uff09"),e.qZA(),e.TgZ(193,"div",43)(194,"app-input",44),e._uU(195,"\u30ea\u30fc\u30c9\u30bf\u30a4\u30e0\uff08\u534a\u89d2\u6570\u5b57\uff09"),e.qZA(),e.TgZ(196,"span",45),e._uU(197,"\u65e5"),e.qZA()()(),e.TgZ(198,"div",42)(199,"app-select",21),e._uU(200," \u9673\u5217\u68da "),e.qZA(),e.TgZ(201,"app-select",21),e._uU(202," \u9673\u5217\u68da - \u5217 "),e.qZA(),e._UZ(203,"div")(204,"div"),e.qZA()()(),e.TgZ(205,"app-form-block",4),e.ynx(206,5),e._uU(207,"\u305d\u306e\u4ed6\u5c5e\u6027\u60c5\u5831\u5165\u529b"),e.BQk(),e.ynx(208,46),e.TgZ(209,"div",47)(210,"app-file-with-preview",48)(211,"p",49),e._uU(212,"\u203b \u753b\u50cf\u306e\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306f\u6700\u59273M\u30d0\u30a4\u30c8"),e.qZA()(),e.TgZ(213,"div",50)(214,"app-textarea",51),e._uU(215),e.qZA(),e.TgZ(216,"app-textarea",51),e._uU(217),e.qZA(),e.TgZ(218,"app-textarea",51),e._uU(219),e.qZA(),e.TgZ(220,"app-textarea",51),e._uU(221),e.qZA()()(),e.TgZ(222,"div",52)(223,"app-select",21),e._uU(224," \u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e "),e.qZA(),e.TgZ(225,"app-select",21),e._uU(226," \u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e "),e.qZA(),e.TgZ(227,"app-select",21),e._uU(228," \u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e "),e.qZA()(),e.TgZ(229,"app-custom-tag-form",53),e._uU(230," \u30ab\u30b9\u30bf\u30e0\u30bf\u30b0 "),e.qZA(),e.BQk(),e.qZA()(),e.YNc(231,bt,2,0,"ng-template",null,54,e.W1O)),2&i){const r=e.MAs(232);e.Q6J("service",t.service)("formCtrl",t.form)("modFn",t.modifyFormValue),e.xp6(2),e.hij(" ",t.id?"\u5546\u54c1\u7de8\u96c6":"\u5546\u54c1\u65b0\u898f\u767b\u9332"," "),e.xp6(2),e.Oqu(t.updater),e.xp6(2),e.Oqu(t.authorname),e.xp6(6),e.Q6J("formCtrl",t.fc.supplier_id)("useClear",!1),e.xp6(2),e.Q6J("idCtrl",t.fc.supplier_id)("nameCtrl",t.fc.supplier_name)("apiInput",t.getSuggests()),e.xp6(3),e.Q6J("formCtrl",t.fc.supplier_product_cd),e.xp6(7),e.Q6J("formCtrl",t.fc.name),e.xp6(1),e.hij("\u5546\u54c1\u540d\uff08",t.productConst.CHARACTER_LIMITS.NAME_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.name_kana),e.xp6(1),e.hij(" \u5546\u54c1\u540d\u30ab\u30ca\uff08\u5168\u89d2\u30ab\u30ca",t.productConst.CHARACTER_LIMITS.NAME_KANA_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(2),e.Q6J("formCtrl",t.fc.standard),e.xp6(1),e.hij("\u898f\u683c\uff08",t.productConst.CHARACTER_LIMITS.STANDARD_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.part_number),e.xp6(1),e.hij("\u54c1\u756a\uff08",t.productConst.CHARACTER_LIMITS.PART_NUMBER_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(2),e.Q6J("formCtrl",t.fc.basic_shipping_fee),e.xp6(2),e.Q6J("formCtrl",t.fc.shipping_surcharge),e.xp6(11),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Q6J("ngTemplateOutlet",r),e.xp6(4),e.Q6J("formCtrl",t.fc.unit_division_id)("options",t.opts.unit_division_id),e.xp6(1),e.Q6J("formCtrl",t.fc.quantity)("alignRight",!0),e.xp6(1),e.Q6J("formCtrl",t.fc.barcode),e.xp6(2),e.Q6J("disabled",!t.fc.barcode.value)("checked",1===t.flg_ordering_target_barcode),e.xp6(4),e.Q6J("formCtrl",t.fc.b_unit_division_id)("options",t.opts.b_unit_division_id),e.xp6(1),e.Q6J("formCtrl",t.fc.b_quantity)("alignRight",!0),e.xp6(1),e.Q6J("formCtrl",t.fc.b_barcode),e.xp6(2),e.Q6J("disabled",!t.fc.b_barcode.value)("checked",2===t.flg_ordering_target_barcode),e.xp6(4),e.Q6J("formCtrl",t.fc.c_unit_division_id)("options",t.opts.c_unit_division_id),e.xp6(1),e.Q6J("formCtrl",t.fc.c_quantity)("alignRight",!0),e.xp6(1),e.Q6J("formCtrl",t.fc.c_barcode),e.xp6(2),e.Q6J("disabled",!t.fc.c_barcode.value)("checked",3===t.flg_ordering_target_barcode),e.xp6(2),e.Q6J("formCtrl",t.fc.large_category_id)("options",t.opts.large_category_id),e.xp6(2),e.Q6J("formCtrl",t.fc.medium_category_id)("options",t.opts.medium_category_id),e.xp6(2),e.Q6J("formCtrl",t.fc.small_category_id)("options",t.opts.small_category_id),e.xp6(7),e.Q6J("formCtrl",t.fc.point_division_id)("options",t.opts.point_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.issuance_warranty_division_id)("options",t.opts.issuance_warranty_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.discount_division_id)("options",t.opts.discount_division_id),e.xp6(3),e.Q6J("formCtrl",t.fc.price_tag_division_id)("options",t.opts.price_tag_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.seal_print_division_id)("options",t.opts.seal_print_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.seal_price_indication)("options",t.seal_price_indication_option),e.xp6(3),e.Q6J("formCtrl",t.fc.product_division_id)("options",t.opts.product_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.data_permission_division_id)("options",t.opts.data_permission_division_id),e.xp6(8),e.Q6J("formCtrl",t.fc.sales_tax_division_id)("options",t.opts.sales_tax_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.sales_fraction_division_id)("options",t.opts.sales_fraction_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.supplier_sales_tax_division_id)("options",t.opts.supplier_sales_tax_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.supplier_sales_fraction_division_id)("options",t.opts.supplier_sales_fraction_division_id),e.xp6(9),e.Q6J("formCtrl",t.fc.supplier_cost_price),e.xp6(3),e.Q6J("formCtrl",t.fc.gross_profit_rate),e.xp6(3),e.Q6J("formCtrl",t.fc.selling_price),e.xp6(5),e.Q6J("buttonDisabled",null!==t.notAbleToCalcMessage.piece||t.fc.supplier_cost_price.hasError("pattern")||t.fc.supplier_cost_price.hasError("required")||t.fc.gross_profit_rate.hasError("required")||t.fc.gross_profit_rate.hasError("pattern")),e.xp6(2),e.Q6J("ngIf",null!==t.notAbleToCalcMessage.piece),e.xp6(8),e.Q6J("formCtrl",t.fc.b_supplier_cost_price),e.xp6(3),e.Q6J("formCtrl",t.fc.b_gross_profit_rate),e.xp6(3),e.Q6J("formCtrl",t.fc.b_selling_price),e.xp6(5),e.Q6J("buttonDisabled",null!==t.notAbleToCalcMessage.set||t.fc.b_supplier_cost_price.hasError("pattern")||t.fc.b_gross_profit_rate.hasError("pattern")||""===t.fc.b_gross_profit_rate.value),e.xp6(2),e.Q6J("ngIf",null!==t.notAbleToCalcMessage.set),e.xp6(8),e.Q6J("formCtrl",t.fc.c_supplier_cost_price),e.xp6(3),e.Q6J("formCtrl",t.fc.c_gross_profit_rate),e.xp6(3),e.Q6J("formCtrl",t.fc.c_selling_price),e.xp6(5),e.Q6J("buttonDisabled",null!==t.notAbleToCalcMessage.case||t.fc.c_supplier_cost_price.hasError("pattern")||t.fc.c_supplier_cost_price.hasError("required")||t.fc.c_gross_profit_rate.hasError("pattern")||t.fc.c_gross_profit_rate.hasError("required")),e.xp6(2),e.Q6J("ngIf",null!==t.notAbleToCalcMessage.case),e.xp6(6),e.Q6J("formCtrl",t.fc.minimum_order_quantity),e.xp6(2),e.Q6J("formCtrl",t.fc.regulated_stock_num),e.xp6(2),e.Q6J("formCtrl",t.fc.ordering_point),e.xp6(3),e.Q6J("formCtrl",t.fc.order_lead_time),e.xp6(5),e.Q6J("formCtrl",t.fc.shelf_division_id)("options",t.opts.shelf_division_id),e.xp6(2),e.Q6J("formCtrl",t.fc.shelf_col_division_id)("options",t.opts.shelf_col_division_id),e.xp6(9),e.Q6J("fileCtrl",t.fc.image)("pathCtrl",t.fc.image_path),e.xp6(4),e.Q6J("formCtrl",t.fc.remarks_1)("rows",2),e.xp6(1),e.hij("\u5099\u80031\uff08",t.productConst.CHARACTER_LIMITS.REMARKS_1_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.remarks_2)("rows",2),e.xp6(1),e.hij("\u5099\u80032\uff08",t.productConst.CHARACTER_LIMITS.REMARKS_2_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(1),e.Q6J("formCtrl",t.fc.remarks_3)("rows",2),e.xp6(1),e.hij(" \u5099\u80033\uff08\u30ec\u30b8\u5099\u8003\uff09\uff08",t.productConst.CHARACTER_LIMITS.REMARKS_3_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09 "),e.xp6(1),e.Q6J("formCtrl",t.fc.remarks_4)("rows",2),e.xp6(1),e.hij("\u5099\u80034\uff08",t.productConst.CHARACTER_LIMITS.REMARKS_4_MAX_LENGTH,"\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(2),e.Q6J("formCtrl",t.fc.custom_large_category_id)("options",t.opts.custom_large_category_id),e.xp6(2),e.Q6J("formCtrl",t.fc.custom_medium_category_id)("options",t.opts.custom_medium_category_id),e.xp6(2),e.Q6J("formCtrl",t.fc.custom_small_category_id)("options",t.opts.custom_small_category_id),e.xp6(2),e.Q6J("formArray",t.fc.product_custom_tag)}},dependencies:[A.O5,A.tP,Y.Z,re.Q,x.a,P.H,he.k,_e.R,ue.A,Me.Y,Tt.r]}),o})();const Dt=[{path:"",redirectTo:"supplier",pathMatch:"full"},{path:"supplier",component:g,children:[{path:"",component:y},{path:"detail/:id",component:ye},{path:"add",component:ge},{path:"edit/:id",component:ge},{path:"bulk-add",component:Pe},{path:"detail/:id/products",children:[{path:"",component:$e},{path:":pid",component:Ge}]}]},{path:"product",component:g,children:[{path:"",component:mt},{path:"detail/:id",component:ht},{path:"add",component:Ne},{path:"edit/:id",component:Ne},{path:"bulk-add",component:gt}]},{path:"client",component:g,children:[{path:"",component:Ke,pathMatch:"full"},{path:"detail/:id",component:Ye},{path:"edit/:id",component:Ee},{path:"add",component:Ee},{path:"bulk-add",component:ct}]}];let Nt=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[s.Bz.forChild(Dt),s.Bz]}),o})()},2124:($,D,n)=>{n.d(D,{Z:()=>P,a:()=>x});var s=n(1571),M=n(727),u=n(9300),e=n(262),C=n(8746),A=n(4181),c=n(6585),E=n(1690),m=n(8782),p=n(1609),g=n(6895),d=n(5146),L=n(1805),S=n(387);function N(y,R){1&y&&(s.TgZ(0,"app-last-updater-org"),s._uU(1," \u6700\u7d42\u66f4\u65b0\u8005\uff1a"),s.Hsn(2,2),s.qZA())}function a(y,R){1&y&&(s._uU(0," \u767b\u9332\u8005\uff1a"),s.Hsn(1,3))}const b=[[["","pageTitle",""]],[["","form",""]],[["","updater",""]],[["","authorname",""]]],F=["[pageTitle]","[form]","[updater]","[authorname]"],x={...A.U};let P=(()=>{class y{constructor(v,O,k,J){this.route=v,this.router=O,this.flash=k,this.modalService=J,this.modFn=()=>({...this.formCtrl.value}),this.modFn2=()=>({...this.formCtrl}),this.statusChange=new s.vpe,this.pagenNameList={client:c.xz.CLIENT,product:c.xz.PRODUCT,supplier:c.xz.SUPPPLIER,"client-working-field":c.xz.CLIENT_WORKING_FIELD},this.id=this.route.snapshot.params.id,this.url=this.router.url,this.detailUrl=this.url.replace("edit","detail"),this.listlUrl=this.url.replace("/add",""),this.prevUrl=this.id?`${this.detailUrl}`:"../",this.strsplit=this.url.split("/"),this.pageName=this.strsplit[2],this.isPristine=!1,this.cancelModalTitle=this.pagenNameList[this.pageName]+"\u66f4\u65b0\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+c.yR.TITLE.CANCEL,this.detailPagePath=this.prevUrl,this.subscription=new M.w0}ngOnInit(){if(!this.id)return console.log(this.listlUrl),void(this.detailPagePath=this.listlUrl);this.subscription.add(this.modalService.closeEventObservable$.pipe((0,u.h)(v=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(v=>{v===c.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl(this.detailPagePath)}))}onClickReset(){window.location.reload()}onClickSave(){const v=this.modFn();let O=this.service.add(v),k="\u4f5c\u6210\u3057\u307e\u3057\u305f",J="\u6b63\u5e38\u306b\u767b\u9332\u3055\u308c\u307e\u3057\u305f\u3002";this.id&&(O=this.service.update(this.id,v),k="\u66f4\u65b0\u3057\u307e\u3057\u305f",J="\u6b63\u5e38\u306b\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002"),this.statusChange.emit(x.START),O.pipe((0,e.K)(this.service.handleErrorModal()),(0,C.x)(()=>this.statusChange.emit(x.END))).subscribe(ne=>{ne.message===k&&this.showSuccessMessage(J),this.router.navigate([this.prevUrl],{relativeTo:this.route})})}showSuccessMessage(v){this.flash.setFlashMessage(v,"success",15e3)}handleClickCancel(){this.modFn2().pristine?this.router.navigateByUrl(this.detailPagePath):this.modalService.setModal(this.cancelModalTitle,c.yR.BODY.CANCEL,"warning",c.yR.BUTTON_TITLE.EXECUTION,c.yR.BUTTON_TITLE.CANCEL)}}return y.\u0275fac=function(v){return new(v||y)(s.Y36(E.gz),s.Y36(E.F0),s.Y36(m.P),s.Y36(p.Z))},y.\u0275cmp=s.Xpm({type:y,selectors:[["app-template-add-edit"]],inputs:{service:"service",formCtrl:"formCtrl",modFn:"modFn",modFn2:"modFn2"},outputs:{statusChange:"statusChange"},ngContentSelectors:F,decls:15,vars:3,consts:[[1,"mt-8","text-xl"],[1,"flex","items-center","justify-between","mt-6","mb-2"],[3,"click"],[4,"ngIf","ngIfElse"],["editView",""],[1,"width-limit-break","border-t","border-gray-400"],[1,"block","mt-24"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","fixed","left-0","right-0","p-2","gap-8"],["btnFillColor","bg-success hover:bg-success-hover text-white border-success",3,"buttonDisabled","click"]],template:function(v,O){if(1&v&&(s.F$t(b),s.TgZ(0,"h2",0),s.Hsn(1),s.qZA(),s.TgZ(2,"div",1)(3,"app-cancel-link-org",2),s.NdJ("click",function(){return O.handleClickCancel()}),s.qZA(),s.YNc(4,N,3,0,"app-last-updater-org",3),s.YNc(5,a,2,0,"ng-template",null,4,s.W1O),s.qZA(),s._UZ(7,"hr",5),s.Hsn(8,1),s._UZ(9,"div",6),s.TgZ(10,"div",7)(11,"app-button",2),s.NdJ("click",function(){return O.onClickReset()}),s._uU(12,"\u30af\u30ea\u30a2"),s.qZA(),s.TgZ(13,"app-button",8),s.NdJ("click",function(){return O.onClickSave()}),s._uU(14," \u4fdd\u5b58 "),s.qZA()()),2&v){const k=s.MAs(6);s.xp6(4),s.Q6J("ngIf",O.id)("ngIfElse",k),s.xp6(9),s.Q6J("buttonDisabled",O.formCtrl.invalid)}},dependencies:[g.O5,d.r,L.R,S.K]}),y})()},332:($,D,n)=>{n.d(D,{Q:()=>e});var s=n(1571);const M=[[["","formTitle",""]],[["","formContent",""]]],u=["[formTitle]","[formContent]"];let e=(()=>{class C{}return C.\u0275fac=function(c){return new(c||C)},C.\u0275cmp=s.Xpm({type:C,selectors:[["app-form-block"]],ngContentSelectors:u,decls:5,vars:0,consts:[[1,"mt-8","p-8","pb-12","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"block","w-full","mb-6","border-t-primary-light-hover","border-t-4"]],template:function(c,E){1&c&&(s.F$t(M),s.TgZ(0,"div",0)(1,"h2",1),s.Hsn(2),s.qZA(),s._UZ(3,"hr",2),s.Hsn(4,1),s.qZA())}}),C})()},1536:($,D,n)=>{n.d(D,{I:()=>x});var s=n(1571),M=n(4006),u=n(262),e=n(8746),C=n(2124),A=n(1690),c=n(8782),E=n(6895),m=n(5146),p=n(3761),g=n(2482),d=n(5108),L=n(387);function S(P,y){1&P&&(s.TgZ(0,"span",18),s._uU(1," \u5fc5\u9808 "),s.qZA())}function N(P,y){if(1&P&&(s.TgZ(0,"tr",14)(1,"td",15)(2,"div",10)(3,"p"),s._uU(4),s.qZA(),s.YNc(5,S,2,0,"span",16),s.qZA()(),s.TgZ(6,"td",17),s._uU(7),s.qZA()()),2&P){const R=y.$implicit;s.xp6(4),s.Oqu(R.title),s.xp6(1),s.Q6J("ngIf",R.required),s.xp6(2),s.Oqu(R.description)}}function a(P,y){if(1&P){const R=s.EpF();s.ynx(0),s.TgZ(1,"p",19),s._uU(2),s.qZA(),s.TgZ(3,"app-icon",20),s.NdJ("click",function(){s.CHM(R);const O=s.oxw();return s.KtG(O.ctrl.reset())}),s.qZA(),s.BQk()}if(2&P){const R=s.oxw();s.xp6(2),s.Oqu(R.filename)}}const b=[[["","pageTitle",""]],[["","authorname",""]]],F=["[pageTitle]","[authorname]"];let x=(()=>{class P{constructor(R,v,O){this.route=R,this.router=v,this.flash=O,this.descriptions=[],this.statusChange=new s.vpe,this.ctrl=new M.NI(null,M.kI.required),this.templateFileExtension=""}ngOnInit(){this.template$=this.service.getCsv("template").pipe((0,u.K)(this.service.handleErrorModal())),this.subscription=this.ctrl.valueChanges.subscribe(R=>this.filename=R?.name)}ngOnDestroy(){this.subscription?.unsubscribe()}onClickUpload(){!this.ctrl.value||(this.statusChange.emit(C.a.START),this.service.bulkAdd(this.ctrl.value).pipe((0,u.K)(this.service.handleErrorModal()),(0,e.x)(()=>this.statusChange.emit(C.a.END))).subscribe(R=>{void 0!==R&&("\u767b\u9332\u3057\u307e\u3057\u305f"===R.message&&(this.showSuccessMessage("\u6b63\u5e38\u306b\u767b\u9332\u3055\u308c\u307e\u3057\u305f\u3002"),this.router.navigate(["../"],{relativeTo:this.route})),"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u51e6\u7406\u3092\u767b\u9332\u3057\u307e\u3057\u305f"===R.message&&(this.showSuccessMessage("\u66f4\u65b0\u51e6\u7406\u304c\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3067\u306e\u51e6\u7406\u306b\u767b\u9332\u3055\u308c\u307e\u3057\u305f\u3002"),this.router.navigate(["../"],{relativeTo:this.route})))}))}showSuccessMessage(R){this.flash.setFlashMessage(R,"success",15e3)}}return P.\u0275fac=function(R){return new(R||P)(s.Y36(A.gz),s.Y36(A.F0),s.Y36(c.P))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-template-bulk-add"]],inputs:{service:"service",descriptions:"descriptions",fileNamePrefix:"fileNamePrefix",templateFileExtension:"templateFileExtension"},outputs:{statusChange:"statusChange"},ngContentSelectors:F,decls:19,vars:7,consts:[[1,"mt-8","text-xl"],[1,"flex","items-center","justify-between","mt-6","mb-2"],["routerLink","../"],[1,"width-limit-break","border-t","border-gray-400"],[1,"flex","justify-end","mt-8",3,"api$","fileNamePrefix","templateFileExtension","statusChange"],[1,"mt-2","mb-28","py-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"mt-4","w-full","shadow"],["class","border border-slate-200",4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-8"],[1,"flex","items-center"],["accept","text/csv",3,"formCtrl"],[4,"ngIf"],["btnFillColor","bg-success hover:bg-success-hover border-success text-white",3,"buttonDisabled","click"],[1,"border","border-slate-200"],[1,"p-4","w-1/4","bg-slate-100"],["class","px-3 py-0.5 ml-2 shrink-0 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"p-4"],[1,"px-3","py-0.5","ml-2","shrink-0","text-xs","text-white","bg-warning-dark","rounded-full"],[1,"ml-4"],["icon","delete-bin-line",1,"w-6","cursor-pointer","ml-2","fill-red-500",3,"click"]],template:function(R,v){1&R&&(s.F$t(b),s.TgZ(0,"h2",0),s.Hsn(1),s.qZA(),s.TgZ(2,"div",1),s._UZ(3,"app-cancel-link-org",2),s._uU(4," \u767b\u9332\u8005\uff1a"),s.Hsn(5,1),s.qZA(),s._UZ(6,"hr",3),s.TgZ(7,"app-template-download-link-org",4),s.NdJ("statusChange",function(k){return v.statusChange.emit(k)}),s.qZA(),s.TgZ(8,"div",5)(9,"p",6),s._uU(10,"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u30d8\u30c3\u30c0\u30fc\u3068\u5024"),s.qZA(),s.TgZ(11,"table",7),s.YNc(12,N,8,3,"tr",8),s.qZA(),s.TgZ(13,"div",9)(14,"div",10),s._UZ(15,"app-file",11),s.YNc(16,a,4,1,"ng-container",12),s.qZA(),s.TgZ(17,"app-button",13),s.NdJ("click",function(){return v.onClickUpload()}),s._uU(18," \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5b9f\u884c "),s.qZA()()()),2&R&&(s.xp6(7),s.Q6J("api$",v.template$)("fileNamePrefix",v.fileNamePrefix)("templateFileExtension",v.templateFileExtension),s.xp6(5),s.Q6J("ngForOf",v.descriptions),s.xp6(3),s.Q6J("formCtrl",v.ctrl),s.xp6(1),s.Q6J("ngIf",v.ctrl.value),s.xp6(1),s.Q6J("buttonDisabled",v.ctrl.invalid))},dependencies:[E.sg,E.O5,A.rH,m.r,p.o,g.V,d.P,L.K]}),P})()},9693:($,D,n)=>{n.d(D,{m:()=>e});var s=n(1571),M=n(6895);function u(C,A){if(1&C&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA(),s.TgZ(3,"td",4),s._uU(4),s.qZA()()),2&C){const c=A.$implicit;s.xp6(2),s.Oqu(c.name),s.xp6(2),s.Oqu(c.value)}}let e=(()=>{class C{}return C.\u0275fac=function(c){return new(c||C)},C.\u0275cmp=s.Xpm({type:C,selectors:[["app-detail-list"]],inputs:{details:"details"},decls:2,vars:1,consts:[[1,"w-full","shadow"],["class","border border-slate-200",4,"ngFor","ngForOf"],[1,"border","border-slate-200"],[1,"p-4","w-1/4","bg-slate-100"],[1,"p-4"]],template:function(c,E){1&c&&(s.TgZ(0,"table",0),s.YNc(1,u,5,2,"tr",1),s.qZA()),2&c&&(s.xp6(1),s.Q6J("ngForOf",E.details))},dependencies:[M.sg]}),C})()},4617:($,D,n)=>{n.d(D,{J:()=>g});var s=n(1571),M=n(1690),u=n(6895),e=n(9586),C=n(4720),A=n(3499),c=n(1805);function E(d,L){if(1&d&&(s.ynx(0),s._UZ(1,"app-edit-link-org",3)(2,"app-delete-link",9),s.BQk()),2&d){const S=s.oxw();s.xp6(1),s.MGl("routerLink","../../edit/",S.id,""),s.xp6(1),s.Q6J("removeMethod$",S.remove$)}}const m=[[["","pageTitle",""]],[["","optionalLink",""]],[["","updater",""]],[["","detailTitle",""]],[["","detailContent",""]]],p=["[pageTitle]","[optionalLink]","[updater]","[detailTitle]","[detailContent]"];let g=(()=>{class d{constructor(S){this.route=S,this.backToListPath="../../",this.hasEditPage=!1,this.id=this.route.snapshot.params.id}ngOnInit(){this.hasEditPage=!!this.route.snapshot.parent?.routeConfig?.children?.find(S=>"edit/:id"===S.path)}}return d.\u0275fac=function(S){return new(S||d)(s.Y36(M.gz))},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-template-detail"]],inputs:{remove$:"remove$",backToListPath:"backToListPath"},ngContentSelectors:p,decls:17,vars:2,consts:[[1,"mt-8","text-xl"],[1,"flex","items-center","justify-between","mt-6","mb-2"],[1,"flex","gap-6"],[3,"routerLink"],[4,"ngIf"],[1,"width-limit-break","border-t","border-gray-400"],[1,"mt-8","p-8","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"block","mb-6","w-full","border-t-primary-light-hover","border-t-4"],["redirectPath","../../",3,"removeMethod$"]],template:function(S,N){1&S&&(s.F$t(m),s.TgZ(0,"h2",0),s.Hsn(1),s.qZA(),s.TgZ(2,"div",1)(3,"div",2)(4,"app-back-to-link-org",3),s._uU(5," \u4e00\u89a7\u3078\u623b\u308b "),s.qZA(),s.YNc(6,E,3,2,"ng-container",4),s.Hsn(7,1),s.qZA(),s.TgZ(8,"app-last-updater-org"),s._uU(9," \u6700\u7d42\u66f4\u65b0\u8005\uff1a"),s.Hsn(10,2),s.qZA()(),s._UZ(11,"hr",5),s.TgZ(12,"div",6)(13,"h2",7),s.Hsn(14,3),s.qZA(),s._UZ(15,"hr",8),s.Hsn(16,4),s.qZA()),2&S&&(s.xp6(4),s.s9C("routerLink",N.backToListPath),s.xp6(2),s.Q6J("ngIf",N.hasEditPage))},dependencies:[u.O5,M.rH,e.i,C._,A.Y,c.R]}),d})()},7266:($,D,n)=>{n.d(D,{n:()=>P});var s=n(1571),M=n(7579),u=n(2640),e=n(1690),C=n(3360),A=n(2167),c=n(5698),E=n(9300),m=n(8505),p=n(3900),g=n(8746),d=n(4181),L=n(1267),S=n(1609),N=n(1914);let a=(()=>{class y{constructor(v){this.modal=v,this.exportFileExtension="csv",this.statusChange=new s.vpe}ngOnDestroy(){this.modal.requestCloseModal("cancel")}onClick(){const v="\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u304b\uff1f",O=(0,L.Yc)(this.fileNamePrefix,this.exportFileExtension);this.modal.closeEventObservable$.pipe((0,c.q)(1),(0,E.h)(()=>this.modal.getModalProperties().title===v),(0,E.h)(k=>"continue"===k),(0,m.b)(()=>this.statusChange.emit(d.U.START)),(0,p.w)(()=>this.export$),(0,m.b)(()=>this.statusChange.emit(d.U.FETCHED)),(0,E.h)(k=>!!k),(0,g.x)(()=>this.statusChange.emit(d.U.END))).subscribe(k=>{if(this.isJson(k)){const J=JSON.parse(k);Number(J.totalItems)>=1e3&&this.modal.setModal("\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f","\u4ef6\u6570\u304c\u591a\u3044\u305f\u3081\u3001\u3054\u767b\u9332\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30ea\u30f3\u30af\u304c\u8a18\u8f09\u3055\u308c\u305f\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002\n\u30e1\u30fc\u30eb\u672c\u6587\u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u203b \u30e1\u30fc\u30eb\u304c\u8ff7\u60d1\u30e1\u30fc\u30eb\u306b\u632f\u308a\u5206\u3051\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u203b \u30e1\u30fc\u30eb\u304c\u9001\u4fe1\u3055\u308c\u308b\u307e\u3067\u6570\u5206\u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002","success","\u9589\u3058\u308b","\u9589\u3058\u308b",!1)}else(0,L.LR)((0,L.lJ)(k),O)}),this.modal.setModal(v,"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068CSV\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\u7d5e\u308a\u8fbc\u307f\u3092\u884c\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u7d5e\u308a\u8fbc\u307e\u308c\u305f\u30c7\u30fc\u30bf\u304c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u203b \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u51e6\u7406\u306b\u6570\u5206\u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002","warning")}isJson(v){try{return JSON.parse(v),!0}catch{return!1}}}return y.\u0275fac=function(v){return new(v||y)(s.Y36(S.Z))},y.\u0275cmp=s.Xpm({type:y,selectors:[["app-export-link"]],inputs:{export$:"export$",fileNamePrefix:"fileNamePrefix",exportFileExtension:"exportFileExtension"},outputs:{statusChange:"statusChange"},decls:4,vars:0,consts:[["icon","download-cloud-2-fill","appendClassForIcon","fill-primary-light",3,"click"]],template:function(v,O){1&v&&(s.TgZ(0,"div")(1,"app-icon-container",0),s.NdJ("click",function(){return O.onClick()}),s.TgZ(2,"span"),s._uU(3,"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8"),s.qZA()()())},dependencies:[N.J],styles:['div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;cursor:pointer}div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:after{position:absolute;left:0;bottom:-4px;height:1px;width:100%;--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity));--tw-content: "";transform-origin:top left;--tw-scale-x: 0;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));content:var(--tw-content);transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover:after{content:var(--tw-content);--tw-scale-x: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}']}),y})();var b=n(2993);const F=[[["","search",""]],[["","optionalButton",""]],[["","tableTitle",""]]],x=["[search]","[optionalButton]","[tableTitle]"];let P=(()=>{class y{constructor(){this._tableParams=new M.x,this.fileNamePrefix="",this.exportFileExtension="",this.paramsChange=new s.vpe,this.exportStatusChange=new s.vpe,this.defaultSort={column:"ID",order:"desc"},this._pages={page:1,itemsPerPage:u.p,sort:this.defaultSort}}set tableParams(v){this._tableParams.next(v)}set pages(v){this._pages=v,0===Object.keys(this._pages.sort).length&&(this._pages.sort=this.defaultSort),this.emitEvent()}ngOnInit(){this.emitEvent()}listenSubmit(){this._pages.page=1,this.emitEvent()}emitEvent(){this.paramsChange.emit(this._pages)}}return y.\u0275fac=function(v){return new(v||y)},y.\u0275cmp=s.Xpm({type:y,selectors:[["app-template-list"]],inputs:{tableParams:"tableParams",formCtrl:"formCtrl",export$:"export$",fileNamePrefix:"fileNamePrefix",exportFileExtension:"exportFileExtension"},outputs:{paramsChange:"paramsChange",exportStatusChange:"exportStatusChange"},ngContentSelectors:x,decls:9,vars:5,consts:[[3,"formCtrl","submitEvent"],[1,"flex","justify-end","gap-8","mt-4"],["routerLink","./add"],["routerLink","./bulk-add"],[3,"export$","fileNamePrefix","exportFileExtension","statusChange"],[1,"block","mt-2",3,"params","pageChange"]],template:function(v,O){1&v&&(s.F$t(F),s.TgZ(0,"app-search",0),s.NdJ("submitEvent",function(){return O.listenSubmit()}),s.Hsn(1),s.qZA(),s.TgZ(2,"div",1),s._UZ(3,"app-new-registration-link-org",2)(4,"app-bulk-registration-link-org",3),s.TgZ(5,"app-export-link",4),s.NdJ("statusChange",function(J){return O.exportStatusChange.emit(J)}),s.qZA(),s.Hsn(6,1),s.qZA(),s.TgZ(7,"app-table-with-pagination",5),s.NdJ("pageChange",function(J){return O.pages=J}),s.Hsn(8,2),s.qZA()),2&v&&(s.Q6J("formCtrl",O.formCtrl),s.xp6(5),s.Q6J("export$",O.export$)("fileNamePrefix",O.fileNamePrefix)("exportFileExtension",O.exportFileExtension),s.xp6(2),s.Q6J("params",O._tableParams))},dependencies:[e.rH,C.S,A.p,u.i,a,b.g]}),y})()},2993:($,D,n)=>{n.d(D,{g:()=>c});var s=n(1571),M=n(4006),u=n(6895),e=n(5146),C=n(3761);const A=["*"];let c=(()=>{class E{constructor(){this.submitEvent=new s.vpe,this.isOpen=!1,this.rotateAnimation=""}searchButtonOnClick(){this.isOpen=!this.isOpen,this.rotateAnimation=this.isOpen?"rotate-animation-180":"rotate-animation-0"}onClickReset(p=this.formCtrl){Object.values(p.controls).forEach(g=>{g instanceof M.cw?this.onClickReset(g):g.patchValue("")})}onClickSubmit(){this.submitEvent.emit({...this.formCtrl.value})}}return E.\u0275fac=function(p){return new(p||E)},E.\u0275cmp=s.Xpm({type:E,selectors:[["app-search"]],inputs:{formCtrl:"formCtrl"},outputs:{submitEvent:"submitEvent"},ngContentSelectors:A,decls:16,vars:5,consts:[[1,"mt-8","mb-4"],[3,"click"],["icon","filter-2-line",1,"w-6"],[1,"inline-block","ml-1","mr-2"],["icon","arrow-down-s-fill",1,"w-6"],[1,"search","width-limit-break","bg-white",3,"ngClass"],[1,"w-[1280px]","mx-auto","px-4"],[1,"flex","gap-8","mt-10"],["btnFillColor","text-white bg-success hover:bg-success-hover",3,"buttonDisabled","click"],[1,"mt-2","text-sm","text-red"]],template:function(p,g){1&p&&(s.F$t(),s.TgZ(0,"div",0)(1,"app-button",1),s.NdJ("click",function(){return g.searchButtonOnClick()}),s._UZ(2,"app-icon",2),s.TgZ(3,"span",3),s._uU(4),s.qZA(),s._UZ(5,"app-icon",4),s.qZA()(),s.TgZ(6,"div",5)(7,"form",6),s.Hsn(8),s.TgZ(9,"div",7)(10,"app-button",1),s.NdJ("click",function(){return g.onClickReset()}),s._uU(11,"\u5165\u529b\u5185\u5bb9\u30af\u30ea\u30a2"),s.qZA(),s.TgZ(12,"app-button",8),s.NdJ("click",function(){return g.onClickSubmit()}),s._uU(13," \u7d5e\u308a\u8fbc\u307f\u5b9f\u884c "),s.qZA()(),s.TgZ(14,"p",9),s._uU(15," \u203b \u5165\u529b\u5185\u5bb9\u3092\u30af\u30ea\u30a2\u3057\u305f\u5f8c\u306b\u7d5e\u308a\u8fbc\u307f\u5b9f\u884c\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002 "),s.qZA()()()),2&p&&(s.xp6(4),s.hij(" ",g.isOpen?"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u975e\u8868\u793a":"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u8868\u793a"," "),s.xp6(1),s.Tol(g.rotateAnimation),s.xp6(1),s.Q6J("ngClass",g.isOpen?"is-open shadow":""),s.xp6(6),s.Q6J("buttonDisabled",g.formCtrl.invalid||g.formCtrl.pristine))},dependencies:[u.mk,e.r,C.o],styles:[".search[_ngcontent-%COMP%]{max-height:0;padding:0 2rem;margin:0;transition:max-height .8s,padding .8s,margin .8s ease;overflow:hidden}.search.is-open[_ngcontent-%COMP%]{max-height:100vh;padding:2.5rem;margin:2rem 0}"]}),E})()},6679:($,D,n)=>{n.d(D,{I:()=>b});var s=n(6895),M=n(1326),u=n(3894),e=n(8511),C=n(4933),A=n(6968),c=n(4560),E=n(3042),m=n(3962),p=n(6181),g=n(4470),d=n(3313),L=n(6321),S=n(4663),N=n(3560),a=n(1571);let b=(()=>{class F{}return F.\u0275fac=function(P){return new(P||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[s.ez,d.f,M.z,u.h,e.Q,C.M,A.V,c.Z,E.C,m.J,p.A,g.x,L.T,S.Q,N.r]}),F})()},4870:($,D,n)=>{n.d(D,{U:()=>s});const s={CHARACTER_LIMITS:{NAME_MAX_LENGTH:"25",NAME_KANA_MAX_LENGTH:"50",STANDARD_MAX_LENGTH:"25",PART_NUMBER_MAX_LENGTH:"25",BARCODE_MAX_LENGTH:"13",B_BARCODE_MAX_LENGTH:"14",C_BARCODE_MAX_LENGTH:"14",QUANTITY_MAX_LENGTH:"7",B_QUANTITY_MAX_LENGTH:"7",C_QUANTITY_MAX_LENGTH:"7",ORDERING_TARGET_BARCODE_MAX_LENGTH:"14",REMARKS_1_MAX_LENGTH:"20",REMARKS_2_MAX_LENGTH:"20",REMARKS_3_MAX_LENGTH:"20",REMARKS_4_MAX_LENGTH:"20",SUPPLIER_NAME:"255",SUPPLIER_PRODUCT_CD:"10"},PRODUCT_DIVISION:{CODE:{STANDARD:0,WASTE_NUMBER:1,CUSTOM:2},VALUE:{STANDARD:"\u5b9a\u756a",WASTE_NUMBER:"\u5ec3\u756a",CUSTOM:"\u7279\u6ce8\u54c1"}}}},7655:($,D,n)=>{n.d(D,{J:()=>s});const s=["\u5317\u6d77\u9053","\u9752\u68ee\u770c","\u5ca9\u624b\u770c","\u5bae\u57ce\u770c","\u79cb\u7530\u770c","\u5c71\u5f62\u770c","\u798f\u5cf6\u770c","\u8328\u57ce\u770c","\u6803\u6728\u770c","\u7fa4\u99ac\u770c","\u57fc\u7389\u770c","\u5343\u8449\u770c","\u6771\u4eac\u90fd","\u795e\u5948\u5ddd\u770c","\u65b0\u6f5f\u770c","\u5bcc\u5c71\u770c","\u77f3\u5ddd\u770c","\u798f\u4e95\u770c","\u5c71\u68a8\u770c","\u9577\u91ce\u770c","\u5c90\u961c\u770c","\u9759\u5ca1\u770c","\u611b\u77e5\u770c","\u4e09\u91cd\u770c","\u6ecb\u8cc0\u770c","\u4eac\u90fd\u5e9c","\u5927\u962a\u5e9c","\u5175\u5eab\u770c","\u5948\u826f\u770c","\u548c\u6b4c\u5c71\u770c","\u9ce5\u53d6\u770c","\u5cf6\u6839\u770c","\u5ca1\u5c71\u770c","\u5e83\u5cf6\u770c","\u5c71\u53e3\u770c","\u5fb3\u5cf6\u770c","\u9999\u5ddd\u770c","\u611b\u5a9b\u770c","\u9ad8\u77e5\u770c","\u798f\u5ca1\u770c","\u4f50\u8cc0\u770c","\u9577\u5d0e\u770c","\u718a\u672c\u770c","\u5927\u5206\u770c","\u5bae\u5d0e\u770c","\u9e7f\u5150\u5cf6\u770c","\u6c96\u7e04\u770c"]},9867:($,D,n)=>{n.d(D,{r:()=>A});var s=n(262),M=n(4004),u=n(2340),e=n(1751),C=n(1571);let A=(()=>{class c extends e.O{constructor(){super(...arguments),this.endpoint=u.pU.customLargeCategoryApi.endpoint}getAll(m={}){return this.httpOptions.params=m,this.http.get(this.endpoint,this.httpOptions).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e\u4e00\u89a7\u306e\u53d6\u5f97")))}find(m){return this.http.get(`${this.endpoint}/${m}`).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e\u60c5\u5831\u306e\u53d6\u5f97")))}add(m){const p=this.generateFormData(m);return this.http.post(this.endpoint,p).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e\u60c5\u5831\u306e\u767b\u9332")))}update(m,p){const g=this.generateFormData(p);return this.http.patch(`${this.endpoint}/${m}`,g).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e\u60c5\u5831\u306e\u66f4\u65b0")))}remove(m){return this.http.delete(`${this.endpoint}/${m}`).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5927\u5206\u985e\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(m){return this.getAll(m).pipe((0,M.U)(p=>p.data.map(g=>({value:g.id,text:g.name}))))}}return c.\u0275fac=function(){let E;return function(p){return(E||(E=C.n5z(c)))(p||c)}}(),c.\u0275prov=C.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},3073:($,D,n)=>{n.d(D,{t:()=>A});var s=n(262),M=n(4004),u=n(2340),e=n(1751),C=n(1571);let A=(()=>{class c extends e.O{constructor(){super(...arguments),this.endpoint=u.pU.customMediumCategoryApi.endpoint}getAll(m={}){return this.httpOptions.params=m,this.http.get(this.endpoint,this.httpOptions).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e\u4e00\u89a7\u306e\u53d6\u5f97")))}find(m){return this.http.get(`${this.endpoint}/${m}`).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e\u60c5\u5831\u306e\u53d6\u5f97")))}add(m){const p=this.generateFormData(m);return this.http.post(this.endpoint,p).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e\u60c5\u5831\u306e\u767b\u9332")))}update(m,p){const g=this.generateFormData(p);return this.http.patch(`${this.endpoint}/${m}`,g).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e\u60c5\u5831\u306e\u66f4\u65b0")))}remove(m){return this.http.delete(`${this.endpoint}/${m}`).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u4e2d\u5206\u985e\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(m){return this.getAll(m).pipe((0,M.U)(p=>p.data.map(g=>({value:g.id,text:g.name}))))}getSibling(m){return this.getAll({large_category_id:m})}}return c.\u0275fac=function(){let E;return function(p){return(E||(E=C.n5z(c)))(p||c)}}(),c.\u0275prov=C.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1009:($,D,n)=>{n.d(D,{N:()=>A});var s=n(262),M=n(4004),u=n(2340),e=n(1751),C=n(1571);let A=(()=>{class c extends e.O{constructor(){super(...arguments),this.endpoint=u.pU.customSmallCategoryApi.endpoint}getAll(m={}){return this.httpOptions.params=m,this.http.get(this.endpoint,this.httpOptions).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e\u4e00\u89a7\u306e\u53d6\u5f97")))}find(m){return this.http.get(`${this.endpoint}/${m}`).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e\u60c5\u5831\u306e\u53d6\u5f97")))}add(m){const p=this.generateFormData(m);return this.http.post(this.endpoint,p).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e\u60c5\u5831\u306e\u767b\u9332")))}update(m,p){const g=this.generateFormData(p);return this.http.patch(`${this.endpoint}/${m}`,g).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e\u60c5\u5831\u306e\u66f4\u65b0")))}remove(m){return this.http.delete(`${this.endpoint}/${m}`).pipe((0,s.K)(this.setErrorMessage("\u30ab\u30b9\u30bf\u30e0\u5c0f\u5206\u985e\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(m){return this.getAll(m).pipe((0,M.U)(p=>p.data.map(g=>({value:g.id,text:g.name}))))}getSibling(m){return this.getAll({medium_category_id:m})}}return c.\u0275fac=function(){let E;return function(p){return(E||(E=C.n5z(c)))(p||c)}}(),c.\u0275prov=C.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6232:($,D,n)=>{n.d(D,{E:()=>c});var s=n(2340),M=n(262),u=n(4004),e=n(1751),C=n(529),A=n(1571);let c=(()=>{class E extends e.O{constructor(){super(...arguments),this.endpoint=s.pU.divisionApi.endpoint}getAll(p={}){return this.httpOptions.params=p,this.http.get(this.endpoint,this.httpOptions)}find(p){return this.http.get(`${this.endpoint}/${p}`)}getCsv(p){const g={responseType:"text",headers:new C.WM({"X-Download":p})};return this.http.get(this.endpoint,g).pipe((0,M.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}add(p){const g=this.generateFormData(p);return this.http.post(this.endpoint,g)}bulkAdd(p){const g=this.generateFormData({file:p});return this.http.put(this.endpoint,g)}update(p,g){const d=this.generateFormData(g);return this.http.patch(`${this.endpoint}/${p}`,d)}remove(p){return this.http.delete(`${this.endpoint}/${p}`)}getAsSelectOptions(p){return this.getAll(p).pipe((0,u.U)(g=>{const d={},L=new Set(g.data.map(S=>S.name));for(const S of L)d[S]=this.generateSelectOptions(g.data,S);return d}))}generateSelectOptions(p,g){return p.filter(L=>L.name===g).map(({id:L,value:S,division_code:N})=>({value:L,text:S,code:N}))}}return E.\u0275fac=function(){let m;return function(g){return(m||(m=A.n5z(E)))(g||E)}}(),E.\u0275prov=A.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},9744:($,D,n)=>{n.d(D,{J:()=>M});var s=n(1571);let M=(()=>{class u{getDivisions(C,A){return C[A]}getDivisionid(C,A,c){const E=this.getDivisions(C,A);let m;for(let p in E)if(E[p].code===c){m=E[p].value;break}return m}}return u.\u0275fac=function(C){return new(C||u)},u.\u0275prov=s.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},4562:($,D,n)=>{n.d(D,{p:()=>c});var s=n(2340),M=n(262),u=n(4004),e=n(1751),C=n(529),A=n(1571);let c=(()=>{class E extends e.O{constructor(){super(...arguments),this.endpoint=s.pU.supplierApi.endpoint}getAll(p={}){return this.httpOptions.params=p,this.http.get(this.endpoint,this.httpOptions).pipe((0,M.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u4e00\u89a7\u306e\u53d6\u5f97")))}find(p){return this.http.get(`${this.endpoint}/${p}`).pipe((0,M.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u53d6\u5f97")))}getCsv(p,g){const d={params:g,responseType:"text",headers:new C.WM({"X-Download":p})};return this.http.get(this.endpoint,d).pipe((0,M.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}add(p){const g=this.generateFormData(p);return this.http.post(this.endpoint,g).pipe((0,M.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u767b\u9332")))}bulkAdd(p){const g=this.generateFormData({file:p});return this.http.put(this.endpoint,g).pipe((0,M.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u4e00\u62ec\u767b\u9332")))}update(p,g){const d=this.generateFormData(g);return this.http.patch(`${this.endpoint}/${p}`,d).pipe((0,M.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u66f4\u65b0")))}remove(p){return this.http.delete(`${this.endpoint}/${p}`).pipe((0,M.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(){return this.getAll({$select:"id,name"}).pipe((0,u.U)(p=>p.data.map(d=>({value:d.id,text:d.name}))))}}return E.\u0275fac=function(){let m;return function(g){return(m||(m=A.n5z(E)))(g||E)}}(),E.\u0275prov=A.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()}}]);