"use strict";(self.webpackChunknisshin=self.webpackChunknisshin||[]).push([[251],{8367:(G,q,l)=>{l.d(q,{a:()=>T});var m=l(6895),s=l(6320),O=l(8460),R=l(8511),E=l(1571);let T=(()=>{class f{}return f.\u0275fac=function(t){return new(t||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({imports:[m.ez,s.r,O.A,R.Q]}),f})()},6502:(G,q,l)=>{l.d(q,{P:()=>f});var m=l(1571),s=l(3761),O=l(6303),R=l(5155);const E=["*",[["","message",""]]],T=["*","[message]"];let f=(()=>{class _{constructor(){this.inputType="text",this.invalid=!1,this.labelSize="base"}onClear(){this.formCtrl.setValue("")}}return _.\u0275fac=function(x){return new(x||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-text-clear-container"]],inputs:{inputType:"inputType",nameAttrValue:"nameAttrValue",idAttrValue:"idAttrValue",formCtrl:"formCtrl",placeholder:"placeholder",invalid:"invalid",labelSize:"labelSize"},ngContentSelectors:T,decls:7,vars:8,consts:[[1,"flex","flex-col"],[1,"ml-1","mb-1",3,"labelSize","forAttrValue"],[1,"flex","flex-row","items-center"],[1,"grow",3,"inputType","nameAttrValue","idAttrValue","formCtrl","placeholder","invalid"],["icon","close-circle-fill",1,"w-6","ml-1","fill-slate-500","cursor-pointer",3,"click"]],template:function(x,C){1&x&&(m.F$t(E),m.TgZ(0,"div",0)(1,"app-label",1),m.Hsn(2),m.qZA(),m.TgZ(3,"div",2),m._UZ(4,"app-text",3),m.TgZ(5,"app-icon",4),m.NdJ("click",function(){return C.onClear()}),m.qZA()(),m.Hsn(6,1),m.qZA()),2&x&&(m.xp6(1),m.Q6J("labelSize",C.labelSize)("forAttrValue",C.idAttrValue),m.xp6(3),m.Q6J("inputType",C.inputType)("nameAttrValue",C.nameAttrValue)("idAttrValue",C.idAttrValue)("formCtrl",C.formCtrl)("placeholder",C.placeholder)("invalid",C.invalid))},dependencies:[s.o,O._,R.T]}),_})()},2923:(G,q,l)=>{l.d(q,{D:()=>R});var m=l(6895),s=l(1326),O=l(1571);let R=(()=>{class E{}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=O.oAB({type:E}),E.\u0275inj=O.cJS({imports:[m.ez,s.z]}),E})()},589:(G,q,l)=>{l.d(q,{P:()=>R});var m=l(6895),s=l(1326),O=l(1571);let R=(()=>{class E{}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=O.oAB({type:E}),E.\u0275inj=O.cJS({imports:[m.ez,s.z]}),E})()},3251:(G,q,l)=>{l.r(q),l.d(q,{CustomerOrderReceptionSlipModule:()=>ss});var m=l(6895),s=l(4006),O=l(1690),R=l(727),E=l(5698),T=l(9300),f=l(8037),_=l(6585),t=l(1571),x=l(1609),C=l(2334),U=l(8832),K=l(2125);let v=(()=>{class n{constructor(e,i,r,a){this.modalService=e,this.errorService=i,this.router=r,this.common=a,this.subscription=new R.w0,this.isLoading=!1}ngOnInit(){this.subscription.add(this.errorService.getError().subscribe(e=>{setTimeout(()=>{this.handleError(e)})})),this.subscription.add(this.common.loading$.subscribe(e=>{setTimeout(()=>this.isLoading=e)}))}ngOnDestroy(){this.subscription.unsubscribe()}handleError(e){e.redirectPath&&(this.redirectPath=e.redirectPath),this.modalService.setModal(e.title,0===e.status?e.message+f.c.GUIDANCE_OF_SUPPORT:`\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9: ${e.status} \n\u30e1\u30c3\u30bb\u30fc\u30b8: `+e.message+f.c.GUIDANCE_OF_SUPPORT,"danger",_.yR.BUTTON_TITLE.CLOSE,""),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,E.q)(1),(0,T.h)(r=>this.modalService.getModalProperties().title===e.title)).subscribe(r=>{this.redirectPath&&this.router.navigateByUrl(this.redirectPath)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.Z),t.Y36(C.T),t.Y36(O.F0),t.Y36(U.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-order-reception-slip"]],decls:2,vars:1,consts:[[3,"isLoading"]],template:function(e,i){1&e&&t._UZ(0,"router-outlet")(1,"app-loading-container",0),2&e&&(t.xp6(1),t.Q6J("isLoading",i.isLoading))},dependencies:[O.lC,K.o]}),n})();var b=l(7579),Z=l(7030),Q=l(4128),k=l(262),P=l(9646),at=l(3605),W=l(5450),B=l(529),N=l(9042);const S={FAILED_CHOICES_FOR_NARROWING_DOWN:"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002",ERROR:{CANNOT_BE_DELETED:"\u3053\u306e\u30c7\u30fc\u30bf\u306f\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002",ATTEMPTED_TO_MODIFY_ACCEPTED_DATA_CHANGE:"\u53d7\u6ce8\u6e08\u307f\u306e\u5ba2\u6ce8\u53d7\u4ed8\u7968\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002"},CUSTOMER_TYPE_DIVISION:{CODE:{CLIENT:0,MEMBER:1,GENERAL:2},VALUE:{CLIENT:"\u5f97\u610f\u5148",MEMBER:"\u4f1a\u54e1",GENERAL:"\u4e00\u822c"}},SETTLE_STATUS_DIVISION:{CODE:{BEFORE_PAYMENT:0,PAID:1},VALUE:{BEFORE_PAYMENT:"\u7cbe\u7b97\u524d",PAID:"\u7cbe\u7b97\u6e08\u307f"}},INCIDENT_DIVISION:{CODE:{NO_INCIDENTS:0,INCIDENT_IN_PROGRESS:1,INCIDENT_RESOLUTION:2},VALUE:{NO_INCIDENTS:"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u306a\u3057",INCIDENT_IN_PROGRESS:"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u767a\u751f\u4e2d",INCIDENT_RESOLUTION:"\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u89e3\u6d88"}},DELIVERY_DIVISION:{CODE:{NO_DELIVERY:0,DELIVERY_INCLUDED:1},VALUE:{NO_DELIVERY:"\u914d\u9001\u306a\u3057",DELIVERY_INCLUDED:"\u914d\u9001\u3042\u308a"}},STATUS_CODE:{ACCEPTED:0,TICKET_ISSUED:1,QUOTATION_CREATED:2,QUOTATION_UNDER_REVIEW:3,QUOTATION_SENT:4,ORDER_RECEIVED:5,AVAILABLE:6,CONTACTED_CUSTOMER:7,DELIVERED_TO_CARRIER:8,PRODUCT_IN_TRANSIT:9,DELIVERED:10,ALL_ITEMS_REFUNDED:98,CANCELLED:99},STATUS:{ACCEPTED:"\u53d7\u4ed8\u6e08\u307f",TICKET_ISSUED:"\u53d7\u4ed8\u7968\u767a\u884c\u6e08\u307f",QUOTATION_CREATED:"\u898b\u7a4d\u66f8\u4f5c\u6210\u6e08\u307f",QUOTATION_UNDER_REVIEW:"\u898b\u7a4d\u66f8\u7a1f\u8b70\u4e2d",QUOTATION_SENT:"\u898b\u7a4d\u66f8\u9001\u4ed8\u6e08\u307f",ORDER_RECEIVED:"\u53d7\u6ce8\u6e08\u307f",AVAILABLE:"\u5165\u8377\u6e08\u307f",CONTACTED_CUSTOMER:"\u304a\u5ba2\u69d8\u3078\u9023\u7d61\u6e08\u307f",DELIVERED_TO_CARRIER:"\u914d\u9001\u696d\u8005\u3078\u5f15\u304d\u6e21\u3057\u6e08\u307f",PRODUCT_IN_TRANSIT:"\u5546\u54c1\u914d\u9054\u4e88\u5b9a",DELIVERED:"\u5546\u54c1\u5f15\u304d\u6e21\u3057\u6e08\u307f",ALL_ITEMS_REFUNDED:"\u8fd4\u54c1",CANCELLED:"\u30ad\u30e3\u30f3\u30bb\u30eb"},CALLED_NUMBER_PREFIX:"2"};var z=l(4416),w=l(6232),st=l(3001),Ut=l(4562),X=l(6082),j=l(5146),$=l(3761),Zt=l(6502),tt=l(7540),Rt=l(3148);function Mt(n,o){1&n&&t.GkF(0,26)}function Vt(n,o){1&n&&t.GkF(0,26)}function qt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",27),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickSubmitButton())}),t._uU(1," \u7d5e\u308a\u8fbc\u307f\u5b9f\u884c "),t.qZA()}}function kt(n,o){1&n&&(t.TgZ(0,"app-button",28),t._uU(1," \u7d5e\u308a\u8fbc\u307f\u5b9f\u884c "),t.qZA())}function Pt(n,o){if(1&n&&(t.TgZ(0,"p",29),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.DATE_TERM_TO_BEFORE_FROM," ")}}let Bt=(()=>{class n{constructor(e,i,r,a,u,c){this.fb=e,this.employeeService=i,this.divisionService=r,this.customerOrderService=a,this.supplierService=u,this.productService=c,this.subscription=new R.w0,this.searchEvent=new t.vpe,this.errorEvent=new t.vpe,this.hasPanelOpened=!1,this.rotateAnimation="",this.errorConst=f.c,this.corsConst=S,this.form=this.fb.group({id:"",management_cd:"",last_name:"",status_division_id:"",total_amount_including_tax:"",delivery_division_id:"",settle_status_division_id:"",incident_division_id:"",tel:"",remarks_1:"",remarks_2:"",supplier_id:"",quotation_date:this.fb.group({from:"",to:""},{validators:[W.d.beforeFromDate()]}),reception_employee_id:"",quotation_expiration_date:this.fb.group({from:"",to:""},{validators:[W.d.beforeFromDate()]}),created_at:this.fb.group({from:"",to:""},{validators:[W.d.beforeFromDate()]})}),this.supplier_id_list=[],this.supplierOptions=[],this.product=[],this.cor_slip_id=[]}get ctrls(){return this.form.controls}ngOnInit(){this.initialization()}ngOnDestroy(){this.subscription.unsubscribe()}initialization(){this.subscription.add((0,Q.D)([this.employeeService.getAsSelectOptions(),this.divisionService.getAsSelectOptions({name:N.z.CUSTOMER_ORDER_RECEPTION_SLIP_STATUS}),this.divisionService.getAsSelectOptions({name:N.z.SETTLE_STATUS}),this.customerOrderService.getAll()]).pipe((0,k.K)(e=>(e.emit(e),(0,P.of)(e.error)))).subscribe(e=>{if(e instanceof B.UA)return void this.handleError(e.status,e.message);if(null==e)return void this.handleError(400,_.yR.BODY.HAS_ERROR);if(4!==e.length)return void this.handleError(400,_.yR.BODY.HAS_ERROR);this.employeeSuggests=e[0],this.statusOptions=e[1][N.z.CUSTOMER_ORDER_RECEPTION_SLIP_STATUS],this.settleStatusOptions=e[2][N.z.SETTLE_STATUS];let c=[],d=[];e[3].data.filter(y=>{y.supplier_id&&c.push(y.supplier_id),y.product_id&&d.push(y.product_id),this.cor_slip_id.push({product_id:y.product_id,customer_slip_id:y.customer_order_reception_slip_id})});let I=Array.from(new Set(d)).join(",");this.getSupplierList(I),this._initSearch(),console.log(e[3])}))}getSupplierList(e){this.subscription.add((0,Q.D)([this.productService.getAll({id:e})]).pipe().subscribe(i=>{for(let r in i[0].data)this.product.push({product_id:i[0].data[r].id,supplier_id:i[0].data[r].supplier_id});this.getSupplierOption(this.product)}))}getSupplierOption(e){let i=[];e.filter(c=>{i.push(c.supplier_id)});let u=Array.from(new Set(i)).join(",");this.subscription.add((0,Q.D)([this.supplierService.getAll({id:u})]).pipe().subscribe(c=>{for(let d in c[0].data)this.supplierOptions.push({value:c[0].data[d].id,text:c[0].data[d].name})}))}supplierChange(e){let i=Number(e.target.value),r=[],a=[];this.product.filter(p=>(p.supplier_id===i&&r.push(p.product_id),p.supplier_id===i));for(let p in r)this.cor_slip_id.filter(I=>{r[p]===I.product_id&&a.push(I.customer_slip_id)});let d=Array.from(new Set(a)).join(",");this.ctrls.id.patchValue(d)}_initSearch(){if(void 0===this.statusOptions)return;const e=this.statusOptions.find(i=>i.text===this.corsConst.STATUS.AVAILABLE);void 0!==e&&this.ctrls.status_division_id.patchValue(String(e.value)),this.handleClickSubmitButton()}invalid(e){return(e.touched||e.dirty)&&e.invalid}changeNumber(e){console.log(e.value),this.ctrls.tel.setValue(e.value)}panelOpenButtonOnClick(){this.hasPanelOpened?(this.hasPanelOpened=!1,this.rotateAnimation="rotate-animation-0"):(this.hasPanelOpened=!0,this.rotateAnimation="rotate-animation-180")}handleClickClearButton(){Object.values(this.ctrls).forEach(e=>{e instanceof s.cw?Object.values(e.controls).forEach(i=>{i.patchValue("")}):e.patchValue("")})}handleClickSubmitButton(){const i=at.v.flattingFormValue(this.form.value);this.searchEvent.emit(at.v.removeNullsAndBlanks(i))}handleError(e,i){this.errorEvent.emit({status:e,title:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7\u7d5e\u308a\u8fbc\u307f\uff1a"+_.yR.TITLE.HAS_ERROR,message:i})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(z.G),t.Y36(w.E),t.Y36(st.E),t.Y36(Ut.p),t.Y36(X.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],outputs:{searchEvent:"searchEvent",errorEvent:"errorEvent"},decls:50,vars:31,consts:[[1,"mt-8","mb-4"],[3,"click"],["icon","filter-2-line",1,"w-6"],[1,"inline-block","ml-1","mr-2"],["icon","arrow-down-s-fill",1,"w-6"],[1,"mb-6"],[1,"purchase-order-search","width-limit-break","bg-white",3,"ngClass"],[1,"w-[1280px]","mx-auto","px-4",3,"ngSubmit"],[1,"flex","gap-6","mb-6"],[1,"w-1/5",3,"formCtrl"],[1,"w-1/5"],["nameAttrValue","reception_employee_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"w-1/6",3,"formCtrl","change"],[1,"w-1/6",3,"formCtrl"],[1,"w-1/6"],["nameAttrValue","status_division_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","settle_status_division_id","idAttrValue","settle-status-division-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"w-2/6"],["nameAttrValue","supplier_id","idAttrValue","supplier-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid","change"],[3,"dateFromFormCtrl","dateToFormCtrl","invalid"],["message","",4,"ngIf","ngIfThen"],[1,"flex","gap-8","mt-10"],["btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"click",4,"ngIf","ngIfElse"],[1,"mt-2","text-sm","text-red"],["disable",""],["beforeFromDate",""],["message",""],["btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"click"],["btnFillColor","text-white bg-slate-300 hover:bg-slate-300"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"app-button",1),t.NdJ("click",function(){return i.panelOpenButtonOnClick()}),t._UZ(2,"app-icon",2),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t._UZ(5,"app-icon",4),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){return i.handleClickSubmitButton()}),t.TgZ(9,"div",8)(10,"app-text-clear-container",9),t._uU(11,"\u7ba1\u7406\u30b3\u30fc\u30c9"),t.qZA(),t.TgZ(12,"div",10)(13,"app-select-suggest-container",11),t._uU(14," \u53d7\u4ed8\u62c5\u5f53\u8005 "),t.qZA()(),t.TgZ(15,"div",10)(16,"app-text-clear-container",12),t.NdJ("change",function(){return i.changeNumber(i.ctrls.tel)}),t._uU(17,"\u96fb\u8a71\u756a\u53f7"),t.qZA()(),t.TgZ(18,"div",10)(19,"app-text-clear-container",13),t._uU(20,"\u304a\u5ba2\u69d8\u540d"),t.qZA()()(),t.TgZ(21,"div",8)(22,"div",14)(23,"app-select-suggest-container",15),t._uU(24," \u30b9\u30c6\u30fc\u30bf\u30b9 "),t.qZA()(),t.TgZ(25,"div",14)(26,"app-select-suggest-container",16),t._uU(27," \u7cbe\u7b97 "),t.qZA()(),t.TgZ(28,"div",17)(29,"app-select-suggest-container",18),t.NdJ("change",function(a){return i.supplierChange(a)}),t._uU(30," \u4ed5\u5165\u308c\u5148 "),t.qZA()()(),t.TgZ(31,"div",8)(32,"app-date-term-clear-container",19)(33,"span"),t._uU(34,"\u898b\u7a4d\u65e5"),t.qZA(),t.YNc(35,Mt,1,0,"ng-container",20),t.qZA(),t.TgZ(36,"app-date-term-clear-container",19)(37,"span"),t._uU(38,"\u767b\u9332\u65e5"),t.qZA(),t.YNc(39,Vt,1,0,"ng-container",20),t.qZA()(),t.TgZ(40,"div",21)(41,"app-button",1),t.NdJ("click",function(){return i.handleClickClearButton()}),t._uU(42," \u5165\u529b\u5185\u5bb9\u30af\u30ea\u30a2 "),t.qZA(),t.YNc(43,qt,2,0,"app-button",22),t.qZA(),t.TgZ(44,"p",23),t._uU(45," \u203b \u5165\u529b\u5185\u5bb9\u3092\u30af\u30ea\u30a2\u3057\u305f\u5f8c\u306b\u7d5e\u308a\u8fbc\u307f\u5b9f\u884c\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002 "),t.qZA()()()(),t.YNc(46,kt,2,0,"ng-template",null,24,t.W1O),t.YNc(48,Pt,2,1,"ng-template",null,25,t.W1O)),2&e){const r=t.MAs(47),a=t.MAs(49);t.xp6(4),t.hij(" ",i.hasPanelOpened?"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u975e\u8868\u793a":"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u8868\u793a"," "),t.xp6(1),t.Tol(i.rotateAnimation),t.xp6(2),t.Q6J("ngClass",i.hasPanelOpened?"is-open shadow":""),t.xp6(3),t.Q6J("formCtrl",i.ctrls.id),t.xp6(3),t.Q6J("formCtrl",i.ctrls.reception_employee_id)("suggests",i.employeeSuggests)("invalid",i.invalid(i.ctrls.reception_employee_id)),t.xp6(3),t.Q6J("formCtrl",i.ctrls.tel),t.xp6(3),t.Q6J("formCtrl",i.ctrls.last_name),t.xp6(4),t.Q6J("formCtrl",i.ctrls.status_division_id)("suggests",i.statusOptions)("invalid",i.invalid(i.ctrls.status_division_id)),t.xp6(3),t.Q6J("formCtrl",i.ctrls.settle_status_division_id)("suggests",i.settleStatusOptions)("invalid",i.invalid(i.ctrls.settle_status_division_id)),t.xp6(3),t.Q6J("formCtrl",i.ctrls.supplier_id)("suggests",i.supplierOptions)("invalid",i.invalid(i.ctrls.supplier_id)),t.xp6(3),t.Q6J("dateFromFormCtrl",i.ctrls.quotation_date.controls.from)("dateToFormCtrl",i.ctrls.quotation_date.controls.to)("invalid",!!i.ctrls.quotation_date.errors),t.xp6(3),t.Q6J("ngIf",null==i.ctrls.quotation_date.errors?null:i.ctrls.quotation_date.errors.beforeFromDate)("ngIfThen",a),t.xp6(1),t.Q6J("dateFromFormCtrl",i.ctrls.created_at.controls.from)("dateToFormCtrl",i.ctrls.created_at.controls.to)("invalid",!!i.ctrls.created_at.errors),t.xp6(3),t.Q6J("ngIf",null==i.ctrls.created_at.errors?null:i.ctrls.created_at.errors.beforeFromDate)("ngIfThen",a),t.xp6(4),t.Q6J("ngIf",i.form.valid)("ngIfElse",r)}},dependencies:[m.mk,m.O5,s._Y,s.JL,j.r,$.o,Zt.P,tt.X,Rt.w],styles:[".purchase-order-search[_ngcontent-%COMP%]{max-height:0;padding:0 2.5rem;margin:0;transition:max-height .8s,padding .8s,margin .8s ease-in;overflow:hidden}.purchase-order-search.is-open[_ngcontent-%COMP%]{max-height:100vh;padding:2.5rem;margin:2rem 0}"]}),n})();var Qt=l(3360),lt=l(8505),Yt=l(3900),Y=l(8746),H=l(7399),Jt=l(2640);let Lt=(()=>{class n{constructor(e,i){this.corService=e,this.common=i,this.errorEvent=new t.vpe,this.filter={},this.pages={page:1,itemsPerPage:10,sort:{column:"\u53d7\u4ed8\u756a\u53f7",order:"desc"}},this.tableParams=new b.x,this.tableNameMapping=[{name:"id",name_jp:"\u53d7\u4ed8\u756a\u53f7"},{name:"division_customer_type_value",name_jp:"\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7"},{name:"client_name",name_jp:"\u304a\u5ba2\u69d8\u540d"},{name:"client_tel",name_jp:"\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7"},{name:"reception_date",name_jp:"\u53d7\u4ed8\u65e5"},{name:"reception_employee_id",name_jp:"\u53d7\u4ed8\u62c5\u5f53\u8005"},{name:"division_status_value",name_jp:"\u30b9\u30c6\u30fc\u30bf\u30b9"}]}ngOnInit(){this.subscribeEventListener()}subscribeEventListener(){this.subscription?.unsubscribe(),this.subscription=this.eventListener.pipe((0,lt.b)(()=>this.common.loading=!0),(0,Yt.w)(e=>this.corService.getAll(this.createApiParams(e))),(0,k.K)(e=>(0,P.of)(e)),(0,Y.x)(()=>this.common.loading=!1)).subscribe({next:e=>{this.common.loading=!1,e instanceof B.UA?this.handleError(e.status,e.error.message):(console.log(e),this.tableParams.next(this.createTableParams(e)))},complete:()=>this.subscribeEventListener()})}createApiParams(e){this.isTableWithPaginationEvent(e)?this.pages=e:(this.filter=e,this.pages.page=1);const i=this.tableNameMapping.find(r=>r.name_jp===this.pages.sort.column)?.name;return{...this.filter,limit:this.pages.itemsPerPage,offset:(this.pages.page-1)*this.pages.itemsPerPage,sort:i?`${i}:${this.pages.sort.order}`:""}}isTableWithPaginationEvent(e){const{page:i,itemsPerPage:r,sort:a}=e;return"number"==typeof i&&"number"==typeof r&&"object"==typeof a}handleError(e,i){this.errorEvent.emit({status:e,title:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7\uff1a"+_.yR.TITLE.HAS_ERROR,message:i})}createTableParams(e){const i=this.tableNameMapping.map(a=>a.name_jp),r=e.data.map(a=>this.tableNameMapping.map(u=>a[u.name]));return r.forEach((a,u)=>{let c=-1;switch(c=i.indexOf("\u53d7\u4ed8\u756a\u53f7"),a[c]={href:`./detail/${a[c]}`,text:a[c]+"",queryParams:{clientId:this.clientId}},c=i.indexOf("\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7"),a[c]){case S.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:c=i.indexOf("\u304a\u5ba2\u69d8\u540d"),a[c]=a[c]+"\u69d8",c=i.indexOf("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7"),a[c]=e.data[u].tel+" ";break;case S.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:c=i.indexOf("\u304a\u5ba2\u69d8\u540d"),a[c]=e.data[u].member_last_name+" "+e.data[u].member_first_name+"\u69d8",c=i.indexOf("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7"),a[c]=e.data[u].tel+" ";break;case S.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:c=i.indexOf("\u304a\u5ba2\u69d8\u540d"),a[c]=e.data[u].last_name+" "+e.data[u].first_name+"\u69d8",c=i.indexOf("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7"),a[c]=e.data[u].tel+" "}c=i.indexOf("\u53d7\u4ed8\u65e5"),a[c]=new Date(a[c]).toLocaleDateString(),c=i.indexOf("\u53d7\u4ed8\u62c5\u5f53\u8005"),a[c]=e.data[u].employee_reception_last_name+" "+e.data[u].employee_reception_first_name}),{total:e.totalItems,header:i,body:r}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.k),t.Y36(U.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table"]],inputs:{eventListener:"eventListener"},outputs:{errorEvent:"errorEvent"},decls:2,vars:2,consts:[[3,"params","loading","pageChange"]],template:function(e,i){1&e&&(t.TgZ(0,"app-table-with-pagination",0),t.NdJ("pageChange",function(a){return i.eventListener.next(a)}),t._uU(1," \u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7\n"),t.qZA()),2&e&&t.Q6J("params",i.tableParams)("loading",i.common.loading)},dependencies:[Jt.i]}),n})();const Gt=function(){return{text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7"}},Kt=function(n){return[n]};let wt=(()=>{class n{constructor(e){this.errorService=e,this.parentSearchEvent=new b.x,this.parentTableEvent=new b.x,this.subscription=new R.w0}ngOnInit(){this.subscription.add(this.parentSearchEvent.subscribe(e=>{this.parentTableEvent.next(e)}))}ngOnDestroy(){this.subscription.unsubscribe()}handleError(e){this.errorService.setError({status:e.status,title:e.title,message:e.message})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:8,vars:5,consts:[[3,"breadcrumbList"],[3,"searchEvent","errorEvent"],[1,"flex","items-center","justify-end","my-2"],[1,"mr-8"],["path","/customer-order-reception-slip/add"],[3,"eventListener","errorEvent"]],template:function(e,i){1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"app-search",1),t.NdJ("searchEvent",function(a){return i.parentSearchEvent.next(a)})("errorEvent",function(a){return i.handleError(a)}),t.qZA(),t.TgZ(2,"main")(3,"div",2)(4,"div",3),t._UZ(5,"app-new-registration-link-org",4),t.qZA()(),t.TgZ(6,"div")(7,"app-table",5),t.NdJ("errorEvent",function(a){return i.handleError(a)}),t.qZA()()()),2&e&&(t.Q6J("breadcrumbList",t.VKq(3,Kt,t.DdM(2,Gt))),t.xp6(7),t.Q6J("eventListener",i.parentTableEvent))},dependencies:[Z.Z,Bt,Qt.S,Lt]}),n})();var jt=l(4004);const ut={FAILED_CHOICES_FOR_NARROWING_DOWN:"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002",ERROR:{CANNOT_BE_DELETED:"\u3053\u306e\u30c7\u30fc\u30bf\u306f\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002",ATTEMPTED_TO_MODIFY_ACCEPTED_DATA_CHANGE:"\u53d7\u6ce8\u6e08\u307f\u306e\u5ba2\u6ce8\u53d7\u4ed8\u8868\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002"},SETTLE_STATUS_DIVISION:{CODE:{BEFORE_PAYMENT:0,PAID:1},VALUE:{BEFORE_PAYMENT:"\u7cbe\u7b97\u524d",PAID:"\u7cbe\u7b97\u6e08\u307f"}},STATUS_CODE:{BEFORE_PLACING_AN_ORDER:0,PRODUCT_ORDERED:1,BEFORE_PRODUCT_INSPECTION:2,PRODUCT_INSPECTION_FINISHED:3,RETURNED_PRODUCT:99},STATUS:{BEFORE_PLACING_AN_ORDER:"\u5546\u54c1\u767a\u6ce8\u524d",PRODUCT_ORDERED:"\u5546\u54c1\u767a\u6ce8\u6e08\u307f",BEFORE_PRODUCT_INSPECTION:"\u5546\u54c1\u691c\u54c1\u524d",PRODUCT_INSPECTION_FINISHED:"\u5546\u54c1\u691c\u54c1\u6e08\u307f",RETURNED_PRODUCT:"\u5546\u54c1\u8fd4\u54c1\u6e08\u307f"}};var A=l(349),ct=l(1269),_t=l(2425),dt=l(6341),pt=l(2e3),et=l(8782),mt=l(387),nt=l(1805),it=l(2195),rt=l(1451),gt=l(8187),ot=l(228),ht=l(9612);function Ht(n,o){1&n&&t.GkF(0)}function Wt(n,o){1&n&&t.GkF(0,35)}function zt(n,o){1&n&&t.GkF(0)}function Xt(n,o){1&n&&t.GkF(0,35)}function $t(n,o){1&n&&t.GkF(0)}function te(n,o){1&n&&t.GkF(0,35)}function ee(n,o){1&n&&t.GkF(0)}function ne(n,o){1&n&&t.GkF(0,35)}function ie(n,o){1&n&&t.GkF(0)}function re(n,o){1&n&&t.GkF(0,35)}const oe=function(){return{label:"\u5099\u80031",required:!1}},D=function(n){return{ctrl:n}},ae=function(){return{label:"\u5099\u80032",required:!1}};function se(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",13)(2,"div",36)(3,"app-textarea-container",37),t.YNc(4,ee,1,0,"ng-container",16),t.YNc(5,ne,1,0,"ng-container",17),t.qZA()(),t.TgZ(6,"div",36)(7,"app-textarea-container",38),t.YNc(8,ie,1,0,"ng-container",16),t.YNc(9,re,1,0,"ng-container",17),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(),i=t.MAs(57),r=t.MAs(59);t.xp6(3),t.Q6J("formCtrl",e.fc.remarks_1)("invalid",e.formControlStateManager(e.fc.remarks_1)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(12,oe)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(13,D,e.fc.remarks_1)),t.xp6(2),t.Q6J("formCtrl",e.fc.remarks_2)("invalid",e.formControlStateManager(e.fc.remarks_2)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(15,ae)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(16,D,e.fc.remarks_2))}}function le(n,o){1&n&&t.GkF(0)}function ue(n,o){1&n&&t.GkF(0,35)}function ce(n,o){1&n&&t.GkF(0)}function _e(n,o){1&n&&t.GkF(0)}function de(n,o){1&n&&t.GkF(0)}function pe(n,o){1&n&&t.GkF(0)}function me(n,o){1&n&&t.GkF(0)}const ge=function(){return{label:"\u5546\u54c1\u756a\u53f7",required:!1}};function he(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",56)(2,"app-real-time-suggest-container",74),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.handleSelectedProductData(a,r))}),t.YNc(3,me,1,0,"ng-container",16),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3),r=t.MAs(57);t.xp6(2),t.Q6J("idCtrl",i.getFormControlTypeValue(e,"product_id"))("nameCtrl",i.getFormControlTypeValue(e,"product_id"))("apiInput",i.getProductIdSuggests(e))("invalid",i.formControlStateManager(i.getFormControlTypeValue(e,"product_id"))),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(6,ge))}}function fe(n,o){1&n&&t.GkF(0)}const Ce=function(){return{label:"\u54c1\u540d\u3092\u5546\u54c1\u30de\u30b9\u30bf\u304b\u3089\u9078\u629e",required:!1}};function Te(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",60)(1,"app-real-time-suggest-container",75),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.handleSelectedProductData(a,r))}),t.YNc(2,fe,1,0,"ng-container",16),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3),r=t.MAs(57);t.xp6(1),t.Q6J("idCtrl",i.getFormControlTypeValue(e,"product_id"))("nameCtrl",i.getFormControlTypeValue(e,"product_name"))("apiInput",i.getProductSuggests(e))("invalid",i.formControlStateManager(i.getFormControlTypeValue(e,"product_name"))),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(6,Ce))}}function xe(n,o){1&n&&t.GkF(0)}function ve(n,o){1&n&&t.GkF(0,35)}function Ae(n,o){1&n&&t.GkF(0)}function Ee(n,o){1&n&&t.GkF(0,35)}function Fe(n,o){1&n&&t.GkF(0)}function Oe(n,o){1&n&&t.GkF(0,35)}function De(n,o){1&n&&t.GkF(0)}function Ie(n,o){1&n&&t.GkF(0,35)}function Se(n,o){1&n&&t.GkF(0)}function be(n,o){1&n&&t.GkF(0,35)}function Ne(n,o){1&n&&t.GkF(0)}function ye(n,o){1&n&&t.GkF(0,35)}const Ue=function(){return{label:"\u5358\u4fa1\uff08\u7a0e\u8fbc\uff09\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u4e0b\u8a18\u3078\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",required:!1}};function Ze(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",76)(2,"app-text-container",77),t.YNc(3,Ne,1,0,"ng-container",16),t.YNc(4,ye,1,0,"ng-container",17),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(3),r=t.MAs(57),a=t.MAs(59);t.xp6(2),t.Q6J("formCtrl",i.getFormControlTypeValue(e,"custom_unit_price"))("textRight",!0)("invalid",i.formControlStateManager(i.getFormControlTypeValue(e,"custom_unit_price"))),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(7,Ue)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(8,D,i.getFormControlTypeValue(e,"custom_unit_price")))}}function Re(n,o){1&n&&t.GkF(0)}function Me(n,o){1&n&&t.GkF(0,35)}function Ve(n,o){1&n&&t.GkF(0)}function qe(n,o){1&n&&t.GkF(0,35)}function ke(n,o){1&n&&t.GkF(0)}function Pe(n,o){1&n&&t.GkF(0,35)}function Be(n,o){1&n&&t.GkF(0)}function Qe(n,o){1&n&&t.GkF(0,35)}function Ye(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"span",71),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(2),t.hij(" \u30ab\u30b9\u30bf\u30e0\u5358\u4fa1\uff08\u7a0e\u8fbc\uff09\uff1a",i.getFormValue(e,"custom_unit_price").toLocaleString(),"\u5186 ")}}const Je=function(){return{label:"\u6570\u91cf",required:"true"}},Le=function(){return{label:"\u5358\u4f4d",required:"true"}},Ge=function(){return{label:"\u914d\u9001\u533a\u5206",required:"true"}},Ke=function(){return{label:"\u5546\u54c1\u540d\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u4e0b\u8a18\u3078\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",required:!1}},we=function(){return{label:"\u5358\u4fa1",required:!1}},je=function(){return{label:"\u4fa1\u683c",required:!1}},He=function(){return{label:"\u539f\u4fa1",required:!1}},We=function(){return{label:"\u539f\u4fa1\u5408\u8a08",required:!1}},ze=function(){return{label:"\u5099\u8003",required:!1}};function Xe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",48)(2,"app-button",42),t.NdJ("click",function(){const a=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.setSelectionType(a))}),t._uU(3),t.qZA()(),t._UZ(4,"hr",49),t.TgZ(5,"div",49)(6,"div",50),t.YNc(7,he,4,7,"ng-container",51),t._UZ(8,"app-text-container",52),t.YNc(9,Te,3,7,"ng-template",null,53,t.W1O),t.TgZ(11,"div",54)(12,"app-text-container",55),t.YNc(13,xe,1,0,"ng-container",16),t.YNc(14,ve,1,0,"ng-container",17),t.qZA()(),t.TgZ(15,"div",56)(16,"app-text-container",57),t.YNc(17,Ae,1,0,"ng-container",16),t.YNc(18,Ee,1,0,"ng-container",17),t.qZA()(),t.TgZ(19,"div",56)(20,"app-select-container",58),t.YNc(21,Fe,1,0,"ng-container",16),t.YNc(22,Oe,1,0,"ng-container",17),t.qZA()()(),t.TgZ(23,"div",59)(24,"div",60)(25,"app-text-container",61),t.YNc(26,De,1,0,"ng-container",16),t.YNc(27,Ie,1,0,"ng-container",17),t.qZA()(),t.TgZ(28,"div",54)(29,"app-text-container",62),t.YNc(30,Se,1,0,"ng-container",16),t.YNc(31,be,1,0,"ng-container",17),t.qZA()(),t.YNc(32,Ze,5,10,"ng-container",25),t.TgZ(33,"div",56)(34,"app-text-container",63),t.YNc(35,Re,1,0,"ng-container",16),t.YNc(36,Me,1,0,"ng-container",17),t.qZA()()(),t.TgZ(37,"div",59),t._UZ(38,"div",64),t.TgZ(39,"div",54)(40,"app-text-container",65),t.YNc(41,Ve,1,0,"ng-container",16),t.YNc(42,qe,1,0,"ng-container",17),t.qZA()(),t.TgZ(43,"div",54)(44,"app-text-container",66),t.YNc(45,ke,1,0,"ng-container",16),t.YNc(46,Pe,1,0,"ng-container",17),t.qZA()()(),t.TgZ(47,"div",59)(48,"div",67)(49,"app-textarea-container",68),t.YNc(50,Be,1,0,"ng-container",16),t.YNc(51,Qe,1,0,"ng-container",17),t.qZA()()(),t._UZ(52,"hr",49),t.TgZ(53,"div",69)(54,"p"),t._uU(55,"\u5165\u529b\u4e2d\u5546\u54c1\u60c5\u5831"),t.qZA()(),t.TgZ(56,"div",70)(57,"p")(58,"span",71),t._uU(59),t.qZA(),t.TgZ(60,"span",71),t._uU(61),t.qZA()()(),t.TgZ(62,"div",70)(63,"p")(64,"span",71),t._uU(65),t.qZA(),t.YNc(66,Ye,3,1,"ng-container",25),t.TgZ(67,"span",71),t._uU(68),t.qZA(),t.TgZ(69,"span",71),t._uU(70),t.qZA(),t.TgZ(71,"span",71),t._uU(72),t.qZA()()(),t._UZ(73,"hr",49),t.TgZ(74,"div",72)(75,"div",73)(76,"app-button",42),t.NdJ("click",function(){const a=t.CHM(e).index,u=t.oxw(3);return t.KtG(u.removeCustomerOrderForm(a))}),t._uU(77,"\u524a\u9664"),t.qZA()()()()()}if(2&n){const e=o.$implicit,i=o.index,r=t.MAs(10),a=t.oxw(3),u=t.MAs(57),c=t.MAs(59);t.ekj("bg-slate-100",i%2==0),t.Q6J("formGroupName",i),t.xp6(3),t.hij(" ",a.getFormControlTypeValue(e,"selectionTypeIsProductId").value?"\u5546\u54c1\u540d\u3067\u6307\u5b9a\u3059\u308b":"\u5546\u54c1\u756a\u53f7\u3067\u6307\u5b9a\u3059\u308b"," "),t.xp6(4),t.Q6J("ngIf",a.getFormControlTypeValue(e,"selectionTypeIsProductId").value)("ngIfElse",r),t.xp6(1),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"supplier_id"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"supplier_id"))),t.xp6(4),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"quantity"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"quantity"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(79,Je)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(80,D,a.getFormControlTypeValue(e,"quantity"))),t.xp6(2),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"unit"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"unit"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(82,Le)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(83,D,a.getFormControlTypeValue(e,"unit"))),t.xp6(2),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"delivery_division_id"))("options",a.deliveryDivisionOptions)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"delivery_division_id"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(85,Ge)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(86,D,a.getFormControlTypeValue(e,"delivery_division_id"))),t.xp6(3),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"custom_name"))("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"custom_name"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(88,Ke)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(89,D,a.getFormControlTypeValue(e,"custom_name"))),t.xp6(2),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"tax_included_unit_price"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"tax_included_unit_price"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(91,we)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(92,D,a.getFormControlTypeValue(e,"tax_included_unit_price"))),t.xp6(1),t.Q6J("ngIf",a.getFormControlTypeValue(e,"special_order").value),t.xp6(2),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"tax_included_amount"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"tax_included_amount"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(94,je)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(95,D,a.getFormControlTypeValue(e,"tax_included_amount"))),t.xp6(4),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"cost_price"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"cost_price"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(97,He)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(98,D,a.getFormControlTypeValue(e,"cost_price"))),t.xp6(2),t.Q6J("formCtrl",a.getFormControlTypeValue(e,"total_cost_price"))("textRight",!0)("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"total_cost_price"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(100,We)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(101,D,a.getFormControlTypeValue(e,"total_cost_price"))),t.xp6(3),t.Q6J("rows",4)("formCtrl",a.getFormControlTypeValue(e,"remarks"))("invalid",a.formControlStateManager(a.getFormControlTypeValue(e,"remarks"))),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.DdM(103,ze)),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.VKq(104,D,a.getFormControlTypeValue(e,"remarks"))),t.xp6(8),t.hij(" \u4ed5\u5165\u5148\uff1a",a.getFormValue(e,"supplier_name")," "),t.xp6(2),t.hij(" \u5546\u54c1\u540d\uff1a",a.getFormValue(e,"product_name")," "),t.xp6(4),t.hij(" \u5358\u4fa1\uff08\u7a0e\u8fbc\uff09\uff1a",a.getFormValue(e,"tax_included_unit_price").toLocaleString(),"\u5186 "),t.xp6(1),t.Q6J("ngIf",a.getFormControlTypeValue(e,"special_order").value),t.xp6(2),t.hij(" \u91d1\u984d\uff08\u7a0e\u8fbc\uff09\uff1a",a.getFormValue(e,"tax_included_amount").toLocaleString(),"\u5186 "),t.xp6(2),t.hij(" \u539f\u4fa1\uff1a",a.getFormValue(e,"cost_price").toLocaleString(),"\u5186 "),t.xp6(2),t.hij(" \u539f\u4fa1\u5408\u8a08\uff1a",a.getFormValue(e,"total_cost_price").toLocaleString(),"\u5186 ")}}function $e(n,o){if(1&n&&(t.TgZ(0,"div",44)(1,"div",45),t.YNc(2,Xe,78,106,"div",46),t.qZA()()),2&n){const e=t.oxw(2);t.Q6J("formGroup",e.customerOrderForms),t.xp6(2),t.Q6J("ngForOf",e.customerOrderArrayControls)}}function tn(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,_e,1,0,"ng-container",39),t.YNc(2,de,1,0,"ng-container",39),t.YNc(3,pe,1,0,"ng-container",39),t.TgZ(4,"p",40),t._uU(5,"\u5546\u54c1\u60c5\u5831"),t.qZA(),t._UZ(6,"hr",41),t.TgZ(7,"app-button",42),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addCustomerOrderForm())}),t._uU(8,"\u5546\u54c1\u8ffd\u52a0"),t.qZA(),t.YNc(9,$e,3,2,"div",43),t.BQk()}if(2&n){const e=t.oxw(),i=t.MAs(51),r=t.MAs(53),a=t.MAs(49);t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT)("ngIfThen",i),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER)("ngIfThen",r),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)("ngIfThen",a),t.xp6(6),t.Q6J("ngIf",e.customerOrderArrayControls.length>0)}}function en(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",78)(2,"app-button",79),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.clientForm.invalid||e.clientForm.pristine)}}function nn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",78)(2,"app-button",79),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.memberForm.invalid||e.memberForm.pristine)}}function rn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",78)(2,"app-button",79),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.generalForm.invalid||e.generalForm.pristine)}}function on(n,o){if(1&n&&(t.ynx(0),t.YNc(1,en,4,1,"ng-container",25),t.YNc(2,nn,4,1,"ng-container",25),t.YNc(3,rn,4,1,"ng-container",25),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)}}function an(n,o){1&n&&t.GkF(0)}function sn(n,o){1&n&&t.GkF(0,35)}function ln(n,o){1&n&&t.GkF(0)}function un(n,o){1&n&&t.GkF(0,35)}function cn(n,o){1&n&&t.GkF(0)}function _n(n,o){1&n&&t.GkF(0,35)}function dn(n,o){1&n&&t.GkF(0)}function pn(n,o){1&n&&t.GkF(0,35)}function mn(n,o){1&n&&t.GkF(0)}function gn(n,o){1&n&&t.GkF(0,35)}const hn=function(){return{label:"\u59d3 \u540d",required:"true"}},ft=function(){return{label:"\u3000",required:!1}},fn=function(){return{label:"\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5716\u6841\u4ee5\u5185\uff09",required:"true"}},Cn=function(){return{label:"\u30bb\u30a4 \u30e1\u30a4",required:!1}};function Tn(n,o){if(1&n&&(t.TgZ(0,"div",13)(1,"div",26)(2,"app-text-container",80),t.YNc(3,an,1,0,"ng-container",16),t.YNc(4,sn,1,0,"ng-container",17),t.qZA()(),t.TgZ(5,"div",26)(6,"app-text-container",81),t.YNc(7,ln,1,0,"ng-container",16),t.YNc(8,un,1,0,"ng-container",17),t.qZA()(),t.TgZ(9,"div",26)(10,"app-text-container",82),t.YNc(11,cn,1,0,"ng-container",16),t.YNc(12,_n,1,0,"ng-container",17),t.qZA()()(),t.TgZ(13,"div",13)(14,"div",26)(15,"app-text-container",83),t.YNc(16,dn,1,0,"ng-container",16),t.YNc(17,pn,1,0,"ng-container",17),t.qZA()(),t.TgZ(18,"div",26)(19,"app-text-container",84),t.YNc(20,mn,1,0,"ng-container",16),t.YNc(21,gn,1,0,"ng-container",17),t.qZA()(),t._UZ(22,"div",26),t.qZA(),t._UZ(23,"div",13)),2&n){const e=t.oxw(),i=t.MAs(57),r=t.MAs(59);t.xp6(2),t.Q6J("formCtrl",e.generalFc.last_name)("invalid",e.formControlStateManager(e.generalFc.last_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(30,hn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(31,D,e.generalFc.last_name)),t.xp6(2),t.Q6J("formCtrl",e.generalFc.first_name)("invalid",e.formControlStateManager(e.generalFc.first_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(33,ft)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(34,D,e.generalFc.first_name)),t.xp6(2),t.Q6J("formCtrl",e.fc.tel)("invalid",e.formControlStateManager(e.fc.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(36,fn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(37,D,e.fc.tel)),t.xp6(3),t.Q6J("formCtrl",e.generalFc.last_name_kana)("invalid",e.formControlStateManager(e.generalFc.last_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(39,Cn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(40,D,e.generalFc.last_name_kana)),t.xp6(2),t.Q6J("formCtrl",e.generalFc.first_name_kana)("invalid",e.formControlStateManager(e.generalFc.first_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(42,ft)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(43,D,e.generalFc.first_name_kana))}}function xn(n,o){1&n&&t.GkF(0)}function vn(n,o){1&n&&t.GkF(0,35)}function An(n,o){1&n&&t.GkF(0)}function En(n,o){1&n&&t.GkF(0,35)}function Fn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",86)(2,"p"),t._uU(3,"\u9078\u629e\u4e2d\u4f1a\u54e1\u60c5\u5831"),t.qZA(),t._UZ(4,"hr",87),t.TgZ(5,"div",88)(6,"div",89)(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()(),t.TgZ(15,"div",90)(16,"p"),t._uU(17),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA()(),t.TgZ(22,"div",90)(23,"p"),t._uU(24),t.qZA(),t.TgZ(25,"p"),t._uU(26),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(8),t.hij("ID: ",e.selectedClient.id,""),t.xp6(2),t.hij("\u5f97\u610f\u5148\u30b3\u30fc\u30c9\uff1a",e.selectedClient.client_cd,""),t.xp6(2),t.hij("\u5f97\u610f\u5148\u540d\uff1a",e.selectedClient.name,""),t.xp6(2),t.hij("\u8acb\u6c42\u5148\u30b3\u30fc\u30c9\uff1a",e.selectedClient.billing_cd,""),t.xp6(3),t.hij("\u96fb\u8a71\u756a\u53f7\uff1a",e.selectedClient.tel,""),t.xp6(2),t.hij("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff1a",e.selectedClient.mail,""),t.xp6(2),t.HOy(" \u4f4f\u6240\uff1a",e.selectedClient.province,"",e.selectedClient.locality,"",e.selectedClient.street_address,"",e.selectedClient.other_address," "),t.xp6(3),t.hij("\u5099\u80031\uff1a",e.selectedClient.remarks_1,""),t.xp6(2),t.hij("\u5099\u80032\uff1a",e.selectedClient.remarks_2,"")}}const On=function(){return{label:"\u5f97\u610f\u5148\u540d\u3067\u691c\u7d22",required:!1}},Dn=function(){return{label:"\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5714\u6841\u4ee5\u5185\uff09",required:"true"}};function In(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",26)(2,"app-real-time-suggest-container",85),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.handleSelectedClientNameData(r))}),t.YNc(3,xn,1,0,"ng-container",16),t.YNc(4,vn,1,0,"ng-container",17),t.qZA()(),t.TgZ(5,"div",26)(6,"app-text-container",82),t.YNc(7,An,1,0,"ng-container",16),t.YNc(8,En,1,0,"ng-container",17),t.qZA()()(),t.YNc(9,Fn,27,12,"ng-container",25)}if(2&n){const e=t.oxw(),i=t.MAs(57),r=t.MAs(59);t.xp6(2),t.Q6J("idCtrl",e.clientFc.client_id)("nameCtrl",e.clientFc.name)("apiInput",e.getClientNameSuggests())("invalid",e.formControlStateManager(e.clientFc.name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(15,On)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(16,D,e.clientFc.client_id)),t.xp6(2),t.Q6J("formCtrl",e.fc.tel)("invalid",e.formControlStateManager(e.fc.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(18,Dn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(19,D,e.fc.tel)),t.xp6(1),t.Q6J("ngIf",e.selectedClient)}}function Sn(n,o){1&n&&t.GkF(0)}function bn(n,o){1&n&&t.GkF(0,35)}function Nn(n,o){1&n&&t.GkF(0)}function yn(n,o){1&n&&t.GkF(0,35)}function Un(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",86)(2,"p"),t._uU(3,"\u9078\u629e\u4e2d\u4f1a\u54e1\u60c5\u5831"),t.qZA(),t._UZ(4,"hr",87),t.TgZ(5,"div",88)(6,"div",89)(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.qZA()(),t.TgZ(17,"div",90)(18,"p"),t._uU(19),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA(),t.TgZ(22,"p"),t._uU(23),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.qZA()(),t.TgZ(26,"div",90)(27,"p"),t._uU(28),t.qZA(),t.TgZ(29,"p"),t._uU(30),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(8),t.hij("ID: ",e.selectedMember.id,""),t.xp6(2),t.hij("\u4f1a\u54e1\u756a\u53f7\uff1a",e.selectedMember.member_cd,""),t.xp6(2),t.AsE(" \u59d3\u540d\uff1a",e.selectedMember.last_name," ",e.selectedMember.first_name," "),t.xp6(2),t.AsE(" \u59d3\u540d\u30ab\u30ca\uff1a",e.selectedMember.last_name_kana," ",e.selectedMember.first_name_kana," "),t.xp6(2),t.hij("\u96fb\u8a71\u756a\u53f7\uff1a",e.selectedMember.tel,""),t.xp6(3),t.hij("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff1a",e.selectedMember.mail,""),t.xp6(2),t.HOy(" \u4f4f\u6240\uff1a",e.selectedMember.province,"",e.selectedMember.locality,"",e.selectedMember.street_address,"",e.selectedMember.other_address," "),t.xp6(2),t.hij("\u30dd\u30a4\u30f3\u30c8\u4fdd\u6709\u6570\uff1a",e.selectedMember.point,""),t.xp6(2),t.hij("\u30b9\u30c6\u30fc\u30bf\u30b9\uff1a",e.selectedMember.division_status_value,""),t.xp6(3),t.hij("\u5099\u80031\uff1a",e.selectedMember.remarks_1,""),t.xp6(2),t.hij("\u5099\u80032\uff1a",e.selectedMember.remarks_2,"")}}const Zn=function(){return{label:"\u4f1a\u54e1\u756a\u53f7\u3067\u4f1a\u54e1\u60c5\u5831\u3092\u691c\u7d22",required:!1}},Rn=function(){return{label:"\u96fb\u8a71\u756a\u53f7\u3067\u4f1a\u54e1\u60c5\u5831\u3092\u691c\u7d22",required:!1}};function Mn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",26)(2,"app-real-time-suggest-container",91),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.handleSelectedMemberCdData(r))}),t.YNc(3,Sn,1,0,"ng-container",16),t.YNc(4,bn,1,0,"ng-container",17),t.qZA()(),t.TgZ(5,"div",26)(6,"app-real-time-suggest-container",92),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.handleSelectedMemberTelData(r))}),t.YNc(7,Nn,1,0,"ng-container",16),t.YNc(8,yn,1,0,"ng-container",17),t.qZA()()(),t.YNc(9,Un,31,16,"ng-container",25)}if(2&n){const e=t.oxw(),i=t.MAs(57),r=t.MAs(59);t.xp6(2),t.Q6J("idCtrl",e.memberFc.member_id)("nameCtrl",e.memberFc.member_cd)("apiInput",e.getMemberCdSuggests())("invalid",e.formControlStateManager(e.memberFc.member_cd)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(16,Zn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(17,D,e.memberFc.member_id)),t.xp6(2),t.Q6J("idCtrl",e.memberFc.member_tel)("nameCtrl",e.memberFc.member_tel)("apiInput",e.getMemberTelSuggests()),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(19,Rn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(20,D,e.memberFc.member_id)),t.xp6(1),t.Q6J("ngIf",e.selectedMember)}}function Vn(n,o){1&n&&t.GkF(0)}function qn(n,o){1&n&&t.GkF(0,35)}function kn(n,o){1&n&&t.GkF(0)}function Pn(n,o){1&n&&t.GkF(0,35)}const Bn=function(){return{label:"\u53d7\u4ed8\u62c5\u5f53\u8005",required:"true"}},Qn=function(){return{label:"\u5e97\u8217",required:"true"}};function Yn(n,o){if(1&n&&(t.TgZ(0,"div",26)(1,"app-select-suggest-container",93),t.YNc(2,Vn,1,0,"ng-container",16),t.YNc(3,qn,1,0,"ng-container",17),t.qZA()(),t.TgZ(4,"div",26)(5,"app-select-suggest-container",94),t.YNc(6,kn,1,0,"ng-container",16),t.YNc(7,Pn,1,0,"ng-container",17),t.qZA()()),2&n){const e=t.oxw(),i=t.MAs(57),r=t.MAs(59);t.xp6(1),t.Q6J("formCtrl",e.fc.reception_employee_id)("suggests",e.employeeSuggests)("invalid",e.formControlStateManager(e.fc.reception_employee_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(14,Bn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(15,D,e.fc.reception_employee_id)),t.xp6(2),t.Q6J("formCtrl",e.fc.store_id)("suggests",e.storeSuggests)("invalid",e.formControlStateManager(e.fc.store_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(17,Qn)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(18,D,e.fc.store_id))}}function Jn(n,o){1&n&&(t.TgZ(0,"span",97),t._uU(1,"\u5fc5\u9808"),t.qZA())}function Ln(n,o){if(1&n&&(t.TgZ(0,"div",95)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,Jn,2,0,"span",96),t.qZA()),2&n){const e=o.label,i=o.required;t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i)}}function Gn(n,o){if(1&n&&(t.TgZ(0,"p",99),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.REQUIRED_ITEM," ")}}function Kn(n,o){if(1&n&&(t.TgZ(0,"p",99),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.FULL_WIDTH_KATAKANA_RESTRICTION_VIOLATION," ")}}function wn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Kn,2,1,"p",98),t.BQk()),2&n){const e=t.oxw(2).ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function jn(n,o){if(1&n&&(t.TgZ(0,"p",99),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.NUMERIC_LIMIT_VIOLATION," ")}}function Hn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,jn,2,1,"p",98),t.BQk()),2&n){const e=t.oxw(2).ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Wn(n,o){if(1&n&&(t.TgZ(0,"p",99),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.EXCEEDED_CHARACTER_MAX_LIMIT," ")}}function zn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Wn,2,1,"p",98),t.BQk()),2&n){const e=t.oxw(2).ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.maxlength)}}function Xn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Gn,2,1,"p",98),t.YNc(2,wn,2,1,"ng-container",25),t.YNc(3,Hn,2,1,"ng-container",25),t.YNc(4,zn,2,1,"ng-container",25),t.BQk()),2&n){const e=t.oxw().ctrl,i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",e===i.generalFc.last_name_kana||e===i.generalFc.first_name_kana),t.xp6(1),t.Q6J("ngIf",e===i.fc.tel),t.xp6(1),t.Q6J("ngIf",e===i.fc.shipping_address||e===i.fc.remarks_1||e===i.fc.remarks_2||e===i.fc.tel)}}function $n(n,o){if(1&n&&t.YNc(0,Xn,5,4,"ng-container",25),2&n){const e=o.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}const ti=function(n){return{path:n,text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7"}},ei=function(){return{text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u65b0\u898f\u4f5c\u6210"}},ni=function(n,o){return[n,o]},ii=function(){return{label:"\u53d7\u4ed8\u65e5",required:"true"}},ri=function(){return{label:"\u6709\u52b9\u671f\u9650",required:!1}},oi=function(){return{label:"\u914d\u9001\u5148\u4f4f\u6240\uff08255\u6587\u5b57\u4ee5\u5185\uff09",required:!1}},ai=function(){return{label:"\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7",required:"true"}};let si=(()=>{class n{constructor(e,i,r,a,u,c,d,p,F,I,y,h,L,g){this.fb=e,this.modalService=i,this.router=r,this.authorService=a,this.clientService=u,this.memberService=c,this.employeeService=d,this.corsService=p,this.storeService=F,this.errorService=I,this.divisionService=y,this.flashMessageService=h,this.productService=L,this.common=g,this.subscription=new R.w0,this.unit_division_list=[],this.listPagePath="/customer-order-reception-slip",this.cancelModalTitle="\u5ba2\u6ce8\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+_.yR.TITLE.CANCEL,this.errorModalTitle="\u5ba2\u6ce8\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332\u30a8\u30e9\u30fc\uff1a"+_.yR.TITLE.HAS_ERROR,this.errorConst=f.c,this.corsConst=S,this.coConst=ut,this.selectionTypeIsProductId=!0,this.clientForm=this.fb.group({client_id:["",[s.kI.required]],name:[""]}),this.memberForm=this.fb.group({member_id:["",[s.kI.required]],first_name:[""],last_name:[""],member_cd:[""],member_tel:[""]}),this.generalForm=this.fb.group({last_name:["",[s.kI.required,s.kI.maxLength(255)]],first_name:["",[s.kI.maxLength(255)]],last_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(A.m.FULL_WIDTH_KATAKANA_REG_EX)]],first_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(A.m.FULL_WIDTH_KATAKANA_REG_EX)]]}),this.form=this.fb.group({customer_type_division_id:["",[s.kI.required]],store_id:["",[s.kI.required]],reception_employee_id:["",[s.kI.required]],reception_date:["",[s.kI.required]],quotation_employee_id:["",[s.kI.required]],shipping_address:["",[s.kI.maxLength(255)]],total_amount_including_tax:[""],quotation_expiration_date:[""],tel:["",[s.kI.required,s.kI.maxLength(14),s.kI.pattern(A.m.NUMERIC_REG_EX)]],remarks_1:["",[s.kI.maxLength(255)]],remarks_2:["",[s.kI.maxLength(255)]]}),this.show_remark=!1,this.DIVISION_PRODUCT_CODE_SPECIAL_ORDER=2,this.customerOrderForms=this.fb.group({forms:this.fb.array([])})}get clientFc(){return this.clientForm.controls}get memberFc(){return this.memberForm.controls}get generalFc(){return this.generalForm.controls}get fc(){return this.form.controls}initWithAuthorInfo(e){this.authorName=e.last_name+" "+e.first_name,this.authorRole=e.role_name?e.role_name:"",this.fc.reception_employee_id.patchValue(String(e.id)),this.fc.quotation_employee_id.patchValue(String(e.id)),this.fc.store_id.patchValue(String(e.store_id)),this.fc.reception_date.patchValue((new Date).toISOString())}ngOnInit(){this.authorService.author?(this.initWithAuthorInfo(this.authorService.author),this.initOptions()):this.subscription.add(this.authorService.author$.subscribe(e=>{this.initWithAuthorInfo(e),this.initOptions()})),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,T.h)(e=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(e=>{e===_.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl(this.listPagePath)})),this.subscription.add(this.fc.customer_type_division_id.valueChanges.subscribe(e=>{this.selectedCustomerType(e)}))}ngOnDestroy(){this.subscription.unsubscribe()}formControlStateManager(e){return(e.touched||e.dirty)&&e.invalid}selectedCustomerType(e){if(null===e)return void this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc");const i=this.customerTypes.find(r=>String(r.value)===e);if(void 0!==i){if(this.customerType)switch(this.customerType.text){case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:this.clientForm.patchValue({client_id:"",name:""});break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:this.memberFc.member_id.setValue(""),this.memberFc.member_tel.setValue("");break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:this.generalForm.patchValue({last_name:"",first_name:"",last_name_kana:"",first_name_kana:""})}this.customerType=i}else this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc")}getClientNameSuggests(){return{observable:this.clientService.getAll({name:this.clientFc.name.value}),idField:"id",nameField:"name"}}handleSelectedClientNameData(e){this.selectedClient=e}handleSelectedProductData(e,i){if(void 0===i)return;e.controls.special_order.patchValue(i.division_product_code===this.DIVISION_PRODUCT_CODE_SPECIAL_ORDER),e.controls.basic_shipping_fee.patchValue(i.basic_shipping_fee),e.controls.tax_included_unit_price.patchValue(i.selling_price),e.controls.supplier_name.patchValue(i.supplier_name),e.controls.supplier_id.patchValue(Number(i.supplier_id)),this.getFormControlTypeValue(e,"selectionTypeIsProductId").value&&e.controls.product_name.patchValue(i.name);let r=this.unit_division_list.find(a=>a.code===i.division_unit_code);e.controls.unit.patchValue(r.text),e.controls.cost_price.patchValue(i.supplier_cost_price)}getMemberTelSuggests(){return{observable:this.memberService.getAll({tel:this.memberFc.member_tel.value}).pipe((0,jt.U)(e=>({...e,data:e.data.map(i=>({...i,fullName:`${i.last_name} ${i.first_name}`}))}))),idField:"id",nameField:"fullName"}}getMemberCdSuggests(){return{observable:this.memberService.getAll({member_cd:this.memberFc.member_cd.value}),idField:"id",nameField:"member_cd"}}handleSelectedMemberCdData(e){this.selectedMember=e,this.memberFc.member_tel.setValue(""),void 0!==e.first_name&&this.memberFc.first_name.setValue(e.first_name),void 0!==e.last_name&&this.memberFc.last_name.setValue(e.last_name),void 0!==e.tel&&this.fc.tel.setValue(e.tel)}handleSelectedMemberTelData(e){this.selectedMember=e,this.fc.tel.setValue(""),this.memberFc.member_cd.setValue(""),void 0!==e.tel&&this.fc.tel.setValue(e.tel),void 0!==e.member_cd&&this.memberFc.member_id.setValue(String(e.id)),void 0!==e.first_name&&this.memberFc.first_name.setValue(e.first_name),void 0!==e.last_name&&this.memberFc.last_name.setValue(e.last_name)}initOptions(){this.common.loading=!0,this.subscription.add((0,Q.D)([this.employeeService.getAsSelectOptions(),this.divisionService.getAsSelectOptions(),this.storeService.getAsSelectOptions()]).pipe((0,Y.x)(()=>this.common.loading=!1),(0,k.K)(e=>(0,P.of)(e))).subscribe(e=>{e instanceof B.UA?this.handleError(e.status,this.errorModalTitle,e.message):null!=e&&3===e.length?(this.employeeSuggests=e[0],this._setDivisionData(e[1]),this._setHiddenValue(e[1]),this.unit_division_list=e[1][N.z.UNIT],this.storeSuggests=e[2]):this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR)}))}handleClickSaveButton(){this.form.markAsPristine(),this.clientForm.markAsPristine(),this.memberForm.markAsPristine(),this.generalForm.markAsPristine();const[e,i]=this._getCustomerOrders();this.common.loading=!0;const r=this.form.value;if(!this.customerTypes.some(p=>Number(p.value)===Number(r.customer_type_division_id)))return this.fc.customer_type_division_id.setValue(""),void(this.common.loading=!1);if(!this.employeeSuggests.some(p=>Number(p.value)===Number(r.reception_employee_id)))return this.fc.reception_employee_id.setValue(""),this.fc.quotation_employee_id.setValue(""),void(this.common.loading=!1);if(!this.storeSuggests.some(p=>Number(p.value)===Number(r.store_id)))return this.fc.store_id.setValue(""),void(this.common.loading=!1);if(this.isFalseValue(r.reception_date))return this.fc.reception_date.setValue(""),void(this.common.loading=!1);const d={store_id:r.store_id,customer_type_division_id:r.customer_type_division_id,status_division_id:this.statusDivisionId,reception_employee_id:r.reception_employee_id,quotation_employee_id:r.reception_employee_id,reception_date:new Date(String(r.reception_date)).toLocaleDateString(),quotation_expiration_date:r.quotation_expiration_date?new Date(r.quotation_expiration_date).toLocaleDateString():"",settle_status_division_id:this.settleStatusDivisionId,incident_division_id:this.incidentDivisionId,shipping_address:r.shipping_address,remarks_1:r.remarks_1,remarks_2:r.remarks_2,customer_order:[...i]};switch(void 0!==this.totalAmountIncludingTax&&(d.total_amount_including_tax=String(this.totalAmountIncludingTax)),this.customerType.text){case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:d.client_id=this.clientForm.value.client_id,d.first_name=this.clientForm.value.name,d.tel=this.fc.tel.value;break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:d.member_id=this.memberForm.value.member_id,d.first_name=this.memberForm.value.first_name,d.last_name=this.memberForm.value.last_name,d.tel=this.fc.tel.value;break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:if(this.isFalseValue(this.generalForm.value.last_name))return this.generalFc.last_name.setValue(""),void(this.common.loading=!1);if(this.isFalseValue(this.generalForm.value.first_name))return this.generalFc.first_name.setValue(""),void(this.common.loading=!1);if(this.isFalseValue(this.fc.tel.value))return this.fc.tel.setValue(""),void(this.common.loading=!1);d.last_name=this.generalForm.value.last_name,d.first_name=this.generalForm.value.first_name,d.last_name_kana=this.generalForm.value.last_name_kana,d.first_name_kana=this.generalForm.value.first_name_kana,d.tel=this.fc.tel.value}this.subscription.add(this.corsService.add(d).pipe((0,Y.x)(()=>this.common.loading=!1),(0,k.K)(p=>(0,P.of)(p))).subscribe(p=>{if(p instanceof B.UA)return void this.handleError(p.status,this.errorModalTitle,`\nPostData::${JSON.stringify(d,null,2)}\n${p.error.message}\n${p.message}`);this.flashMessageService.setFlashMessage("\u767b\u9332\u3057\u307e\u3057\u305f","success",15e3);let y=this.listPagePath+"/detail/"+String(p.data);this.router.navigateByUrl(y)}))}handleClickCancel(){this.form.pristine?this.router.navigateByUrl(this.listPagePath):this.modalService.setModal(this.cancelModalTitle,_.yR.BODY.CANCEL,"warning",_.yR.BUTTON_TITLE.EXECUTION,_.yR.BUTTON_TITLE.CANCEL)}handleError(e,i,r){this.errorService.setError({status:e,title:i,message:r,redirectPath:this.listPagePath})}get customerOrderForm(){const e=this.fb.group({product_id:["",[s.kI.required]],supplier_id:["",[s.kI.required]],supplier_name:["",[s.kI.maxLength(255)]],product_name:["",[s.kI.maxLength(255)]],custom_name:["",[s.kI.maxLength(255)]],quantity:[1,[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],unit:["",[s.kI.required]],remarks:["",[s.kI.maxLength(255)]],cost_price:["",[s.kI.required]],total_cost_price:["",[s.kI.required]],delivery_division_id:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],basic_shipping_fee:[""],tax_included_unit_price:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],tax_included_amount:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],custom_unit_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]],special_order:[""],selectionTypeIsProductId:!0});return this.subscription.add(e.controls.quantity.valueChanges.subscribe(i=>{this.calculateAddFormTaxIncludedAmount(e,String(i))})),this.subscription.add(e.controls.tax_included_unit_price.valueChanges.subscribe(i=>{this.calculateAddFormTaxIncludedQuantityAmount(e,i)})),this.subscription.add(e.controls.cost_price.valueChanges.subscribe(i=>{this.calculateAddFormCostPriceQuantityAmount(e,i)})),this._setDefaultValue(e),e}get customerOrderArray(){return this.customerOrderForms.get("forms")}get customerOrderArrayControls(){return this.customerOrderArray.controls}getFormControlTypeValue(e,i){return e.get(i)}getFormControlTypeValueData(e,i){return e.get(i)?.value}getFormValue(e,i){const r=this.getFormControlTypeValue(e,i);return null===r.value?"":"supplier_name"===i||"product_name"===i?r.value:Number(r.value)}addCustomerOrderForm(){this.customerOrderArray.push(this.customerOrderForm)}removeCustomerOrderForm(e){this.customerOrderArray.removeAt(e)}setSelectionType(e){const i=!e.controls.selectionTypeIsProductId.value;e.reset({product_id:"",quantity:1}),e.controls.selectionTypeIsProductId.patchValue(i),this._setDefaultValue(e)}getProductIdSuggests(e){return{observable:this.productService.getAll({id:e.controls.product_id.value}),idField:"id",nameField:"id"}}getProductSuggests(e){return{observable:this.productService.getAll({name:e.controls.product_name.value}),idField:"id",nameField:"name"}}_setDivisionData(e){const i={value:"",text:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"};this.customerTypes=this._getDivisionDataToSelectOptions(e,N.z.CUSTOMER_TYPE,i),this.deliveryDivisionOptions=this._getDivisionDataToSelectOptions(e,N.z.DELIVERY_REQUEST,i)}_getDivisionDataToSelectOptions(e,i,r=null){const a=e[i];if(!(a.length<1))return null==r?a:[r,...a];this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR)}_setHiddenValue(e){const i=this._getHiddenValue(e,N.z.CUSTOMER_ORDER_RECEPTION_SLIP_STATUS,this.corsConst.STATUS.ACCEPTED);void 0!==i&&(this.statusDivisionId=i);const r=this._getHiddenValue(e,N.z.SETTLE_STATUS,this.corsConst.SETTLE_STATUS_DIVISION.VALUE.BEFORE_PAYMENT);void 0!==r&&(this.settleStatusDivisionId=r,this.customerOrderSettleStatusDivisionId=r),this._getHiddenValue(e,N.z.INCIDENT,this.corsConst.INCIDENT_DIVISION.VALUE.NO_INCIDENTS);const u=this._getHiddenValue(e,N.z.INCIDENT,this.corsConst.INCIDENT_DIVISION.VALUE.NO_INCIDENTS);this.incidentDivisionId=String(u);const c=this._getHiddenValue(e,N.z.CUSTOMER_ORDER_STATUS,this.coConst.STATUS.BEFORE_PLACING_AN_ORDER);void 0!==c&&(this.customerOrderStatusDivisionId=c)}_getHiddenValue(e,i,r){const a=e[i];if(a.length<1)return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR);const u=a.find(c=>c.text===r);if(void 0!==u)return String(u.value);this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR)}subscribeAddFormProductIdValueChanges(e,i){null!==i&&this.productService.find(Number(i)).subscribe(a=>{const u=a.data[0];e.controls.product_name.setValue(u.name),e.controls.supplier_name.setValue(u.supplier_name)},a=>{console.log("error"),console.log(a)})}calculateAddFormTaxIncludedAmount(e,i){if(null===i)return;const r=Number(i),a=Number(e.controls.tax_included_unit_price.value),u=Number(e.controls.cost_price.value),c=Number(e.controls.custom_unit_price.value),p=u*r;e.controls.tax_included_amount.setValue(String(c?r*c:r*a)),e.controls.total_cost_price.setValue(String(p))}calculateAddFormTaxIncludedQuantityAmount(e,i){if(null===i)return;const r=Number(e.controls.quantity.value),a=Number(i),u=Number(e.controls.cost_price.value),c=Number(e.controls.custom_unit_price.value),p=u*r;e.controls.tax_included_amount.setValue(String(c?r*c:r*a)),e.controls.total_cost_price.setValue(String(p))}calculateAddFormCostPriceQuantityAmount(e,i){if(null===i)return;const r=Number(e.controls.quantity.value),a=Number(e.controls.tax_included_unit_price.value),u=Number(i),c=Number(e.controls.custom_unit_price.value),p=u*r;e.controls.tax_included_amount.setValue(String(c?r*c:r*a)),e.controls.total_cost_price.setValue(String(p))}_setDefaultValue(e){const i=this.deliveryDivisionOptions.find(r=>r.text==this.corsConst.DELIVERY_DIVISION.VALUE.NO_DELIVERY);void 0!==i&&e.controls.delivery_division_id.patchValue(i.value)}_getCustomerOrders(){return[null,this.customerOrderForms.value.forms.map(a=>(a.status_division_id=this.customerOrderStatusDivisionId,a.settle_status_division_id=this.customerOrderSettleStatusDivisionId,delete a.selectionTypeIsProductId,delete a.supplier_name,a.cost_price=a.cost_price?Number(a.cost_price):"",a.total_cost_price=a.total_cost_price?Number(a.total_cost_price):"",a.remarks=a.remarks?a.remarks:"",this.isNotFalseValue(a.custom_name)&&(a.product_name=a.custom_name),this.isNotFalseValue(a.custom_unit_price)&&(a.tax_included_unit_price=a.custom_unit_price),void 0===this.totalAmountIncludingTax?(this.totalAmountIncludingTax=Number(a.tax_included_amount),a):(this.totalAmountIncludingTax+=Number(a.tax_included_amount),a)))]}isNotFalseValue(e){let i=!1;return void 0!==e&&""!==e&&null!==e&&(i=!0),i}isFalseValue(e){let i=!1;return void 0===e&&""===e&&null===e&&(i=!0),i}clearQuotationDate(){this.fc.quotation_expiration_date.setValue("")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(x.Z),t.Y36(O.F0),t.Y36(ct.Y),t.Y36(_t.y),t.Y36(dt.n),t.Y36(z.G),t.Y36(H.k),t.Y36(pt.d),t.Y36(C.T),t.Y36(w.E),t.Y36(et.P),t.Y36(X.M),t.Y36(U.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add"]],decls:60,vars:51,consts:[[3,"breadcrumbList"],[1,"mb-8"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[3,"formGroup","ngSubmit"],[1,"mt-8","mb-24","pt-8","pb-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-2"],[1,"text-sm","text-rose-500"],[1,"flex","gap-6","mt-8"],[1,"w-1/6"],["nameAttrValue","reception_date","idAttrValue","reception-date",3,"formCtrl","invalid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-1/5"],[1,"flex"],[1,"w-5/6"],["nameAttrValue","quotation_expiration_date","idAttrValue","quotation-expiration-date",3,"formCtrl","invalid"],["icon","close-circle-fill",1,"w-6","ml-1","mt-9","fill-slate-500","cursor-pointer",3,"click"],[1,"w-4/6"],["nameAttrValue","shipping_address","idAttrValue","shipping-address",3,"formCtrl","invalid"],[4,"ngIf"],[1,"w-1/3"],["nameAttrValue","customer_type_division_id","idAttrValue","customer-type",3,"options","formCtrl","invalid"],[4,"ngTemplateOutlet"],["general",""],["client",""],["member",""],["common",""],["labels",""],["errors",""],["message",""],[1,"w-1/2"],["nameAttrValue","remarks_1","idAttrValue","remarks-1",3,"formCtrl","invalid"],["nameAttrValue","remarks_2","idAttrValue","remarks-2",3,"formCtrl","invalid"],[4,"ngIf","ngIfThen"],[1,"mt-6","pl-2"],[1,"border-t-warning-hover","border-t-4","mt-1"],[3,"click"],["class","mx-4",3,"formGroup",4,"ngIf"],[1,"mx-4",3,"formGroup"],["formArrayName","forms"],["class","mt-6 py-4 text-base",3,"formGroupName","bg-slate-100",4,"ngFor","ngForOf"],[1,"mt-6","py-4","text-base",3,"formGroupName"],[1,"ml-4"],[1,"mt-4"],[1,"mx-4","flex","gap-6"],[4,"ngIf","ngIfElse"],["nameAttrValue","supplier_id","idAttrValue","supplier-id","inputType","number",2,"display","none",3,"formCtrl","textRight","invalid"],["selectionTypeIsProductName",""],[1,"grow","w-1/5"],["nameAttrValue","quantity","idAttrValue","quantity","inputType","number",3,"formCtrl","textRight","invalid"],[1,"grow"],["nameAttrValue","unit","idAttrValue","unit",3,"formCtrl","textRight","invalid"],["nameAttrValue","delivery_division_id","idAttrValue","delivery-division-id",3,"formCtrl","options","invalid"],[1,"mt-4","mx-4","flex","gap-6"],[1,"w-2/5"],["nameAttrValue","custom_name","idAttrValue","custom_name",3,"formCtrl","invalid"],["nameAttrValue","tax_included_unit_price","idAttrValue","tax-included-unit-price","inputType","number",3,"formCtrl","textRight","invalid"],["nameAttrValue","tax_included_amount","idAttrValue","tax-included-amount",3,"formCtrl","textRight","invalid"],[1,"grow","w-3/5"],["nameAttrValue","cost_price","idAttrValue","cost-price","inputType","number",3,"formCtrl","textRight","invalid"],["nameAttrValue","total_cost_price","idAttrValue","total-cost-price","inputType","number",3,"formCtrl","textRight","invalid"],[1,"flex-auto"],["nameAttrValue","remarks","idAttrValue","remarks",3,"rows","formCtrl","invalid"],[1,"mt-4","px-4"],[1,"mt-4","pb-2"],[1,"mx-4","px-4","py-[11px]","bg-slate-50","border","border-slate-300","rounded"],[1,"flex","gap-6","justify-end","mx-4","pb-2"],[1,"pt-7"],["nameAttrValue","product_id","idAttrValue","product-id",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],["nameAttrValue","product_name","idAttrValue","product-name",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],[1,"grow","w-2/5"],["nameAttrValue","custom_price","idAttrValue","custom_price","inputType","number",3,"formCtrl","textRight","invalid"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","left-0","right-0","p-2","fixed","gap-8"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled"],["nameAttrValue","last_name","idAttrValue","last-name",3,"formCtrl","invalid"],["nameAttrValue","first_name","idAttrValue","first-name",3,"formCtrl","invalid"],["nameAttrValue","tel","idAttrValue","tel",3,"formCtrl","invalid"],["nameAttrValue","last_name_kana","idAttrValue","last-name-kana",3,"formCtrl","invalid"],["nameAttrValue","first_name_kana","idAttrValue","first-name-kana",3,"formCtrl","invalid"],["nameAttrValue","name","idAttrValue","name",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],[1,"mt-8","border","border-slate-300","p-6"],[1,"my-2"],[1,"flex","gap-6"],[1,"w-[20%]"],[1,"w-[40%]"],["nameAttrValue","member_cd","idAttrValue","member-cd",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],["nameAttrValue","member_tel","idAttrValue","member_tel",3,"idCtrl","nameCtrl","apiInput","selectedData"],["nameAttrValue","reception_employee_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","store_id","idAttrValue","store-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(e,i){if(1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"main",1)(2,"h1",2),t._uU(3,"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u65b0\u898f\u767b\u9332"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.NdJ("click",function(){return i.handleClickCancel()}),t._UZ(6,"app-cancel-link-org"),t.qZA(),t.TgZ(7,"div")(8,"app-last-updater-org",5),t._uU(9),t.qZA()()(),t._UZ(10,"hr",6),t.TgZ(11,"form",7),t.NdJ("ngSubmit",function(){return i.handleClickSaveButton()}),t.TgZ(12,"div",8)(13,"h2",9),t._uU(14,"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u60c5\u5831\u5165\u529b"),t.qZA(),t._UZ(15,"hr",10),t.TgZ(16,"p",11),t._uU(17,"\u300c\u914d\u9001\u5148\u4f4f\u6240\u300d\u306e\u5165\u529b\u306b\u3064\u3044\u3066"),t.qZA(),t.TgZ(18,"p",12),t._uU(19," \u203b \u304a\u5ba2\u69d8\u30bf\u30a4\u30d7\u304c\u5f97\u610f\u5148\u30fb\u4f1a\u54e1\u306e\u5834\u5408\u3001\u767b\u9332\u4f4f\u6240\u3068\u306f\u5225\u306e\u914d\u9001\u5148\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306e\u307f\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 "),t.qZA(),t.TgZ(20,"p",12),t._uU(21," \u203b \u304a\u5ba2\u69d8\u30bf\u30a4\u30d7\u304c\u4e00\u822c\u306e\u5834\u5408\u3001\u914d\u9001\u3092\u5e0c\u671b\u3057\u3066\u3044\u308b\u5546\u54c1\u304c\u3042\u308b\u5834\u5408\u306f\u5fc5\u305a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 "),t.qZA(),t.TgZ(22,"div",13)(23,"div",14)(24,"app-date-term",15),t.YNc(25,Ht,1,0,"ng-container",16),t.YNc(26,Wt,1,0,"ng-container",17),t.qZA()(),t.TgZ(27,"div",18)(28,"div",19)(29,"div",20)(30,"app-date-term",21),t.YNc(31,zt,1,0,"ng-container",16),t.YNc(32,Xt,1,0,"ng-container",17),t.qZA()(),t.TgZ(33,"div",14)(34,"app-icon",22),t.NdJ("click",function(){return i.clearQuotationDate()}),t.qZA()()()(),t.TgZ(35,"div",23)(36,"app-text-container",24),t.YNc(37,$t,1,0,"ng-container",16),t.YNc(38,te,1,0,"ng-container",17),t.qZA()()(),t.YNc(39,se,10,18,"ng-container",25),t.TgZ(40,"div",13)(41,"div",26)(42,"app-select-container",27),t.YNc(43,le,1,0,"ng-container",16),t.YNc(44,ue,1,0,"ng-container",17),t.qZA()(),t.YNc(45,ce,1,0,"ng-container",28),t.qZA(),t.YNc(46,tn,10,7,"ng-container",25),t.qZA(),t.YNc(47,on,4,3,"ng-container",25),t.qZA()(),t.YNc(48,Tn,24,45,"ng-template",null,29,t.W1O),t.YNc(50,In,10,21,"ng-template",null,30,t.W1O),t.YNc(52,Mn,10,22,"ng-template",null,31,t.W1O),t.YNc(54,Yn,8,20,"ng-template",null,32,t.W1O),t.YNc(56,Ln,4,2,"ng-template",null,33,t.W1O),t.YNc(58,$n,1,1,"ng-template",null,34,t.W1O)),2&e){const r=t.MAs(55),a=t.MAs(57),u=t.MAs(59);t.Q6J("breadcrumbList",t.WLB(36,ni,t.VKq(33,ti,i.listPagePath),t.DdM(35,ei))),t.xp6(8),t.Q6J("roleTypeName",i.authorRole?i.authorRole:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),t.xp6(1),t.hij(" \u767b\u9332\u8005\uff1a",i.authorName?i.authorName:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(13),t.Q6J("formCtrl",i.fc.reception_date)("invalid",i.formControlStateManager(i.fc.reception_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.DdM(39,ii)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(40,D,i.fc.reception_date)),t.xp6(4),t.Q6J("formCtrl",i.fc.quotation_expiration_date)("invalid",i.formControlStateManager(i.fc.quotation_expiration_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.DdM(42,ri)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(43,D,i.fc.quotation_expiration_date)),t.xp6(4),t.Q6J("formCtrl",i.fc.shipping_address)("invalid",i.formControlStateManager(i.fc.shipping_address)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.DdM(45,oi)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(46,D,i.fc.shipping_address)),t.xp6(1),t.Q6J("ngIf",i.show_remark),t.xp6(3),t.Q6J("options",i.customerTypes)("formCtrl",i.fc.customer_type_division_id)("invalid",i.formControlStateManager(i.fc.customer_type_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.DdM(48,ai)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(49,D,i.fc.customer_type_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r),t.xp6(1),t.Q6J("ngIf",i.customerType),t.xp6(1),t.Q6J("ngIf",i.customerType)}},dependencies:[m.sg,m.O5,m.tP,Z.Z,mt.K,nt.R,s._Y,s.JL,s.sg,s.x0,s.CE,tt.X,j.r,it.O,rt.d,gt.a,ot.t,ht.Y,$.o]}),n})();var li=l(67),J=l(1267),Ct=l(9343),ui=l(2398),ci=l(9586),_i=l(4720),di=l(1914),pi=l(5142),mi=l(460);let gi=(()=>{class n{transform(e){return null==e?"":e.replace(/\n/g,"<br/>")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"nl2br",type:n,pure:!0}),n})();function hi(n,o){1&n&&t.GkF(0)}function fi(n,o){1&n&&t.GkF(0,40)}function Ci(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getPdf())}),t._uU(3," \u898b\u7a4d\u66f8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 "),t.qZA()(),t.BQk()}}function Ti(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.createQuotation())}),t._uU(3," \u898b\u7a4d\u66f8\u4f5c\u6210 "),t.qZA()(),t.BQk()}}function xi(n,o){1&n&&(t.ynx(0),t._uU(1,"\u5ba2\u6ce8\u53d7\u4ed8\u7968"),t.BQk())}function vi(n,o){1&n&&(t.ynx(0),t._uU(1,"\u898b\u7a4d\u66f8"),t.BQk())}function Ai(n,o){1&n&&t.GkF(0)}function Ei(n,o){1&n&&t.GkF(0)}function Fi(n,o){1&n&&t.GkF(0)}function Oi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"p",41),t._uU(2),t.qZA(),t.TgZ(3,"p",42),t._uU(4,"\u91d1\u7269\u30fb\u5efa\u8a2d\u30fb\u8fb2\u5712\u8cc7\u6750\u306e\u5c02\u9580\u5e97"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p",43),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.basicInformation.name),t.xp6(4),t.AsE("TEL : ",e.companyTel,"\u3000FAX : ",e.companyFax,""),t.xp6(2),t.AsE("\u3012",e.companyPostalCode," ",e.companyAddress,""),t.xp6(2),t.hij(" \u4ee3\u8868\u53d6\u7de0\u5f79\u3000",e.basicInformation.representative_name," "),t.xp6(2),t.hij("\u62c5\u5f53\uff1a",e.quotationEmployeeName,""),t.xp6(2),t.hij("\u53d7\u4ed8\u62c5\u5f53\u8005\uff1a",e.receptionEmployeeName,"")}}function Di(n,o){1&n&&(t.ynx(0),t.TgZ(1,"th",47)(2,"div")(3,"p"),t._uU(4,"\u64cd\u4f5c"),t.qZA()()(),t.BQk())}function Ii(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",62)(2,"app-icon-container",63),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw(4);return t.KtG(a.editOrder(r))}),t.qZA()(),t.BQk()}}function Si(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",62)(2,"app-icon-container",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw(4);return t.KtG(a.deleteOrder(r.id))}),t.qZA()(),t.BQk()}}function bi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"td",58)(2,"div",61),t.YNc(3,Ii,3,0,"ng-container",8),t.YNc(4,Si,3,0,"ng-container",8),t.qZA()(),t.BQk()),2&n){const e=t.oxw(5),i=t.MAs(22),r=t.MAs(24);t.xp6(3),t.Q6J("ngIf",!e.addFormIsOpen)("ngIfElse",i),t.xp6(1),t.Q6J("ngIf",!e.addFormIsOpen&&!e.editFormIsOpen)("ngIfElse",r)}}function Ni(n,o){1&n&&t.GkF(0)}function yi(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",65)(2,"div",66),t.YNc(3,Ni,1,0,"ng-container",38),t.qZA()()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(4),r=t.MAs(26);t.xp6(3),t.Q6J("ngIf",!i.addFormIsOpen&&i.editFormIsOpen&&i.editTarget.id===e.id)("ngIfThen",r)}}function Ui(n,o){if(1&n&&(t.ynx(0),t.YNc(1,yi,4,2,"tr",29),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!i.addFormIsOpen&&i.editFormIsOpen&&i.editTarget.id===e.id)}}const Zi=function(n){return{"bg-slate-100":n}};function Ri(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",57)(2,"td",58)(3,"div",59)(4,"p"),t._uU(5),t.qZA()()(),t.TgZ(6,"td",58)(7,"div")(8,"p"),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()()(),t.TgZ(12,"td",58)(13,"div",59)(14,"p"),t._uU(15),t.qZA()()(),t.TgZ(16,"td",58)(17,"div",59)(18,"p"),t._uU(19),t.qZA()()(),t.TgZ(20,"td",58)(21,"div",60)(22,"p"),t._uU(23),t.qZA()()(),t.TgZ(24,"td",58)(25,"div",59)(26,"p"),t._uU(27),t.qZA()()(),t.TgZ(28,"td",58)(29,"div",59)(30,"p"),t._uU(31),t.qZA()()(),t.TgZ(32,"td",58)(33,"div",59)(34,"p"),t._uU(35),t.qZA()()(),t.YNc(36,bi,5,4,"ng-container",29),t.qZA(),t.YNc(37,Ui,2,1,"ng-container",29),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(12,Zi,i.editTarget&&i.editTarget.id===e.id)),t.xp6(4),t.Oqu(e.product_id),t.xp6(4),t.Oqu(e.product_name),t.xp6(2),t.Oqu(e.remarks),t.xp6(4),t.Oqu(e.quantity),t.xp6(4),t.Oqu(e.unit),t.xp6(4),t.hij(" ",e.tax_included_amount.toLocaleString()," "),t.xp6(4),t.hij(" ",e.division_delivery_value," "),t.xp6(4),t.hij(" ",e.division_settle_status_value," "),t.xp6(4),t.hij(" ",e.division_customer_order_status_value," "),t.xp6(1),t.Q6J("ngIf",i.cors.division_status_value===i.corsConst.STATUS.ACCEPTED),t.xp6(1),t.Q6J("ngIf",i.cors.division_status_value===i.corsConst.STATUS.ACCEPTED)}}function Mi(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ri,38,14,"ng-container",54),t.TgZ(2,"tr")(3,"td",51)(4,"div",55),t._uU(5," \u5408\u8a08\u91d1\u984d\uff08\u7a0e\u8fbc\uff09 "),t.TgZ(6,"span",56),t._uU(7),t.qZA(),t._uU(8," \u5186 "),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.customerOrders),t.xp6(2),t.uIk("colspan",e.cors.division_status_value===e.corsConst.STATUS.ACCEPTED?10:9),t.xp6(4),t.Oqu(e.totalAmount?e.totalAmount.toLocaleString():"")}}function Vi(n,o){1&n&&t.GkF(0)}function qi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",68)(1,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(4);return t.KtG(r.addCustomerOrder())}),t._uU(2,"\u5546\u54c1\u8ffd\u52a0"),t.qZA()()}}function ki(n,o){if(1&n&&(t.ynx(0),t.YNc(1,qi,3,0,"div",67),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.addFormIsOpen&&!e.editFormIsOpen)}}function Pi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"p",44),t._uU(2,"\u203b \u4fa1\u683c\u306f\u7a0e\u8fbc\u4fa1\u683c\u3067\u3059\u3002"),t.qZA(),t.TgZ(3,"table",45)(4,"thead",46)(5,"th",47)(6,"div")(7,"p"),t._uU(8,"\u30b3\u30fc\u30c9"),t.qZA()()(),t.TgZ(9,"th",48)(10,"div")(11,"p"),t._uU(12,"\u54c1\u540d"),t.qZA()()(),t.TgZ(13,"th",49)(14,"div")(15,"p"),t._uU(16,"\u6570\u91cf"),t.qZA()()(),t.TgZ(17,"th",49)(18,"div")(19,"p"),t._uU(20,"\u5358\u4f4d"),t.qZA()()(),t.TgZ(21,"th",50)(22,"div")(23,"p"),t._uU(24,"\u91d1\u984d"),t._UZ(25,"br"),t._uU(26,"\uff08\u7a0e\u8fbc\uff09"),t.qZA()()(),t.TgZ(27,"th",51)(28,"div")(29,"p"),t._uU(30,"\u914d\u9001\u533a\u5206"),t.qZA()()(),t.TgZ(31,"th",51)(32,"div")(33,"p"),t._uU(34,"\u7cbe\u7b97"),t._UZ(35,"br"),t._uU(36,"\u30b9\u30c6\u30fc\u30bf\u30b9"),t.qZA()()(),t.TgZ(37,"th",51)(38,"div")(39,"p"),t._uU(40,"\u30b9\u30c6\u30fc\u30bf\u30b9"),t.qZA()()(),t.YNc(41,Di,5,0,"ng-container",29),t.qZA(),t.TgZ(42,"tbody",52),t.YNc(43,Mi,9,3,"ng-container",29),t.qZA()(),t.YNc(44,Vi,1,0,"ng-container",38),t.TgZ(45,"div",53),t._UZ(46,"app-spinner",52),t.qZA(),t.YNc(47,ki,2,1,"ng-container",29),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(28);t.xp6(41),t.Q6J("ngIf",e.cors.division_status_value===e.corsConst.STATUS.ACCEPTED),t.xp6(2),t.Q6J("ngIf",e.customerOrders.length>0),t.xp6(1),t.Q6J("ngIf",e.cors.division_status_value===e.corsConst.STATUS.ACCEPTED&&e.addFormIsOpen)("ngIfThen",i),t.xp6(1),t.ekj("hidden",!e.isUpdatingOrder),t.xp6(2),t.Q6J("ngIf",e.cors.division_status_value===e.corsConst.STATUS.ACCEPTED)}}const Bi=function(){return{label:"\u30b9\u30c6\u30fc\u30bf\u30b9",required:!1}},M=function(n){return{ctrl:n}};function Qi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",20)(3,"div")(4,"form",21),t.NdJ("submit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.statusUpdate())}),t.TgZ(5,"div",22)(6,"div")(7,"app-select-container",23),t.YNc(8,hi,1,0,"ng-container",24),t.YNc(9,fi,1,0,"ng-container",25),t.qZA()(),t.TgZ(10,"div")(11,"app-button",26),t._uU(12," \u66f4\u65b0 "),t.qZA()()()()(),t.TgZ(13,"div",27)(14,"div")(15,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickToPurchaseOrder())}),t._uU(16," \u767a\u6ce8\u30c7\u30fc\u30bf\u4f5c\u6210 "),t.qZA()(),t.YNc(17,Ci,4,0,"ng-container",29),t.YNc(18,Ti,4,0,"ng-container",29),t.TgZ(19,"div")(20,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.toRegisterDeliverySchedulePage())}),t._uU(21,"\u914d\u9001\u3092\u767b\u9332"),t.qZA()()()()(),t.TgZ(22,"div",30)(23,"div",31)(24,"div",32),t._uU(25),t.qZA(),t.TgZ(26,"div",33)(27,"p"),t._uU(28),t.qZA()()(),t.TgZ(29,"div",34)(30,"h2",35),t.YNc(31,xi,2,0,"ng-container",29),t.YNc(32,vi,2,0,"ng-container",29),t.qZA()(),t.TgZ(33,"div",36)(34,"div",37)(35,"p"),t._uU(36),t.qZA(),t.YNc(37,Ai,1,0,"ng-container",38),t.YNc(38,Ei,1,0,"ng-container",38),t.YNc(39,Fi,1,0,"ng-container",38),t.qZA(),t.TgZ(40,"div"),t._UZ(41,"app-barcode",39),t.qZA(),t.TgZ(42,"div",37)(43,"p"),t._uU(44),t.qZA(),t.YNc(45,Oi,15,8,"ng-container",29),t.qZA()(),t.YNc(46,Pi,48,7,"ng-container",29),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(),i=t.MAs(30),r=t.MAs(32),a=t.MAs(16),u=t.MAs(18),c=t.MAs(20);t.xp6(4),t.Q6J("formGroup",e.statusForm),t.xp6(3),t.Q6J("formCtrl",e.statusFormCtrls.status_division_id)("options",e.statusDivisionOptions)("invalid",e.formControlStateManager(e.statusFormCtrls.status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(26,Bi)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(27,M,e.statusFormCtrls.status_division_id)),t.xp6(2),t.Q6J("buttonDisabled",e.statusForm.invalid||e.statusForm.pristine),t.xp6(6),t.Q6J("ngIf",e.isQuotationCreated),t.xp6(1),t.Q6J("ngIf",!e.isQuotationCreated),t.xp6(7),t.hij(" ",e.cors.division_status_value," "),t.xp6(3),t.hij("No. ",e.cors.id,""),t.xp6(3),t.Q6J("ngIf",e.cors.division_status_code<=e.corsConst.STATUS_CODE.TICKET_ISSUED),t.xp6(1),t.Q6J("ngIf",e.cors.division_status_code>e.corsConst.STATUS_CODE.TICKET_ISSUED),t.xp6(4),t.hij("\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7\uff1a",e.cors.division_customer_type_value,""),t.xp6(1),t.Q6J("ngIf",e.cors.division_customer_type_value===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT)("ngIfThen",a),t.xp6(1),t.Q6J("ngIf",e.cors.division_customer_type_value===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER)("ngIfThen",u),t.xp6(1),t.Q6J("ngIf",e.cors.division_customer_type_value===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)("ngIfThen",c),t.xp6(2),t.Q6J("value",e.barcodeValue),t.xp6(3),t.Oqu(e.quotationDate),t.xp6(1),t.Q6J("ngIf",e.basicInformation&&e.cors),t.xp6(1),t.Q6J("ngIf",e.customerOrders)}}function Yi(n,o){1&n&&(t.TgZ(0,"p",69),t._uU(1,"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),t.qZA())}function Ji(n,o){if(1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p",70)(4,"span",71),t._uU(5),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.cors.client_id),t.xp6(3),t.AsE("",e.cors.client_name," ",e.cors.client_division_title_value,""),t.xp6(2),t.hij("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7\uff1a",e.cors.client_tel,""),t.xp6(2),t.hij("\u304a\u5ba2\u69d8\u643a\u5e2f\u756a\u53f7\uff1a",e.cors.tel,"")}}function Li(n,o){if(1&n&&(t.TgZ(0,"div",43)(1,"ruby")(2,"span",72),t._uU(3),t.qZA(),t.TgZ(4,"rp"),t._uU(5,"("),t.qZA(),t.TgZ(6,"rt"),t._uU(7),t.qZA(),t.TgZ(8,"rp"),t._uU(9,")"),t.qZA()(),t.TgZ(10,"span"),t._uU(11,"\xa0"),t.qZA(),t.TgZ(12,"ruby")(13,"span",72),t._uU(14),t.qZA(),t.TgZ(15,"rp"),t._uU(16,"("),t.qZA(),t.TgZ(17,"rt"),t._uU(18),t.qZA(),t.TgZ(19,"rp"),t._uU(20,")"),t.qZA()(),t.TgZ(21,"span",72),t._uU(22,"\u3000\u69d8"),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.cors.member_last_name),t.xp6(4),t.Oqu(e.cors.member_last_name_kana),t.xp6(7),t.Oqu(e.cors.member_first_name),t.xp6(4),t.Oqu(e.cors.member_first_name_kana),t.xp6(6),t.hij("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7\uff1a",e.cors.member_tel,"")}}function Gi(n,o){if(1&n&&(t.TgZ(0,"div",43)(1,"ruby")(2,"span",72),t._uU(3),t.qZA(),t.TgZ(4,"rp"),t._uU(5,"("),t.qZA(),t.TgZ(6,"rt"),t._uU(7),t.qZA(),t.TgZ(8,"rp"),t._uU(9,")"),t.qZA()(),t.TgZ(10,"span"),t._uU(11,"\xa0"),t.qZA(),t.TgZ(12,"ruby")(13,"span",72),t._uU(14),t.qZA(),t.TgZ(15,"rp"),t._uU(16,"("),t.qZA(),t.TgZ(17,"rt"),t._uU(18),t.qZA(),t.TgZ(19,"rp"),t._uU(20,")"),t.qZA()(),t.TgZ(21,"span",72),t._uU(22,"\u3000\u69d8"),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.cors.last_name),t.xp6(4),t.Oqu(e.cors.last_name_kana),t.xp6(7),t.Oqu(e.cors.first_name),t.xp6(4),t.Oqu(e.cors.first_name_kana),t.xp6(6),t.hij("\u304a\u5ba2\u69d8\u96fb\u8a71\u756a\u53f7\uff1a",e.cors.tel,"")}}function Ki(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-icon-container",73),t.qZA())}function wi(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-icon-container",74),t.qZA())}function ji(n,o){1&n&&t.GkF(0)}function Hi(n,o){1&n&&t.GkF(0,40)}function Wi(n,o){1&n&&t.GkF(0)}function zi(n,o){1&n&&t.GkF(0,40)}function Xi(n,o){1&n&&t.GkF(0)}function $i(n,o){1&n&&t.GkF(0,40)}function tr(n,o){1&n&&t.GkF(0)}function er(n,o){1&n&&t.GkF(0,40)}function nr(n,o){1&n&&t.GkF(0)}function ir(n,o){1&n&&t.GkF(0,40)}function rr(n,o){1&n&&t.GkF(0)}function or(n,o){1&n&&t.GkF(0,40)}function ar(n,o){1&n&&t.GkF(0)}function sr(n,o){1&n&&t.GkF(0,40)}function lr(n,o){1&n&&t.GkF(0)}function ur(n,o){1&n&&t.GkF(0,40)}function cr(n,o){1&n&&t.GkF(0)}function _r(n,o){1&n&&t.GkF(0,40)}function dr(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"hr",44),t.TgZ(2,"div",88)(3,"p"),t._uU(4,"\u53d7\u6ce8\u7968\u5099\u8003"),t.qZA()(),t.TgZ(5,"div",94),t._UZ(6,"div",95),t.ALo(7,"nl2br"),t._UZ(8,"div",95),t.ALo(9,"nl2br"),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("innerHTML",t.lcZ(7,2,"\u5099\u80031: "+e.cors.remarks_1),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(9,4,"\u5099\u80032: "+e.cors.remarks_2),t.oJD)}}const Tt=function(){return{label:"\u6570\u91cf",required:"true"}},xt=function(){return{label:"\u5358\u4f4d",required:"true"}},vt=function(){return{label:"\u914d\u9001\u533a\u5206",required:"true"}},pr=function(){return{label:"\u30b9\u30c6\u30fc\u30bf\u30b9",required:"true"}},At=function(){return{label:"\u5546\u54c1\u540d\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u4e0b\u8a18\u3078\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",required:!1}},Et=function(){return{label:"\u5358\u4fa1\uff08\u7a0e\u8fbc\uff09\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u4e0b\u8a18\u3078\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",required:!1}},Ft=function(){return{label:"\u539f\u4fa1",required:!1}},Ot=function(){return{label:"\u539f\u4fa1\u5408\u8a08",required:!1}},Dt=function(){return{label:"\u5099\u8003",required:!1}};function mr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"form",21),t.NdJ("submit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickOrderEditButton())}),t.TgZ(1,"div",75)(2,"div")(3,"app-text-container",76),t.YNc(4,ji,1,0,"ng-container",24),t.YNc(5,Hi,1,0,"ng-container",25),t.qZA()(),t.TgZ(6,"div")(7,"app-text-container",77),t.YNc(8,Wi,1,0,"ng-container",24),t.YNc(9,zi,1,0,"ng-container",25),t.qZA()(),t.TgZ(10,"div")(11,"div",78)(12,"app-select-container",79),t.YNc(13,Xi,1,0,"ng-container",24),t.YNc(14,$i,1,0,"ng-container",25),t.qZA()()(),t.TgZ(15,"div")(16,"div",78)(17,"app-select-container",80),t.YNc(18,tr,1,0,"ng-container",24),t.YNc(19,er,1,0,"ng-container",25),t.qZA()()()(),t.TgZ(20,"div",75)(21,"div",81)(22,"app-text-container",82),t.YNc(23,nr,1,0,"ng-container",24),t.YNc(24,ir,1,0,"ng-container",25),t.qZA()(),t.TgZ(25,"div")(26,"app-text-container",83),t.YNc(27,rr,1,0,"ng-container",24),t.YNc(28,or,1,0,"ng-container",25),t.qZA()()(),t.TgZ(29,"div",75)(30,"div")(31,"app-text-container",84),t.YNc(32,ar,1,0,"ng-container",24),t.YNc(33,sr,1,0,"ng-container",25),t.qZA()(),t.TgZ(34,"div")(35,"app-text-container",85),t.YNc(36,lr,1,0,"ng-container",24),t.YNc(37,ur,1,0,"ng-container",25),t.qZA()()(),t.TgZ(38,"div",75)(39,"div",86)(40,"app-textarea-container",87),t.YNc(41,cr,1,0,"ng-container",24),t.YNc(42,_r,1,0,"ng-container",25),t.qZA()()(),t._UZ(43,"hr",44),t.TgZ(44,"div",88)(45,"p",89),t._uU(46,"\u7de8\u96c6\u4e2d\u5546\u54c1\u60c5\u5831"),t.qZA()(),t.TgZ(47,"div",90)(48,"p",89)(49,"span",91),t._uU(50),t.qZA(),t.TgZ(51,"span",91),t._uU(52),t.qZA()()(),t.TgZ(53,"div",90)(54,"p",89)(55,"span",91),t._uU(56),t.qZA(),t.TgZ(57,"span",91),t._uU(58),t.qZA()()(),t.YNc(59,dr,10,6,"ng-container",29),t._UZ(60,"hr",44),t.TgZ(61,"div",92)(62,"div",93)(63,"app-button",26),t._uU(64," \u4fdd\u5b58 "),t.qZA()(),t.TgZ(65,"div",93)(66,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.editCustomerOrderCancel())}),t._uU(67,"\u30ad\u30e3\u30f3\u30bb\u30eb"),t.qZA()()()()}if(2&n){const e=t.oxw(),i=t.MAs(30),r=t.MAs(32);t.Q6J("formGroup",e.editForm),t.xp6(3),t.Q6J("textRight",!0)("formCtrl",e.editFormCtrls.quantity)("invalid",e.formControlStateManager(e.editFormCtrls.quantity)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(67,Tt)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(68,M,e.editFormCtrls.quantity)),t.xp6(2),t.Q6J("formCtrl",e.editFormCtrls.unit)("invalid",e.formControlStateManager(e.editFormCtrls.unit)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(70,xt)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(71,M,e.editFormCtrls.unit)),t.xp6(3),t.Q6J("formCtrl",e.editFormCtrls.delivery_division_id)("options",e.deliveryDivisionOptions)("invalid",e.formControlStateManager(e.editFormCtrls.delivery_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(73,vt)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(74,M,e.editFormCtrls.delivery_division_id)),t.xp6(3),t.Q6J("formCtrl",e.editFormCtrls.status_division_id)("options",e.customerOrderDivisionOptions)("invalid",e.formControlStateManager(e.editFormCtrls.status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(76,pr)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(77,M,e.editFormCtrls.status_division_id)),t.xp6(3),t.Q6J("formCtrl",e.editFormCtrls.custom_name)("invalid",e.formControlStateManager(e.editFormCtrls.custom_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(79,At)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(80,M,e.editFormCtrls.custom_name)),t.xp6(2),t.Q6J("formCtrl",e.editFormCtrls.custom_unit_price)("textRight",!0)("invalid",e.formControlStateManager(e.editFormCtrls.custom_unit_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(82,Et)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(83,M,e.editFormCtrls.custom_unit_price)),t.xp6(3),t.Q6J("formCtrl",e.editFormCtrls.cost_price)("textRight",!0)("invalid",e.formControlStateManager(e.editFormCtrls.cost_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(85,Ft)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(86,M,e.editFormCtrls.cost_price)),t.xp6(2),t.Q6J("formCtrl",e.editFormCtrls.total_cost_price)("textRight",!0)("invalid",e.formControlStateManager(e.editFormCtrls.total_cost_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(88,Ot)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(89,M,e.editFormCtrls.total_cost_price)),t.xp6(3),t.Q6J("formCtrl",e.editFormCtrls.remarks)("invalid",e.formControlStateManager(e.editFormCtrls.remarks)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(91,Dt)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(92,M,e.editFormCtrls.remarks)),t.xp6(8),t.hij(" \u4ed5\u5165\u5148\uff1a",e.displaySupplierName," "),t.xp6(2),t.hij(" \u5546\u54c1\u540d\uff1a",e.displayProductName," "),t.xp6(4),t.hij(" \u5358\u4fa1\uff08\u7a0e\u8fbc\uff09\uff1a",null==e.displayProductUnitPrice?null:e.displayProductUnitPrice.toLocaleString(),"\u5186 "),t.xp6(2),t.hij(" \u91d1\u984d\uff08\u7a0e\u8fbc\uff09\uff1a",null==e.displayTaxIncludedAmount?null:e.displayTaxIncludedAmount.toLocaleString(),"\u5186 "),t.xp6(1),t.Q6J("ngIf",e.show_remark),t.xp6(4),t.Q6J("buttonDisabled",e.editForm.invalid||e.editForm.pristine)}}function gr(n,o){1&n&&t.GkF(0)}const hr=function(){return{label:"\u5546\u54c1\u756a\u53f7",required:!0}};function fr(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",78)(2,"app-real-time-suggest-container",110),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleSelectedProductData(r))}),t.YNc(3,gr,1,0,"ng-container",24),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2),i=t.MAs(30);t.xp6(2),t.Q6J("idCtrl",e.addFormCtrls.product_id)("nameCtrl",e.addFormCtrls.product_id)("apiInput",e.getProductIdSuggests(e.addFormCtrls))("invalid",e.formControlStateManager(e.addFormCtrls.product_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(6,hr))}}function Cr(n,o){1&n&&t.GkF(0)}const Tr=function(){return{label:"\u54c1\u540d\u3092\u5546\u54c1\u30de\u30b9\u30bf\u304b\u3089\u9078\u629e",required:!0}};function xr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",104)(1,"app-real-time-suggest-container",111),t.NdJ("selectedData",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.handleSelectedProductData(r))}),t.YNc(2,Cr,1,0,"ng-container",24),t.qZA()()}if(2&n){const e=t.oxw(2),i=t.MAs(30);t.xp6(1),t.Q6J("idCtrl",e.addFormCtrls.product_id)("nameCtrl",e.addFormCtrls.product_name)("apiInput",e.getProductSuggests(e.addFormCtrls))("invalid",e.formControlStateManager(e.addFormCtrls.product_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(6,Tr))}}function vr(n,o){1&n&&t.GkF(0)}function Ar(n,o){1&n&&t.GkF(0,40)}function Er(n,o){1&n&&t.GkF(0)}function Fr(n,o){1&n&&t.GkF(0,40)}function Or(n,o){1&n&&t.GkF(0)}function Dr(n,o){1&n&&t.GkF(0,40)}function Ir(n,o){1&n&&t.GkF(0)}function Sr(n,o){1&n&&t.GkF(0,40)}function br(n,o){1&n&&t.GkF(0)}function Nr(n,o){1&n&&t.GkF(0,40)}const yr=function(){return{label:"\u5358\u4fa1\uff08\u7a0e\u8fbc\uff09",required:!1}};function Ur(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",108)(2,"app-text-container",112),t.YNc(3,br,1,0,"ng-container",24),t.YNc(4,Nr,1,0,"ng-container",25),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(30),r=t.MAs(32);t.xp6(2),t.Q6J("formCtrl",e.addFormCtrls.tax_included_unit_price)("textRight",!0)("invalid",e.formControlStateManager(e.addFormCtrls.tax_included_unit_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(7,yr)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(8,M,e.addFormCtrls.tax_included_unit_price))}}function Zr(n,o){1&n&&t.GkF(0)}function Rr(n,o){1&n&&t.GkF(0,40)}function Mr(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",108)(2,"app-text-container",83),t.YNc(3,Zr,1,0,"ng-container",24),t.YNc(4,Rr,1,0,"ng-container",25),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(30),r=t.MAs(32);t.xp6(2),t.Q6J("formCtrl",e.addFormCtrls.custom_unit_price)("textRight",!0)("invalid",e.formControlStateManager(e.addFormCtrls.custom_unit_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(7,Et)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(8,M,e.addFormCtrls.custom_unit_price))}}function Vr(n,o){1&n&&t.GkF(0)}function qr(n,o){1&n&&t.GkF(0,40)}function kr(n,o){1&n&&t.GkF(0)}function Pr(n,o){1&n&&t.GkF(0,40)}function Br(n,o){1&n&&t.GkF(0)}function Qr(n,o){1&n&&t.GkF(0,40)}function Yr(n,o){1&n&&t.GkF(0)}function Jr(n,o){1&n&&t.GkF(0,40)}const Lr=function(){return{label:"\u4fa1\u683c",required:!1}};function Gr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",96)(1,"div",97)(2,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.setSelectionType())}),t._uU(3),t.qZA()(),t._UZ(4,"hr",44),t.TgZ(5,"form",98),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickOrderSaveButton())}),t.TgZ(6,"div",94),t.YNc(7,fr,4,7,"ng-container",8),t.YNc(8,xr,3,7,"ng-template",null,99,t.W1O),t.TgZ(10,"div",78)(11,"app-text-container",100),t.YNc(12,vr,1,0,"ng-container",24),t.YNc(13,Ar,1,0,"ng-container",25),t.qZA(),t._UZ(14,"app-text-container",101),t.qZA(),t.TgZ(15,"div",78)(16,"app-text-container",102),t.YNc(17,Er,1,0,"ng-container",24),t.YNc(18,Fr,1,0,"ng-container",25),t.qZA()(),t.TgZ(19,"div",78)(20,"app-select-container",79),t.YNc(21,Or,1,0,"ng-container",24),t.YNc(22,Dr,1,0,"ng-container",25),t.qZA()()(),t.TgZ(23,"div",103)(24,"div",104)(25,"app-text-container",82),t.YNc(26,Ir,1,0,"ng-container",24),t.YNc(27,Sr,1,0,"ng-container",25),t.qZA()(),t.YNc(28,Ur,5,10,"ng-container",29),t.YNc(29,Mr,5,10,"ng-container",29),t.TgZ(30,"div")(31,"app-text-container",105),t.YNc(32,Vr,1,0,"ng-container",24),t.YNc(33,qr,1,0,"ng-container",25),t.qZA()()(),t.TgZ(34,"div",106),t._UZ(35,"div",107),t.TgZ(36,"div",108)(37,"app-text-container",84),t.YNc(38,kr,1,0,"ng-container",24),t.YNc(39,Pr,1,0,"ng-container",25),t.qZA()(),t.TgZ(40,"div",108)(41,"app-text-container",85),t.YNc(42,Br,1,0,"ng-container",24),t.YNc(43,Qr,1,0,"ng-container",25),t.qZA()()(),t.TgZ(44,"div",106)(45,"div",86)(46,"app-textarea-container",87),t.YNc(47,Yr,1,0,"ng-container",24),t.YNc(48,Jr,1,0,"ng-container",25),t.qZA()()(),t._UZ(49,"hr",44),t.TgZ(50,"div",88)(51,"p"),t._uU(52,"\u5165\u529b\u4e2d\u5546\u54c1\u60c5\u5831"),t.qZA()(),t.TgZ(53,"div",90)(54,"p")(55,"span",91),t._uU(56),t.qZA(),t.TgZ(57,"span",91),t._uU(58),t.qZA()(),t._UZ(59,"div",90),t.TgZ(60,"p")(61,"span",91),t._uU(62),t.qZA(),t.TgZ(63,"span",91),t._uU(64),t.qZA(),t.TgZ(65,"span",91),t._uU(66),t.qZA()()(),t._UZ(67,"hr",44),t.TgZ(68,"div",88)(69,"p"),t._uU(70,"\u53d7\u6ce8\u7968\u5099\u8003"),t.qZA()(),t.TgZ(71,"div",94),t._UZ(72,"div",95),t.ALo(73,"nl2br"),t._UZ(74,"div",95),t.ALo(75,"nl2br"),t.qZA(),t._UZ(76,"hr",44),t.TgZ(77,"div",109)(78,"div",93)(79,"app-button",26),t._uU(80," \u8ffd\u52a0 "),t.qZA()(),t.TgZ(81,"div",93)(82,"app-button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addCustomerOrderCancel())}),t._uU(83,"\u30ad\u30e3\u30f3\u30bb\u30eb"),t.qZA()()()()()}if(2&n){const e=t.MAs(9),i=t.oxw(),r=t.MAs(30),a=t.MAs(32);t.xp6(3),t.hij(" ",i.selectionTypeIsProductId?"\u5546\u54c1\u540d\u3067\u6307\u5b9a\u3059\u308b":"\u5546\u54c1\u756a\u53f7\u3067\u6307\u5b9a\u3059\u308b"," "),t.xp6(2),t.Q6J("formGroup",i.addForm),t.xp6(2),t.Q6J("ngIf",i.selectionTypeIsProductId)("ngIfElse",e),t.xp6(4),t.Q6J("formCtrl",i.addFormCtrls.quantity)("textRight",!0)("invalid",i.formControlStateManager(i.addFormCtrls.quantity)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(75,Tt)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(76,M,i.addFormCtrls.quantity)),t.xp6(1),t.Q6J("formCtrl",i.addFormCtrls.supplier_id)("textRight",!0)("invalid",i.formControlStateManager(i.addFormCtrls.supplier_id)),t.xp6(2),t.Q6J("formCtrl",i.addFormCtrls.unit)("textRight",!0)("invalid",i.formControlStateManager(i.addFormCtrls.unit)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(78,xt)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(79,M,i.addFormCtrls.unit)),t.xp6(2),t.Q6J("formCtrl",i.addFormCtrls.delivery_division_id)("options",i.deliveryDivisionOptions)("invalid",i.formControlStateManager(i.addFormCtrls.delivery_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(81,vt)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(82,M,i.addFormCtrls.delivery_division_id)),t.xp6(3),t.Q6J("formCtrl",i.addFormCtrls.custom_name)("invalid",i.formControlStateManager(i.addFormCtrls.custom_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(84,At)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(85,M,i.addFormCtrls.custom_name)),t.xp6(1),t.Q6J("ngIf",!i.addFormCtrls.special_order.value),t.xp6(1),t.Q6J("ngIf",i.addFormCtrls.special_order.value),t.xp6(2),t.Q6J("formCtrl",i.addFormCtrls.tax_included_amount)("textRight",!0)("invalid",i.formControlStateManager(i.addFormCtrls.tax_included_amount)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(87,Lr)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(88,M,i.addFormCtrls.tax_included_amount)),t.xp6(4),t.Q6J("formCtrl",i.addFormCtrls.cost_price)("textRight",!0)("invalid",i.formControlStateManager(i.addFormCtrls.cost_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(90,Ft)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(91,M,i.addFormCtrls.cost_price)),t.xp6(2),t.Q6J("formCtrl",i.addFormCtrls.total_cost_price)("textRight",!0)("invalid",i.formControlStateManager(i.addFormCtrls.total_cost_price)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(93,Ot)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(94,M,i.addFormCtrls.total_cost_price)),t.xp6(3),t.Q6J("formCtrl",i.addFormCtrls.remarks)("invalid",i.formControlStateManager(i.addFormCtrls.remarks)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.DdM(96,Dt)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(97,M,i.addFormCtrls.remarks)),t.xp6(8),t.hij(" \u4ed5\u5165\u5148\uff1a",i.displaySupplierName," "),t.xp6(2),t.hij(" \u5546\u54c1\u540d\uff1a",i.displayProductName," "),t.xp6(4),t.hij(" \u5358\u4fa1\uff08\u7a0e\u8fbc\uff09\uff1a",null==i.displayProductUnitPrice?null:i.displayProductUnitPrice.toLocaleString(),"\u5186 "),t.xp6(2),t.hij(" \u6570\u91cf\uff1a",null==i.displayProductUnitPrice?null:i.displayProductUnitPrice.toLocaleString(),"\u5186 "),t.xp6(2),t.hij(" \u91d1\u984d\uff08\u7a0e\u8fbc\uff09\uff1a",null==i.displayTaxIncludedAmount?null:i.displayTaxIncludedAmount.toLocaleString(),"\u5186 "),t.xp6(6),t.Q6J("innerHTML",t.lcZ(73,71,"\u5099\u80031: "+i.cors.remarks_1),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(75,73,"\u5099\u80032: "+i.cors.remarks_2),t.oJD),t.xp6(5),t.Q6J("buttonDisabled",i.addForm.invalid||i.addForm.pristine)}}function Kr(n,o){1&n&&(t.TgZ(0,"span",115),t._uU(1,"\u5fc5\u9808"),t.qZA())}function wr(n,o){if(1&n&&(t.TgZ(0,"div",113)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,Kr,2,0,"span",114),t.qZA()),2&n){const e=o.label,i=o.required;t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i)}}function jr(n,o){if(1&n&&(t.TgZ(0,"p",117),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.REQUIRED_ITEM," ")}}function Hr(n,o){if(1&n&&(t.ynx(0),t.YNc(1,jr,2,1,"p",116),t.BQk()),2&n){const e=t.oxw().ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function Wr(n,o){if(1&n&&t.YNc(0,Hr,2,1,"ng-container",29),2&n){const e=o.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}const zr=function(n){return{path:n,text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7"}},Xr=function(){return{text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u8a73\u7d30"}},$r=function(n,o){return[n,o]},to=function(n){return{clientId:n}};let eo=(()=>{class n{constructor(e,i,r,a,u,c,d,p,F,I,y,h,L){this.corsService=e,this.coService=i,this.biService=r,this.productService=a,this.divisionService=u,this.flashMessageService=c,this.modalService=d,this.errorService=p,this.router=F,this.activatedRoute=I,this.fb=y,this.authorService=h,this.common=L,this.unit_division_list=[],this.subscription=new R.w0,this.listPagePath="/customer-order-reception-slip",this.errorConst=f.c,this.errorModalTitle="\u5ba2\u6ce8\u53d7\u4ed8\u7968\u8a73\u7d30\u30a8\u30e9\u30fc\uff1a"+_.yR.TITLE.HAS_ERROR,this.pdfFileName="",this.modalMessage="\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068PDF\u30d5\u30a1\u30a4\u30eb\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002",this.corsConst=S,this.coConst=ut,this.selectionTypeIsProductId=!0,this.addFormIsOpen=!1,this.editFormIsOpen=!1,this.isUpdatingOrder=!1,this.isQuotationCreated=!1,this.deliveryDivisionOptions=[{value:"",text:li.s.PLEASE_SELECT}],this.isDeliveryRequested=!1,this.statusForm=this.fb.group({status_division_id:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX),s.kI.maxLength(11)]]}),this.addForm=this.fb.group({product_id:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],supplier_id:["",[s.kI.pattern(A.m.NUMERIC_REG_EX),s.kI.required]],supplier_name:[""],product_name:["",[s.kI.maxLength(255)]],product_name_alias:[" ",s.kI.maxLength(255)],custom_name:["",[s.kI.maxLength(255)]],quantity:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],unit:["",[s.kI.required]],remarks:["",[s.kI.maxLength(255)]],cost_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]],total_cost_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]],delivery_division_id:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],tax_included_unit_price:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],tax_included_amount:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],custom_unit_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]],special_order:[""],order_status_division_id:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]]}),this.editForm=this.fb.group({product_name:["",[s.kI.maxLength(255)]],custom_name:["",[s.kI.maxLength(255)]],quantity:["",[s.kI.required]],unit:["",[s.kI.required]],remarks:["",[s.kI.maxLength(255)]],cost_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]],total_cost_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]],status_division_id:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],delivery_division_id:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],tax_included_unit_price:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],tax_included_amount:["",[s.kI.required,s.kI.pattern(A.m.NUMERIC_REG_EX)]],custom_unit_price:["",[s.kI.pattern(A.m.NUMERIC_REG_EX)]]}),this.show_remark=!1,this.DIVISION_PRODUCT_CODE_SPECIAL_ORDER=2,this.DIVISION_ORDER_STATUS=N.z.ORDER_STATUS,this.DIVISION_ORDER_STATUS_CODE=0}get statusFormCtrls(){return this.statusForm.controls}get addFormCtrls(){return this.addForm.controls}get editFormCtrls(){return this.editForm.controls}getFormControlTypeValue(e,i){return e.get(i)}initWithAuthorInfo(e){this.authorName=e.last_name+" "+e.first_name,this.authorRole=e.role_name?e.role_name:""}ngOnInit(){this.authorService.author?this.initWithAuthorInfo(this.authorService.author):this.subscription.add(this.authorService.author$.subscribe(r=>{this.initWithAuthorInfo(r)}));const e=this.activatedRoute.snapshot.params.id;this.isParameterInvalid(e)?this.handleError(400,this.errorModalTitle,"\u30d1\u30e9\u30e1\u30fc\u30bf\u53d6\u5f97\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u4e00\u89a7\u753b\u9762\u3078\u623b\u308a\u307e\u3059\u3002",this.listPagePath):(this.selectedId=Number(e),this.pdfFileName=`\u898b\u7a4d\u66f8_${(0,m.p6)(new Date,"yyyyMMdd","ja-JP")}.pdf`,this.subscription.add(this.addFormCtrls.product_id.valueChanges.subscribe(r=>{this.subscribeAddFormProductIdValueChanges(r)})),this.subscription.add(this.addFormCtrls.quantity.valueChanges.subscribe(r=>{this.calculateAddFormTaxIncludedAmount()})),this.subscription.add(this.addFormCtrls.tax_included_unit_price.valueChanges.subscribe(r=>{this.calculateAddFormChangeTaxIncluded()})),this.subscription.add(this.addFormCtrls.cost_price.valueChanges.subscribe(r=>{this.calculateAddFormChangeCostPrice()})),this.subscription.add(this.addFormCtrls.custom_name.valueChanges.subscribe(r=>{r?this.displayProductName=r:this.additionalProduct&&(this.displayProductName=this.additionalProduct.name)})),this.subscription.add(this.addFormCtrls.custom_unit_price.valueChanges.subscribe(r=>{this.subscribeAddFormCustomUnitPriceValueChanges(r)})),this.subscription.add(this.editFormCtrls.quantity.valueChanges.subscribe(r=>{this.calculateEditFormTaxIncludedAmount()})),this.subscription.add(this.editFormCtrls.custom_name.valueChanges.subscribe(r=>{r?this.displayProductName=r:this.editTarget&&(this.displayProductName=this.editTarget.product_name)})),this.subscription.add(this.editFormCtrls.custom_unit_price.valueChanges.subscribe(r=>{this.subscribeEditFormCustomUnitPriceValueChanges(r)})),this.subscription.add(this.editFormCtrls.cost_price.valueChanges.subscribe(r=>{this.calculateEditFormChangeCostPrice(r)})),this.barcodeValue=this.corsConst.CALLED_NUMBER_PREFIX+e.toString().padStart(11,"0"),this.editPagePath=this.listPagePath+"/edit/"+e,this.initialization(Number(e)))}subscribeToPurchaseOrderModal(){this.subscription.add(this.modalService.closeEventObservable$.pipe((0,T.h)(e=>"\u767a\u6ce8\u30c7\u30fc\u30bf\u4f5c\u6210"===this.modalService.getModalProperties().title)).subscribe(e=>{e===_.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&(console.log(e),console.log("this.selectedId:: ",this.selectedId),this.toPurchaseOrder())}))}toPurchaseOrder(){this.subscription.add(this.corsService.toPurchaseOrder(this.selectedId).pipe((0,Y.x)(()=>this.editTarget={}),(0,k.K)(e=>(0,P.of)(e))).subscribe(e=>{e instanceof B.UA?this.handleError(e.status,e.error?e.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",`${e.message}\n${e.error.message}`):null!=e?this.flashMessageService.setFlashMessage(e.message,"success",15e3):this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath)}))}subscribeAddFormProductIdValueChanges(e){if(e){if(this.additionalProduct=this.products.find(i=>i.id===Number(e)),this.additionalProduct){const i=this.addFormCtrls.custom_name.value,r=Number(this.addFormCtrls.custom_unit_price.value);this.displayProductName=i||this.additionalProduct.name,this.displaySupplierName=this.additionalProduct.supplier_name,this.displayProductUnitPrice=r||this.additionalProduct.selling_price,this.addFormCtrls.product_name.setValue(this.displayProductName),this.addFormCtrls.tax_included_unit_price.setValue(String(this.displayProductUnitPrice)),this.calculateAddFormTaxIncludedAmount()}}else{this.additionalProduct=void 0;const i=this.addFormCtrls.custom_name.value,r=Number(this.addFormCtrls.custom_unit_price.value);this.displayProductName=i||"",this.displayProductUnitPrice=r||0,this.addFormCtrls.product_name.setValue(""),this.addFormCtrls.supplier_id.setValue(""),this.addFormCtrls.tax_included_unit_price.setValue(""),this.calculateAddFormTaxIncludedAmount()}}subscribeAddFormCustomUnitPriceValueChanges(e){e?(this.displayProductUnitPrice=Number(e),this.addFormCtrls.tax_included_unit_price.setValue(e),this.calculateAddFormTaxIncludedAmount()):this.additionalProduct&&(this.displayProductUnitPrice=this.additionalProduct.selling_price,this.addFormCtrls.tax_included_unit_price.setValue(String(this.additionalProduct.selling_price)),this.calculateAddFormTaxIncludedAmount())}calculateAddFormTaxIncludedAmount(){if(null===this.addFormCtrls.quantity.value)return;const e=Number(this.addFormCtrls.quantity.value),r=Number(this.addFormCtrls.cost_price.value)*e,a=Number(this.addFormCtrls.tax_included_unit_price.value),u=Number(this.addFormCtrls.custom_unit_price.value),c=u?e*u:e*a;this.addFormCtrls.tax_included_amount.setValue(String(c)),this.displayTaxIncludedAmount=c,this.addFormCtrls.total_cost_price.setValue(String(r))}calculateAddFormChangeCostPrice(){if(null===this.addFormCtrls.quantity.value||null==this.addFormCtrls.cost_price.value)return;const e=Number(this.addFormCtrls.quantity.value),r=Number(this.addFormCtrls.cost_price.value)*e;this.addFormCtrls.total_cost_price.setValue(String(r))}calculateAddFormChangeTaxIncluded(){if(null===this.addFormCtrls.quantity.value||null==this.addFormCtrls.tax_included_unit_price.value||null==this.addFormCtrls.tax_included_unit_price.value)return;const e=Number(this.addFormCtrls.quantity.value),i=Number(this.addFormCtrls.tax_included_unit_price.value),r=Number(this.addFormCtrls.custom_unit_price.value),a=r?e*r:e*i;this.addFormCtrls.tax_included_amount.setValue(String(a)),this.displayTaxIncludedAmount=a,this.displayProductUnitPrice=i}subscribeEditFormCustomUnitPriceValueChanges(e){e?(this.displayProductUnitPrice=Number(e),this.editFormCtrls.tax_included_unit_price.setValue(e),this.calculateEditFormTaxIncludedAmount()):this.editTarget&&(this.displayProductUnitPrice=this.editTarget.tax_included_unit_price,this.editFormCtrls.tax_included_unit_price.setValue(String(this.editTarget.tax_included_unit_price)),this.calculateEditFormTaxIncludedAmount())}calculateEditFormChangeCostPrice(e){if(null==e)return;const i=Number(this.editFormCtrls.quantity.value),a=Number(this.editFormCtrls.cost_price.value)*i;this.editFormCtrls.total_cost_price.setValue(String(a))}calculateEditFormTaxIncludedAmount(){const e=Number(this.editFormCtrls.quantity.value),i=Number(this.editFormCtrls.tax_included_unit_price.value),r=Number(this.editFormCtrls.custom_unit_price.value),u=r?e*r:e*i,c=Number(this.editFormCtrls.cost_price.value)*e;this.editFormCtrls.tax_included_amount.setValue(String(u)),this.displayTaxIncludedAmount=u,this.editFormCtrls.total_cost_price.setValue(String(c))}formControlStateManager(e){return(e.touched||e.dirty)&&e.invalid}dateFormatter(e){return e?new Date(e).toLocaleDateString():""}isParameterInvalid(e){return null===e||!!isNaN(Number(e))}getStatusValue(e){const i=this.corsConst,r=Object.keys(i.STATUS)[e];return i.STATUS[r]}isDeliveryRequestedCustomerOrders(e){return e.some(i=>i.division_delivery_value===this.corsConst.DELIVERY_DIVISION.VALUE.DELIVERY_INCLUDED)}initialization(e){this.common.loading=!0,this.subscribeToPurchaseOrderModal(),this.subscription.add((0,Q.D)([this.corsService.find(e),this.coService.getAll({customer_order_reception_slip_id:e}),this.biService.find(),this.productService.getAll({limit:1}),this.divisionService.getAll(),this.divisionService.getAsSelectOptions(),this.divisionService.getAsSelectOptions({name:this.DIVISION_ORDER_STATUS,division_code:this.DIVISION_ORDER_STATUS_CODE})]).pipe((0,Y.x)(()=>this.common.loading=!1),(0,k.K)(i=>(0,P.of)(i))).subscribe(i=>{if(i instanceof B.UA)return void this.handleError(i.status,i.error?i.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",i.message,this.listPagePath);if(null==i)return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);if(Array.isArray(i)&&7!==i.length)return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);if((0,J.bz)(i[0]))return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);if(0!==i[1].data.length&&(0,J.bz)(i[1]))return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);if((0,J.bz)(i[2]))return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);const c=i[0].data[0];this.statusForm.reset({status_division_id:String(c.status_division_id)}),this.quotationDate=c.quotation_date?(0,J.vz)(c.quotation_date):" \u5e74 \u6708 \u65e5\uff08\u898b\u7a4d\u66f8\u4f5c\u6210\u524d\uff09",this.quotationEmployeeName=c.quotation_date?c.employee_quotation_last_name+" "+c.employee_quotation_first_name:"----\uff08\u898b\u7a4d\u66f8\u4f5c\u6210\u524d\uff09",this.receptionEmployeeName=c.employee_reception_last_name+" "+c.employee_reception_first_name,this.cors=c,null!=c.quotation_pdf_path&&""!==c.quotation_pdf_path&&"undefined"!==c.quotation_pdf_path&&(this.isQuotationCreated=!0),this.updaterFullName=this.cors.employee_updated_last_name+" "+this.cors.employee_updated_first_name,this.basicInformation=i[2].data[0],this.companyAddress=this.basicInformation.province+this.basicInformation.locality+this.basicInformation.street_address+this.basicInformation.other_address,this.companyTel=(0,J.ni)(String(this.basicInformation.tel)),this.companyFax=(0,J.ni)(String(this.basicInformation.fax)),this.companyPostalCode=(0,J.vf)(String(this.basicInformation.postal_code)),this.productSuggests=i[3].data.map(h=>({value:h.id,text:h.name})),this.products=i[3].data,this.customerOrders=i[1].data,this.customerOrders.length>0&&(this.isDeliveryRequested=this.isDeliveryRequestedCustomerOrders(this.customerOrders)),this.totalAmount=this.cors.total_amount_including_tax,this.statusDivisions=i[4].data.filter(h=>h.name===N.z.CUSTOMER_ORDER_RECEPTION_SLIP_STATUS);const d=this.statusDivisions.sort((h,L)=>h.division_code-L.division_code);this.statusDivisionOptions=d.map(h=>({value:h.id,text:h.value})),this.customerOrderDivisions=i[4].data.filter(h=>h.name===N.z.CUSTOMER_ORDER_STATUS);const p=this.customerOrderDivisions.filter(h=>h.value!==this.coConst.STATUS.PRODUCT_INSPECTION_FINISHED);this.customerOrderDivisionOptions=p.map(h=>({value:h.id,text:h.value}));const I=i[4].data.filter(h=>h.name===N.z.DELIVERY_REQUEST).map(h=>({value:h.id,text:h.value}));this.deliveryDivisionOptions=[...this.deliveryDivisionOptions,...I];const y=I.find(h=>h.text===S.DELIVERY_DIVISION.VALUE.DELIVERY_INCLUDED);y&&(this.deliveryIncludedId=y.value),this.deliveryIncludedCustomOrders=this.customerOrders.filter(h=>h.delivery_division_id===this.deliveryIncludedId),this.settleStatusDivisions=i[4].data.filter(h=>h.name===N.z.SETTLE_STATUS),this.unit_division_list=i[5][N.z.UNIT],this.status_division_id=Number(i[6][this.DIVISION_ORDER_STATUS][0].value),console.log(this.cors)}))}statusUpdate(){const e=this.statusForm.value,i=this.statusDivisions.find(u=>u.id===Number(e.status_division_id));let r;i&&i.division_code===this.corsConst.STATUS_CODE.QUOTATION_CREATED&&(r=(new Date).toLocaleDateString()),this.common.loading=!0,this.subscription.add(this.corsService.update(this.cors.id,{customer_type_division_id:this.cors.customer_type_division_id,client_id:this.cors.client_id,member_id:this.cors.member_id,store_id:this.cors.store_id,last_name:this.cors.last_name,first_name:this.cors.first_name,last_name_kana:this.cors.last_name_kana,first_name_kana:this.cors.first_name_kana,tel:this.cors.tel,status_division_id:e.status_division_id,total_amount_including_tax:this.totalAmount,shipping_address:this.cors.shipping_address,settle_status_division_id:this.cors.settle_status_division_id,incident_division_id:this.cors.incident_division_id,remarks_1:this.cors.remarks_1,remarks_2:this.cors.remarks_2,reception_date:this.cors.reception_date,reception_employee_id:this.cors.reception_employee_id,quotation_date:r||this.cors.quotation_date,quotation_pdf_path:this.cors.quotation_pdf_path,quotation_employee_id:this.cors.quotation_employee_id,quotation_expiration_date:this.cors.quotation_expiration_date}).pipe((0,k.K)(u=>(0,P.of)(u)),(0,Y.x)(()=>this.common.loading=!1)).subscribe(u=>{if(u instanceof B.UA)this.handleError(u.status,u.error?u.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",u.message,this.listPagePath);else{if(null==u)return this.common.loading=!1,void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);this.subscription.add(this.updateSlipInfo().subscribe()),this.flashMessageService.setFlashMessage(u.message,"success",15e3)}}))}updateSlipInfo(){return this.common.loading=!0,(0,Q.D)([this.corsService.find(this.selectedId),this.coService.getAll({customer_order_reception_slip_id:this.selectedId})]).pipe((0,k.K)(e=>(0,P.of)(e)),(0,Y.x)(()=>this.common.loading=!1),(0,lt.b)(e=>{e instanceof B.UA?this.handleError(e.status,e.error?e.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",e.message,this.listPagePath):null!=e?(this.cors=e[0].data[0],this.statusForm.reset({status_division_id:String(this.cors.status_division_id)}),this.customerOrders=e[1].data,this.customerOrders.length>0&&(this.isDeliveryRequested=this.isDeliveryRequestedCustomerOrders(this.customerOrders)),this.common.loading=!1):this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath)}))}updateCors(e){this.isUpdatingOrder=!0,this.subscription.add(this.corsService.update(this.cors.id,e).pipe((0,k.K)(i=>(this.isUpdatingOrder=!1,(0,P.of)(i)))).subscribe(i=>{if(i instanceof B.UA)this.handleError(i.status,i.error?i.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",i.message,this.listPagePath);else{if(null==i)return this.isUpdatingOrder=!1,void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);this.isUpdatingOrder=!1,this.flashMessageService.setFlashMessage(i.message,"success",15e3)}}))}getCustomerOrders(e){this.isUpdatingOrder=!0,this.subscription.add(this.coService.getAll({customer_order_reception_slip_id:e}).pipe((0,k.K)(i=>(this.isUpdatingOrder=!0,(0,P.of)(i)))).subscribe(i=>{i instanceof B.UA?this.handleError(i.status,i.error?i.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",i.message,this.listPagePath):null!=i?0!==i.data.length&&(0,J.bz)(i)?this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath):(this.customerOrders=i.data,console.log(this.cors),console.log(this.customerOrders),this.customerOrders.length>0&&(this.isDeliveryRequested=this.isDeliveryRequestedCustomerOrders(this.customerOrders)),this.deliveryIncludedCustomOrders=this.customerOrders.filter(u=>u.delivery_division_id===this.deliveryIncludedId),this.totalAmount=i.data.reduce((u,c)=>u+c.tax_included_amount,0),this.updateCors({customer_type_division_id:this.cors.customer_type_division_id,client_id:this.cors.client_id,member_id:this.cors.member_id,store_id:this.cors.store_id,last_name:this.cors.last_name,first_name:this.cors.first_name?this.cors.first_name:"",last_name_kana:this.cors.last_name_kana?this.cors.last_name_kana:"",first_name_kana:this.cors.first_name_kana?this.cors.first_name_kana:"",tel:this.cors.tel,status_division_id:this.cors.status_division_id,total_amount_including_tax:this.totalAmount,shipping_address:this.cors.shipping_address,settle_status_division_id:this.cors.settle_status_division_id,incident_division_id:this.cors.incident_division_id,remarks_1:this.cors.remarks_1,remarks_2:this.cors.remarks_2,reception_date:this.cors.reception_date,reception_employee_id:this.cors.reception_employee_id,quotation_date:this.cors.quotation_date,quotation_pdf_path:this.cors.quotation_pdf_path,quotation_employee_id:this.cors.quotation_employee_id,quotation_expiration_date:this.cors.quotation_expiration_date})):this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath)}))}setSelectionType(){this.selectionTypeIsProductId=!this.selectionTypeIsProductId,this.addForm.reset({product_id:"",quantity:""})}handleClickOrderEditButton(){this.editFormIsOpen=!1;const i=this.editForm.value,r={customer_order_reception_slip_id:this.editTarget.customer_order_reception_slip_id,product_id:this.editTarget.product_id,supplier_id:this.editTarget.supplier_id,product_name:i.custom_name?i.custom_name:i.product_name,quantity:i.quantity,tax_included_unit_price:i.custom_unit_price?i.custom_unit_price:i.tax_included_unit_price,tax_included_amount:i.tax_included_amount,status_division_id:i.status_division_id,delivery_division_id:i.delivery_division_id,settle_status_division_id:this.editTarget.settle_status_division_id,unit:i.unit,remarks:i.remarks};this.customerOrders.map(a=>{a.id===this.editTarget.id&&(a.product_name=i.custom_name?i.custom_name:this.editTarget.product_name,a.quantity=Number(i.quantity),a.tax_included_unit_price=Number(i.custom_unit_price?i.custom_unit_price:i.tax_included_unit_price),a.tax_included_amount=Number(i.tax_included_amount))}),this.isUpdatingOrder=!0,this.subscription.add(this.coService.update(this.editTarget.id,r).pipe((0,Y.x)(()=>this.editTarget={}),(0,k.K)(a=>(0,P.of)(a))).subscribe(a=>{a instanceof B.UA?this.handleError(a.status,a.error?a.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",a.message,this.listPagePath):null!=a?(this.flashMessageService.setFlashMessage(a.message,"success",15e3),this.getCustomerOrders(this.cors.id)):this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath)}))}handleClickOrderSaveButton(){this.addFormIsOpen=!1;const e=this.customerOrderDivisions.find(u=>u.value===this.coConst.STATUS.BEFORE_PLACING_AN_ORDER),i=this.settleStatusDivisions.find(u=>u.value===this.coConst.SETTLE_STATUS_DIVISION.VALUE.BEFORE_PAYMENT),r=this.addForm.value,a={customer_order_reception_slip_id:this.cors.id,product_id:r.product_id,supplier_id:Number(r.supplier_id),product_name:r.custom_name?r.custom_name:r.product_name,quantity:r.quantity,tax_included_unit_price:r.custom_unit_price?r.custom_unit_price:r.tax_included_unit_price,tax_included_amount:r.tax_included_amount,status_division_id:e?.id,delivery_division_id:r.delivery_division_id,settle_status_division_id:i?.id,unit:r.unit,remarks:r.remarks,cost_price:Number(r.cost_price),total_cost_price:Number(r.total_cost_price)};this.isUpdatingOrder=!0,this.subscription.add(this.coService.add(a).pipe((0,k.K)(u=>(this.isUpdatingOrder=!1,(0,P.of)(u)))).subscribe(u=>{if(u instanceof B.UA)this.handleError(u.status,u.error?u.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",u.message,this.listPagePath);else{if(null==u)return console.log("null or undefined"),this.isUpdatingOrder=!1,void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);this.isUpdatingOrder=!1,this.addForm.reset(),this.flashMessageService.setFlashMessage(u.message,"success",15e3),this.getCustomerOrders(this.cors.id)}}))}editCustomerOrderCancel(){this.editTarget={},this.editFormIsOpen=!1,this.editForm.reset({product_name:"",custom_name:"",quantity:"",unit:"",remarks:"",tax_included_unit_price:"",tax_included_amount:"",custom_unit_price:""}),this.displaySupplierName="",this.displayProductName="",this.displayProductUnitPrice=0,this.displayTaxIncludedAmount=0}addCustomerOrder(){this.addFormIsOpen=!0,this._addFormInit()}_addFormInit(){const e=this.deliveryDivisionOptions.find(r=>r.text===this.corsConst.DELIVERY_DIVISION.VALUE.NO_DELIVERY);let i="";void 0!==e&&(i=String(e.value)),this.addForm.patchValue({delivery_division_id:i})}addCustomerOrderCancel(){this.addFormIsOpen=!1,this.addForm.reset({product_id:"",supplier_id:"",product_name:"",custom_name:"",quantity:"",unit:"",remarks:"",tax_included_unit_price:"",tax_included_amount:"",custom_unit_price:""}),this.displaySupplierName="",this.displayProductName="",this.displayProductUnitPrice=0,this.displayTaxIncludedAmount=0}deleteOrder(e){this.cors.division_status_code>this.corsConst.STATUS_CODE.CONTACTED_CUSTOMER?this.handleError(422,S.ERROR.CANNOT_BE_DELETED,S.ERROR.ATTEMPTED_TO_MODIFY_ACCEPTED_DATA_CHANGE):(this.modalService.setModal("\u5ba2\u6ce8"+_.yR.TITLE.DELETE,_.yR.BODY.DELETE,"danger",_.yR.BUTTON_TITLE.DELETE,_.yR.BUTTON_TITLE.CANCEL),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,E.q)(1),(0,T.h)(a=>(console.log(this.modalService.getModalProperties().title),!0))).subscribe(a=>{a===_.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&(this.customerOrders=this.customerOrders.filter(u=>u.id!==e),this.isUpdatingOrder=!0,this.coService.remove(e).pipe((0,k.K)(u=>(this.isUpdatingOrder=!1,(0,P.of)(u)))).subscribe(u=>{u instanceof B.UA?this.handleError(u.status,u.error?u.error.title:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002",u.message,this.listPagePath):(this.flashMessageService.setFlashMessage(u.message,"success",15e3),this.getCustomerOrders(this.cors.id))}))})))}editOrder(e){this.editTarget=e,this.editForm.patchValue({cost_price:String(e.cost_price?e.cost_price:0),total_cost_price:String(e.total_cost_price),custom_name:"",custom_unit_price:"",product_name:e.product_name,quantity:String(e.quantity),tax_included_unit_price:String(e.tax_included_unit_price),tax_included_amount:String(e.tax_included_amount),delivery_division_id:String(e.delivery_division_id),status_division_id:String(e.status_division_id),unit:e.unit,remarks:e.remarks}),this.displaySupplierName=e.supplier_name,this.displayProductName=e.product_name,this.displayProductUnitPrice=e.tax_included_unit_price,this.displayTaxIncludedAmount=e.tax_included_amount,this.editFormIsOpen=!0}toRegisterDeliverySchedulePage(){const e=Ct.L.SALES_TYPE.find(i=>i.name===Ct.L.CUSTOMER_ORDER);this.router.navigate(["delivery/add"],{queryParams:{salesType:e?.id,slipId:this.selectedId}})}createQuotation(){this.common.loading=!0,this.subscription.add(this.corsService.createPdf(this.selectedId).pipe((0,k.K)(e=>(0,P.of)(e)),(0,Y.x)(()=>this.common.loading=!1)).subscribe(e=>{if(!(e instanceof B.UA))return null==e?(this.common.loading=!1,void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath)):void this.flashMessageService.setFlashMessage(e.message,"success",15e3);this.handleError(e.status,e.error?e.error.title:"\u30a8\u30e9\u30fc",e.error?e.error.message:e.message,this.listPagePath)}))}getPdf(){(0,J.LR)(this.cors.quotation_pdf_path,this.pdfFileName)}handleClickToPurchaseOrder(){console.log("toPurchaseOrder"),this.modalService.setModal("\u767a\u6ce8\u30c7\u30fc\u30bf\u4f5c\u6210","\u767a\u6ce8\u30c7\u30fc\u30bf\u4f5c\u6210\u3057\u307e\u3059\u304b\uff1f","warning",_.yR.BUTTON_TITLE.EXECUTION,_.yR.BUTTON_TITLE.CANCEL)}handleError(e,i,r,a){console.log("\u30a8\u30e9\u30fc"),this.errorService.setError({status:e,title:i,message:r,redirectPath:a})}getProductIdSuggests(e){return{observable:this.productService.getAll({id:e.product_id.value}),idField:"id",nameField:"id"}}getProductSuggests(e){return{observable:this.productService.getAll({name:e.product_name.value}),idField:"id",nameField:"name"}}handleSelectedProductData(e){if(void 0===e)return;this.addForm.controls.tax_included_unit_price.patchValue(String(e.selling_price)),this.addForm.controls.cost_price.patchValue(String(e.supplier_cost_price)),this.addForm.controls.supplier_id.patchValue(String(e.supplier_id)),this.addForm.controls.product_name.patchValue(e.name);let i=this.unit_division_list.find(r=>r.code===e.division_unit_code);this.addForm.controls.unit.patchValue(i.text),this.displaySupplierName=e.supplier_name,this.displayProductName=e.name,this.displayProductUnitPrice=e.selling_price}ngOnDestroy(){this.subscription.unsubscribe()}getSupplierCostPrice(e){let i;if(null==e||null==e)return"";switch(e.ordering_target_barcode){case e.b_barcode:i=e.b_supplier_cost_price;break;case e.c_barcode:i=e.c_supplier_cost_price;break;default:i=e?.supplier_cost_price}return i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.k),t.Y36(st.E),t.Y36(ui.h),t.Y36(X.M),t.Y36(w.E),t.Y36(et.P),t.Y36(x.Z),t.Y36(C.T),t.Y36(O.F0),t.Y36(O.gz),t.Y36(s.qu),t.Y36(ct.Y),t.Y36(U.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detail"]],decls:33,vars:15,consts:[[3,"breadcrumbList"],[1,"mb-8"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"flex","flex-row","items-center","gap-6"],[3,"path"],[3,"path","params"],[1,"width-limit-break","border-t","border-gray-400"],[4,"ngIf","ngIfElse"],["duringAcquisition",""],["client",""],["member",""],["general",""],["inoperableEditIcon",""],["inoperableDeleteIcon",""],["edit",""],["add",""],["labels",""],["errors",""],[1,"mt-8"],[1,"flex","justify-between"],[1,"text-base",3,"formGroup","submit"],[1,"flex","gap-4","items-end"],["nameAttrValue","status_division_id","idAttrValue","status_division_id",3,"formCtrl","options","invalid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled"],[1,"flex","gap-6","mt-6","items-center"],[3,"click"],[4,"ngIf"],[1,"mt-4","mb-24","py-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"relative"],[1,"absolute","left-[-20px]","top-[-28px]","bg-primary-hover","px-4","py-1","rounded-full","text-white"],[1,"absolute","right-0"],[1,"flex","justify-center"],[1,"text-center","text-2xl","border-b","border-slate-500"],[1,"flex","justify-between","mt-2"],[1,"w-1/3"],[4,"ngIf","ngIfThen"],["elementId","barcode",3,"value"],["message",""],[1,"text-2xl","text-center","mt-2"],[1,"text-center","mb-2"],[1,"mt-2"],[1,"mt-4"],[1,"mt-2","w-[100%]","table-fixed","border-collapse","border","border-slate-400"],[1,"text-sm"],[1,"border","border-slate-300","w-[100px]"],[1,"border","border-slate-300","w-[400px]"],[1,"border","border-slate-300","w-[64px]"],[1,"border","border-slate-300","w-[84px]"],[1,"border","border-slate-300"],[1,"text-xs"],[1,"py-4"],[4,"ngFor","ngForOf"],[1,"text-right","pr-2","py-2","text-sm"],[1,"text-base","font-bold"],[3,"ngClass"],[1,"border","border-slate-300","px-1"],[1,"text-center"],[1,"text-right"],[1,"flex","justify-around"],[1,"cursor-pointer"],["appendClassForIcon","fill-warning group-hover:fill-warning-hover","icon","edit-2-line",3,"click"],["icon","delete-bin-line","appendClassForIcon","cursor-pointer fill-danger group-hover:fill-danger-hover",3,"click"],["colspan","10",1,"border","border-slate-300"],[1,"px-3","py-4","bg-slate-100"],["class","mt-4 text-right",4,"ngIf"],[1,"mt-4","text-right"],[1,"text-3xl","text-center","text-slate-500","mt-6"],[1,"mt-1"],[1,"text-lg","border-b","border-slate-500"],[1,"text-2xl"],["appendClassForIcon","fill-slate-200","icon","edit-2-line"],["icon","delete-bin-line","appendClassForIcon","fill-slate-200"],[1,"mt-2","flex","gap-6"],["nameAttrValue","order_quantity","idAttrValue","order-quantity","inputType","number",3,"textRight","formCtrl","invalid"],["nameAttrValue","unit","idAttrValue","unit",3,"formCtrl","invalid"],[1,"grow"],["nameAttrValue","delivery_division_id","idAttrValue","delivery-division-id",3,"formCtrl","options","invalid"],["nameAttrValue","status_division_id","idAttrValue","status-division-id",3,"formCtrl","options","invalid"],[1,"w-2/4"],["nameAttrValue","custom_name","idAttrValue","custom_name",3,"formCtrl","invalid"],["nameAttrValue","custom_price","idAttrValue","custom_price","inputType","number",3,"formCtrl","textRight","invalid"],["nameAttrValue","cost_price","idAttrValue","cost-price","inputType","number",3,"formCtrl","textRight","invalid"],["nameAttrValue","total_cost_price","idAttrValue","total-cost-price","inputType","number",3,"formCtrl","textRight","invalid"],[1,"flex-auto"],["nameAttrValue","remarks","idAttrValue","remarks",3,"formCtrl","invalid"],[1,"mt-4","px-4"],[1,"text-base"],[1,"mt-4","pb-2"],[1,"mx-4","px-4","py-[11px]","bg-slate-50","border","border-slate-300","rounded"],[1,"flex","gap-6","justify-end"],[1,"pt-7"],[1,"mx-4","flex","gap-6"],[3,"innerHTML"],[1,"mt-6","py-4","bg-slate-100"],[1,"ml-4"],[1,"mt-4",3,"formGroup","ngSubmit"],["selectionTypeIsProductName",""],["nameAttrValue","quantity","idAttrValue","quantity","inputType","number",3,"formCtrl","textRight","invalid"],["nameAttrValue","supplier_id","idAttrValue","supplier_id",2,"display","none",3,"formCtrl","textRight","invalid"],["nameAttrValue","unit","idAttrValue","unit",3,"formCtrl","textRight","invalid"],[1,"flex","gap-6","mt-4","ml-4"],[1,"w-2/5"],["nameAttrValue","tax_included_amount","idAttrValue","tax-included-amount","inputType","number",3,"formCtrl","textRight","invalid"],[1,"mt-4","mx-4","flex","gap-6"],[1,"grow","w-3/5"],[1,"grow","w-1/5"],[1,"flex","gap-6","justify-end","mx-4","pb-2"],["nameAttrValue","product_id","idAttrValue","product-id",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],["nameAttrValue","product_name","idAttrValue","product-name",3,"idCtrl","nameCtrl","apiInput","invalid","selectedData"],["nameAttrValue","tax_included_unit_price","idAttrValue","tax-included-unit-price","inputType","number",3,"formCtrl","textRight","invalid"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(e,i){if(1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"main",1)(2,"h1",2),t._uU(3,"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u8a73\u7d30"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"app-back-to-link-org",5),t._uU(7,"\u4e00\u89a7\u3078\u623b\u308b"),t.qZA(),t._UZ(8,"app-edit-link-org",6),t.qZA(),t.TgZ(9,"app-last-updater-org"),t._uU(10),t.qZA()(),t._UZ(11,"hr",7),t.YNc(12,Qi,47,29,"ng-container",8),t.qZA(),t.YNc(13,Yi,2,0,"ng-template",null,9,t.W1O),t.YNc(15,Ji,10,5,"ng-template",null,10,t.W1O),t.YNc(17,Li,25,5,"ng-template",null,11,t.W1O),t.YNc(19,Gi,25,5,"ng-template",null,12,t.W1O),t.YNc(21,Ki,2,0,"ng-template",null,13,t.W1O),t.YNc(23,wi,2,0,"ng-template",null,14,t.W1O),t.YNc(25,mr,68,94,"ng-template",null,15,t.W1O),t.YNc(27,Gr,84,99,"ng-template",null,16,t.W1O),t.YNc(29,wr,4,2,"ng-template",null,17,t.W1O),t.YNc(31,Wr,1,1,"ng-template",null,18,t.W1O)),2&e){const r=t.MAs(14);t.Q6J("breadcrumbList",t.WLB(10,$r,t.VKq(7,zr,i.listPagePath),t.DdM(9,Xr))),t.xp6(6),t.Q6J("path",i.listPagePath),t.xp6(2),t.Q6J("path",i.editPagePath)("params",t.VKq(13,to,i.clientId)),t.xp6(2),t.hij(" \u6700\u7d42\u66f4\u65b0\u8005\uff1a",i.updaterFullName?i.updaterFullName:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),t.xp6(2),t.Q6J("ngIf",i.cors)("ngIfElse",r)}},dependencies:[m.mk,m.sg,m.O5,m.tP,Z.Z,nt.R,s._Y,s.JL,s.sg,j.r,ci.i,_i._,di.J,it.O,pi.O,rt.d,ot.t,mi.d,ht.Y,gi]}),n})();var no=l(2456);function io(n,o){1&n&&t.GkF(0)}function ro(n,o){1&n&&t.GkF(0,48)}function oo(n,o){1&n&&t.GkF(0)}function ao(n,o){1&n&&t.GkF(0,48)}function so(n,o){1&n&&t.GkF(0)}function lo(n,o){1&n&&t.GkF(0,48)}function uo(n,o){1&n&&t.GkF(0)}function co(n,o){1&n&&t.GkF(0,48)}function _o(n,o){1&n&&t.GkF(0)}function po(n,o){1&n&&t.GkF(0,48)}function mo(n,o){1&n&&t.GkF(0)}function go(n,o){1&n&&t.GkF(0,48)}function ho(n,o){1&n&&t.GkF(0)}function fo(n,o){1&n&&t.GkF(0,48)}const Co=function(){return{label:"\u5099\u80031",required:!1}},V=function(n){return{ctrl:n}},To=function(){return{label:"\u5099\u80032",required:!1}};function xo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",21)(2,"div",45)(3,"app-textarea-container",49),t.YNc(4,mo,1,0,"ng-container",26),t.YNc(5,go,1,0,"ng-container",27),t.qZA()(),t.TgZ(6,"div",45)(7,"app-textarea-container",50),t.YNc(8,ho,1,0,"ng-container",26),t.YNc(9,fo,1,0,"ng-container",27),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(21),r=t.MAs(23);t.xp6(3),t.Q6J("formCtrl",e.ctrls.remarks_1)("invalid",e.formControlStateManager(e.ctrls.remarks_1)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(12,Co)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(13,V,e.ctrls.remarks_1)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.remarks_2)("invalid",e.formControlStateManager(e.ctrls.remarks_2)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(15,To)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(16,V,e.ctrls.remarks_2))}}function vo(n,o){1&n&&t.GkF(0)}function Ao(n,o){1&n&&t.GkF(0,48)}function Eo(n,o){1&n&&t.GkF(0)}function Fo(n,o){1&n&&t.GkF(0,48)}function Oo(n,o){1&n&&t.GkF(0)}function Do(n,o){1&n&&t.GkF(0,48)}function Io(n,o){1&n&&t.GkF(0)}function So(n,o){1&n&&t.GkF(0)}function bo(n,o){1&n&&t.GkF(0)}function No(n,o){1&n&&t.GkF(0)}function yo(n,o){1&n&&t.GkF(0,48)}function Uo(n,o){1&n&&t.GkF(0)}function Zo(n,o){1&n&&t.GkF(0,48)}function Ro(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",51)(2,"app-button",52),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.clientForm.invalid)}}function Mo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",51)(2,"app-button",52),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.memberForm.invalid)}}function Vo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",51)(2,"app-button",52),t._uU(3,"\u4fdd\u5b58"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("buttonDisabled",e.form.invalid||e.form.pristine||e.generalForm.invalid)}}const qo=function(){return{label:"\u914d\u9001\u5148\u4f4f\u6240",required:!1}},ko=function(){return{label:"\u53d7\u4ed8\u65e5",required:"true"}},Po=function(){return{label:"\u898b\u7a4d\u65e5",required:!1}},Bo=function(){return{label:"\u6709\u52b9\u671f\u9650",required:"false"}},Qo=function(){return{label:"\u898b\u7a4d\u62c5\u5f53\u8005",required:!1}},Yo=function(){return{label:"\u304a\u5ba2\u69d8\u30bf\u30a4\u30d7",required:"true"}},Jo=function(){return{label:"\u53d7\u4ed8\u62c5\u5f53\u8005",required:"true"}},Lo=function(){return{label:"\u5e97\u8217",required:"true"}},Go=function(n){return{label:n}},Ko=function(n){return{label:n,required:!0}};function wo(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",14),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.handleClickSaveButton())}),t.TgZ(2,"div",15)(3,"div",16)(4,"h2",17),t._uU(5,"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u60c5\u5831\u5165\u529b"),t.qZA(),t._UZ(6,"hr",18),t.TgZ(7,"p",19),t._uU(8,"\u300c\u914d\u9001\u5148\u4f4f\u6240\u300d\u306e\u5165\u529b\u306b\u3064\u3044\u3066"),t.qZA(),t.TgZ(9,"p",20),t._uU(10," \u203b \u304a\u5ba2\u69d8\u30bf\u30a4\u30d7\u304c\u5f97\u610f\u5148\u30fb\u4f1a\u54e1\u306e\u5834\u5408\u3001\u767b\u9332\u4f4f\u6240\u3068\u306f\u5225\u306e\u914d\u9001\u5148\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306e\u307f\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 "),t.qZA(),t.TgZ(11,"p",20),t._uU(12," \u203b \u304a\u5ba2\u69d8\u30bf\u30a4\u30d7\u304c\u4e00\u822c\u306e\u5834\u5408\u3001\u914d\u9001\u3092\u5e0c\u671b\u3057\u3066\u3044\u308b\u5546\u54c1\u304c\u3042\u308b\u5834\u5408\u306f\u5fc5\u305a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 "),t.qZA(),t.TgZ(13,"div",21)(14,"div",22)(15,"p"),t._uU(16),t.qZA(),t._UZ(17,"app-input-container",23),t.qZA(),t.TgZ(18,"div",24)(19,"app-text-container",25),t.YNc(20,io,1,0,"ng-container",26),t.YNc(21,ro,1,0,"ng-container",27),t.qZA()()(),t.TgZ(22,"div",21)(23,"div",28)(24,"app-date-term",29),t.YNc(25,oo,1,0,"ng-container",26),t.YNc(26,ao,1,0,"ng-container",27),t.qZA()(),t.TgZ(27,"div",28)(28,"div",30)(29,"div",31)(30,"app-date-term",32),t.YNc(31,so,1,0,"ng-container",26),t.YNc(32,lo,1,0,"ng-container",27),t.qZA()(),t.TgZ(33,"div",33)(34,"app-icon",34),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clearQuotationDate())}),t.qZA()()()(),t.TgZ(35,"div",28)(36,"app-date-term",35),t.YNc(37,uo,1,0,"ng-container",26),t.YNc(38,co,1,0,"ng-container",27),t.qZA()(),t.TgZ(39,"div",28)(40,"app-select-suggest-container",36),t.YNc(41,_o,1,0,"ng-container",26),t.YNc(42,po,1,0,"ng-container",27),t.qZA()()(),t.YNc(43,xo,10,18,"ng-container",37),t.TgZ(44,"div",21)(45,"div",22)(46,"app-select-container",38),t.YNc(47,vo,1,0,"ng-container",26),t.YNc(48,Ao,1,0,"ng-container",27),t.qZA()(),t.TgZ(49,"div",22)(50,"app-select-suggest-container",39),t.YNc(51,Eo,1,0,"ng-container",26),t.YNc(52,Fo,1,0,"ng-container",27),t.qZA()(),t.TgZ(53,"div",22)(54,"app-select-suggest-container",40),t.YNc(55,Oo,1,0,"ng-container",26),t.YNc(56,Do,1,0,"ng-container",27),t.qZA()()(),t.YNc(57,Io,1,0,"ng-container",41),t.YNc(58,So,1,0,"ng-container",41),t.YNc(59,bo,1,0,"ng-container",41),t.qZA(),t._UZ(60,"hr"),t.TgZ(61,"div",42)(62,"div",43)(63,"p"),t._uU(64," \u30fb\u7cbe\u7b97\u30b9\u30c6\u30fc\u30bf\u30b9\u306fPOS\u304b\u3089\u9023\u643a\u3055\u308c\u308b\u30c7\u30fc\u30bf\u306e\u305f\u3081\u3001\u901a\u5e38\u306f\u64cd\u4f5c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002 "),t.qZA(),t.TgZ(65,"p"),t._uU(66," \u30fb\u30a4\u30f3\u30b7\u30c7\u30f3\u30c8\u30b9\u30c6\u30fc\u30bf\u30b9\u306f\u91cd\u5927\u306a\u30c8\u30e9\u30d6\u30eb\u304c\u767a\u751f\u3057\u305f\u6642\u306e\u307f\u5229\u7528\u3059\u308b\u9805\u76ee\u306e\u305f\u3081\u3001\u901a\u5e38\u306f\u64cd\u4f5c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002 "),t.qZA()(),t.TgZ(67,"div",44)(68,"div",45)(69,"app-select-container",46),t.YNc(70,No,1,0,"ng-container",26),t.YNc(71,yo,1,0,"ng-container",27),t.qZA()(),t.TgZ(72,"div",45)(73,"app-select-container",47),t.YNc(74,Uo,1,0,"ng-container",26),t.YNc(75,Zo,1,0,"ng-container",27),t.qZA()()()()(),t.YNc(76,Ro,4,1,"ng-container",37),t.YNc(77,Mo,4,1,"ng-container",37),t.YNc(78,Vo,4,1,"ng-container",37),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(),i=t.MAs(21),r=t.MAs(23),a=t.MAs(17),u=t.MAs(19),c=t.MAs(15);t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(15),t.hij(" \u30b9\u30c6\u30fc\u30bf\u30b9\uff1a",e.status_dividion_text?e.status_dividion_text:e.corsConst.STATUS.ACCEPTED," "),t.xp6(1),t.Q6J("formCtrl",e.ctrls.status_division_id)("invalid",e.formControlStateManager(e.ctrls.status_division_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.shipping_address)("invalid",e.formControlStateManager(e.ctrls.shipping_address)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(80,qo)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(81,V,e.ctrls.shipping_address)),t.xp6(3),t.Q6J("formCtrl",e.ctrls.reception_date)("invalid",e.formControlStateManager(e.ctrls.reception_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(83,ko)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(84,V,e.ctrls.reception_date)),t.xp6(4),t.Q6J("formCtrl",e.ctrls.quotation_date)("invalid",e.formControlStateManager(e.ctrls.quotation_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(86,Po)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(87,V,e.ctrls.quotation_date)),t.xp6(4),t.Q6J("formCtrl",e.ctrls.quotation_expiration_date)("invalid",e.formControlStateManager(e.ctrls.quotation_expiration_date)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(89,Bo)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(90,V,e.ctrls.quotation_expiration_date)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.quotation_employee_id)("suggests",e.employeeSuggests)("invalid",e.formControlStateManager(e.ctrls.quotation_employee_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(92,Qo)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(93,V,e.ctrls.quotation_employee_id)),t.xp6(1),t.Q6J("ngIf",e.show_remark),t.xp6(3),t.Q6J("options",e.customerTypes)("formCtrl",e.ctrls.customer_type_division_id)("invalid",e.formControlStateManager(e.ctrls.customer_type_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(95,Yo)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(96,V,e.ctrls.customer_type_division_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.reception_employee_id)("suggests",e.employeeSuggests)("invalid",e.formControlStateManager(e.ctrls.reception_employee_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(98,Jo)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(99,V,e.ctrls.reception_employee_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.store_id)("suggests",e.storeSuggests)("invalid",e.formControlStateManager(e.ctrls.store_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(101,Lo)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(102,V,e.ctrls.store_id)),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT)("ngIfThen",a),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER)("ngIfThen",u),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)("ngIfThen",c),t.xp6(10),t.Q6J("formCtrl",e.ctrls.settle_status_division_id)("options",e.settleDivisions)("invalid",e.formControlStateManager(e.ctrls.settle_status_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(104,Go,e.divisionConst.SETTLE_STATUS)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(106,V,e.ctrls.settle_status_division_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.incident_division_id)("options",e.incidentDivisions)("invalid",e.formControlStateManager(e.ctrls.incident_division_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(108,Ko,e.divisionConst.INCIDENT)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(110,V,e.ctrls.incident_division_id)),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER),t.xp6(1),t.Q6J("ngIf",e.customerType.text===e.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL)}}function jo(n,o){1&n&&(t.TgZ(0,"p",53),t._uU(1,"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),t.qZA())}function Ho(n,o){1&n&&t.GkF(0)}function Wo(n,o){1&n&&t.GkF(0,48)}function zo(n,o){1&n&&t.GkF(0)}function Xo(n,o){1&n&&t.GkF(0,48)}function $o(n,o){1&n&&t.GkF(0)}function ta(n,o){1&n&&t.GkF(0,48)}function ea(n,o){1&n&&t.GkF(0)}function na(n,o){1&n&&t.GkF(0,48)}function ia(n,o){1&n&&t.GkF(0)}function ra(n,o){1&n&&t.GkF(0,48)}const oa=function(){return{label:"\u59d3 \u540d",required:!0}},It=function(){return{label:"\u3000",required:!1}},aa=function(){return{label:"\u96fb\u8a71\u756a\u53f7",required:"true"}},sa=function(){return{label:"\u30bb\u30a4 \u30e1\u30a4",required:!1}};function la(n,o){if(1&n&&(t.TgZ(0,"div",21)(1,"div",22)(2,"app-text-container",54),t.YNc(3,Ho,1,0,"ng-container",26),t.YNc(4,Wo,1,0,"ng-container",27),t.qZA()(),t.TgZ(5,"div",22)(6,"app-text-container",55),t.YNc(7,zo,1,0,"ng-container",26),t.YNc(8,Xo,1,0,"ng-container",27),t.qZA()(),t.TgZ(9,"div",22)(10,"app-text-container",56),t.YNc(11,$o,1,0,"ng-container",26),t.YNc(12,ta,1,0,"ng-container",27),t.qZA()()(),t.TgZ(13,"div",21)(14,"div",22)(15,"app-text-container",57),t.YNc(16,ea,1,0,"ng-container",26),t.YNc(17,na,1,0,"ng-container",27),t.qZA()(),t.TgZ(18,"div",22)(19,"app-text-container",58),t.YNc(20,ia,1,0,"ng-container",26),t.YNc(21,ra,1,0,"ng-container",27),t.qZA()(),t._UZ(22,"div",22),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(21),r=t.MAs(23);t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.last_name)("invalid",e.formControlStateManager(e.generalCtrls.last_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(30,oa)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(31,V,e.generalCtrls.last_name)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.first_name)("invalid",e.formControlStateManager(e.generalCtrls.first_name)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(33,It)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(34,V,e.generalCtrls.first_name)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.tel)("invalid",e.formControlStateManager(e.ctrls.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(36,aa)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(37,V,e.ctrls.tel)),t.xp6(3),t.Q6J("formCtrl",e.generalCtrls.last_name_kana)("invalid",e.formControlStateManager(e.generalCtrls.last_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(39,sa)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(40,V,e.generalCtrls.last_name_kana)),t.xp6(2),t.Q6J("formCtrl",e.generalCtrls.first_name_kana)("invalid",e.formControlStateManager(e.generalCtrls.first_name_kana)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(42,It)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(43,V,e.generalCtrls.first_name_kana))}}function ua(n,o){1&n&&t.GkF(0)}function ca(n,o){1&n&&t.GkF(0,48)}function _a(n,o){1&n&&t.GkF(0)}function da(n,o){1&n&&t.GkF(0,48)}const pa=function(){return{label:"\u5f97\u610f\u5148",required:"true"}},ma=function(){return{label:"\u643a\u5e2f\u96fb\u8a71\u756a\u53f7",required:"true"}};function ga(n,o){if(1&n&&(t.TgZ(0,"div",21)(1,"div",22)(2,"app-select-suggest-container",59),t.YNc(3,ua,1,0,"ng-container",26),t.YNc(4,ca,1,0,"ng-container",27),t.qZA()(),t.TgZ(5,"div",22)(6,"app-text-container",56),t.YNc(7,_a,1,0,"ng-container",26),t.YNc(8,da,1,0,"ng-container",27),t.qZA()()()),2&n){const e=t.oxw(),i=t.MAs(21),r=t.MAs(23);t.xp6(2),t.Q6J("formCtrl",e.clientCtrls.client_id)("suggests",e.clientSuggests)("invalid",e.formControlStateManager(e.clientCtrls.client_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(13,pa)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(14,V,e.clientCtrls.client_id)),t.xp6(2),t.Q6J("formCtrl",e.ctrls.tel)("invalid",e.formControlStateManager(e.ctrls.tel)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(16,ma)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(17,V,e.ctrls.tel))}}function ha(n,o){1&n&&t.GkF(0)}function fa(n,o){1&n&&t.GkF(0,48)}const Ca=function(){return{label:"\u4f1a\u54e1",required:"true"}};function Ta(n,o){if(1&n&&(t.TgZ(0,"div",21)(1,"div",22)(2,"app-select-suggest-container",60),t.YNc(3,ha,1,0,"ng-container",26),t.YNc(4,fa,1,0,"ng-container",27),t.qZA()()()),2&n){const e=t.oxw(),i=t.MAs(21),r=t.MAs(23);t.xp6(2),t.Q6J("formCtrl",e.memberCtrls.member_id)("suggests",e.memberSuggests)("invalid",e.formControlStateManager(e.memberCtrls.member_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(7,Ca)),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(8,V,e.memberCtrls.member_id))}}function xa(n,o){1&n&&(t.TgZ(0,"span",63),t._uU(1,"\u5fc5\u9808"),t.qZA())}function va(n,o){if(1&n&&(t.TgZ(0,"div",61)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,xa,2,0,"span",62),t.qZA()),2&n){const e=o.label,i=o.required;t.xp6(2),t.Oqu(e),t.xp6(1),t.Q6J("ngIf",i)}}function Aa(n,o){if(1&n&&(t.TgZ(0,"p",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.REQUIRED_ITEM," ")}}function Ea(n,o){if(1&n&&(t.TgZ(0,"p",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.FULL_WIDTH_KATAKANA_RESTRICTION_VIOLATION," ")}}function Fa(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ea,2,1,"p",64),t.BQk()),2&n){const e=t.oxw(2).ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Oa(n,o){if(1&n&&(t.TgZ(0,"p",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.errorConst.FORM_ERROR.NUMERIC_LIMIT_VIOLATION," ")}}function Da(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Oa,2,1,"p",64),t.BQk()),2&n){const e=t.oxw(2).ctrl;t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}function Ia(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Aa,2,1,"p",64),t.YNc(2,Fa,2,1,"ng-container",37),t.YNc(3,Da,2,1,"ng-container",37),t.BQk()),2&n){const e=t.oxw().ctrl,i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("ngIf",e===i.generalCtrls.last_name_kana||e===i.generalCtrls.first_name_kana),t.xp6(1),t.Q6J("ngIf",e===i.ctrls.tel)}}function Sa(n,o){if(1&n&&t.YNc(0,Ia,4,3,"ng-container",37),2&n){const e=o.ctrl,i=t.oxw();t.Q6J("ngIf",i.formControlStateManager(e))}}const ba=function(n){return{path:n,text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u4e00\u89a7"}},Na=function(n){return{clientId:n}},ya=function(n,o){return{path:n,text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u8a73\u7d30",queryParams:o}},Ua=function(){return{text:"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u7de8\u96c6"}},Za=function(n,o,e){return[n,o,e]},Ra=[{path:"",component:v,children:[{path:"",component:wt},{path:"add",component:si},{path:"detail/:id",component:eo},{path:"edit/:id",component:(()=>{class n{constructor(e,i,r,a,u,c,d,p,F,I,y,h,L){this.corsService=e,this.employeeService=i,this.storeService=r,this.clientService=a,this.memberService=u,this.divisionService=c,this.modalService=d,this.errorService=p,this.router=F,this.activatedRoute=I,this.fb=y,this.flashMessageService=h,this.common=L,this.subscription=new R.w0,this.listPagePath="/customer-order-reception-slip",this.cancelModalTitle="\u5ba2\u6ce8\u53d7\u4ed8\u7968\u7de8\u96c6\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+_.yR.TITLE.CANCEL,this.errorModalTitle="\u5ba2\u6ce8\u53d7\u4ed8\u7968\u7de8\u96c6\u30a8\u30e9\u30fc\uff1a"+_.yR.TITLE.HAS_ERROR,this.corsConst=S,this.errorConst=f.c,this.divisionConst=N.z,this.clientForm=this.fb.group({client_id:["",[s.kI.required]]}),this.memberForm=this.fb.group({member_id:["",[s.kI.required]]}),this.generalForm=this.fb.group({last_name:["",[s.kI.required,s.kI.maxLength(255)]],first_name:["",[s.kI.maxLength(255)]],last_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(A.m.FULL_WIDTH_KATAKANA_REG_EX)]],first_name_kana:["",[s.kI.maxLength(255),s.kI.pattern(A.m.FULL_WIDTH_KATAKANA_REG_EX)]]}),this.form=this.fb.group({status_division_id:["",[s.kI.required]],customer_type_division_id:["",[s.kI.required]],store_id:["",[s.kI.required]],reception_employee_id:["",[s.kI.required]],reception_date:["",[s.kI.required]],shipping_address:["",[s.kI.maxLength(255)]],settle_status_division_id:["",[s.kI.required]],incident_division_id:["",[s.kI.required]],quotation_employee_id:[""],quotation_date:[""],quotation_expiration_date:[""],tel:["",[s.kI.required,s.kI.maxLength(14),s.kI.pattern(A.m.NUMERIC_REG_EX)]],remarks_1:["",[s.kI.maxLength(255)]],remarks_2:["",[s.kI.maxLength(255)]]}),this.show_remark=!1}get clientCtrls(){return this.clientForm.controls}get memberCtrls(){return this.memberForm.controls}get generalCtrls(){return this.generalForm.controls}get ctrls(){return this.form.controls}ngOnInit(){this.customerType={value:"",text:""},this.subscription.add(this.modalService.closeEventObservable$.pipe((0,T.h)(r=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(r=>{r===_.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigate([this.detailPagePath],{queryParams:{clientId:this.clientId}})})),this.subscription.add(this.ctrls.customer_type_division_id.valueChanges.subscribe(r=>{this.selectedCustomerType(r)}));const e=this.activatedRoute.snapshot.params.id;this.isParameterInvalid(e)?this.handleError(400,this.errorModalTitle,"\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u4e00\u89a7\u753b\u9762\u3078\u623b\u308a\u307e\u3059\u3002",this.listPagePath):(this.selectedId=Number(e),this.detailPagePath=this.listPagePath+"/detail/"+e,this.initOptions(Number(e)))}ngOnDestroy(){this.subscription.unsubscribe()}isParameterInvalid(e){return null===e||!!isNaN(Number(e))}selectedCustomerType(e){if(null===e)return void this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc");const i=this.customerTypes.find(a=>String(a.value)===e);if(void 0===i)return void this.handleError(400,this.errorModalTitle,"\u9078\u629e\u80a2\u53d6\u5f97\u30a8\u30e9\u30fc");switch(this.customerType.text){case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:this.clientForm.patchValue({client_id:""});break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:this.memberCtrls.member_id.setValue("");break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:this.generalForm.patchValue({last_name:"",first_name:"",last_name_kana:"",first_name_kana:""})}const r=this.cors;switch(i.text){case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:const a={client_id:String(r.client_id)};this.clientForm.patchValue(a);break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:this.memberCtrls.member_id.setValue(String(r.member_id));break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:this.generalForm.patchValue({last_name:r.last_name,first_name:r.first_name,last_name_kana:r.last_name_kana,first_name_kana:r.first_name_kana})}this.ctrls.tel.setValue(String(r.tel)),this.ctrls.store_id.setValue(String(r.store_id)),this.ctrls.quotation_employee_id.setValue(String(r.quotation_employee_id)),this.ctrls.quotation_employee_id.patchValue(String(r.quotation_employee_id)),this.customerType=i}initOptions(e){this.common.loading=!0,this.subscription.add((0,Q.D)([this.corsService.find(e),this.employeeService.getAll(),this.storeService.getAsSelectOptions(),this.divisionService.getAsSelectOptions(),this.memberService.getAll(),this.clientService.getAll()]).pipe((0,Y.x)(()=>this.common.loading=!1),(0,k.K)(i=>(0,P.of)(i))).subscribe(i=>{if(i instanceof B.UA)return void this.handleError(i.status,this.errorModalTitle,i.message);if(null==i)return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);if(6!==i.length)return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);this.cors=i[0].data[0];const r=i[0].data[0];if((0,J.bz)(i[1]))return void this.handleError(400,this.errorModalTitle,_.yR.BODY.HAS_ERROR,this.listPagePath);const u=i[1].data,c=u.find(g=>g.id===r.updated_id);c&&(this.lastUpdater=c),this.employeeSuggests=u.map(g=>({value:g.id,text:g.last_name+" "+g.first_name})),this.storeSuggests=i[2];const d=i[3];this.members=i[4].data,this.memberSuggests=i[4].data.map(g=>({value:g.id,text:g.last_name+" "+g.first_name})),this.clients=i[5].data,this.clientSuggests=i[5].data.map(g=>({value:g.id,text:g.name}));const p=d[N.z.CUSTOMER_ORDER_RECEPTION_SLIP_STATUS];switch(r.division_status_code){case this.corsConst.STATUS_CODE.ACCEPTED:break;case this.corsConst.STATUS_CODE.QUOTATION_CREATED:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.ACCEPTED||String(g.text)===S.STATUS.QUOTATION_UNDER_REVIEW||String(g.text)===S.STATUS.CANCELLED);break;case this.corsConst.STATUS_CODE.QUOTATION_UNDER_REVIEW:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.ACCEPTED||String(g.text)===S.STATUS.QUOTATION_SENT||String(g.text)===S.STATUS.CANCELLED);break;case this.corsConst.STATUS_CODE.QUOTATION_SENT:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.ORDER_RECEIVED||String(g.text)===S.STATUS.CANCELLED);break;case this.corsConst.STATUS_CODE.ORDER_RECEIVED:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.CONTACTED_CUSTOMER||String(g.text)===S.STATUS.CANCELLED);break;case this.corsConst.STATUS_CODE.CONTACTED_CUSTOMER:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.DELIVERED_TO_CARRIER||String(g.text)===S.STATUS.CANCELLED);break;case this.corsConst.STATUS_CODE.DELIVERED_TO_CARRIER:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.PRODUCT_IN_TRANSIT||String(g.text)===S.STATUS.CANCELLED);break;case this.corsConst.STATUS_CODE.PRODUCT_IN_TRANSIT:this.statusDivisions=p.filter(g=>String(g.text)===S.STATUS.DELIVERED||String(g.text)===S.STATUS.CANCELLED)}this.settleDivisions=d[N.z.SETTLE_STATUS],this.incidentDivisions=d[N.z.INCIDENT],this.customerTypes=d[N.z.CUSTOMER_TYPE],this.customerType={value:r.customer_type_division_id,text:r.division_customer_type_value};const h={client_id:String(r.client_id),member_id:String(r.member_id),last_name:r.last_name,first_name:r.first_name?r.first_name:"",store_id:String(r.store_id),status_division_id:String(r.status_division_id),customer_type_division_id:String(r.customer_type_division_id),shipping_address:r.shipping_address,settle_status_division_id:String(r.settle_status_division_id),incident_division_id:String(r.incident_division_id),tel:String(r.tel),remarks_1:r.remarks_1,remarks_2:r.remarks_2,reception_date:r.reception_date,reception_employee_id:String(r.reception_employee_id),quotation_date:r.quotation_date,quotation_pdf_path:r.quotation_pdf_path,quotation_expiration_date:r.quotation_expiration_date,quotation_employee_id:String(r.quotation_employee_id)},L=p.filter(g=>g.code===r.division_status_code);this.status_dividion_text=L[0].text,this.form.patchValue(h),this.ctrls.settle_status_division_id.patchValue(String(r.settle_status_division_id)),this.ctrls.incident_division_id.patchValue(String(r.incident_division_id)),this.ctrls.quotation_employee_id.patchValue(String(r.quotation_employee_id?r.quotation_employee_id:r.reception_employee_id)),console.log(this.cors)}))}formControlStateManager(e){return(e.touched||e.dirty)&&e.invalid}clearQuotationDate(){this.ctrls.quotation_date.setValue("")}handleClickSaveButton(){this.form.markAsPristine(),this.clientForm.markAsPristine(),this.memberForm.markAsPristine(),this.generalForm.markAsPristine(),this.common.loading=!0;const e=this.form.value;if(!this.customerTypes.some(d=>Number(d.value)===Number(e.customer_type_division_id)))return this.ctrls.customer_type_division_id.setValue(""),void(this.common.loading=!1);if(!this.employeeSuggests.some(d=>Number(d.value)===Number(e.reception_employee_id)))return this.ctrls.reception_employee_id.setValue(""),void(this.common.loading=!1);if(!this.storeSuggests.some(d=>Number(d.value)===Number(e.store_id)))return this.ctrls.store_id.setValue(""),void(this.common.loading=!1);if(null==e.reception_date||""===e.reception_date)return this.ctrls.reception_date.setValue(""),void(this.common.loading=!1);let u="";e.quotation_date&&(u=new Date(String(e.quotation_date)).toLocaleDateString());const c={store_id:e.store_id,customer_type_division_id:e.customer_type_division_id,status_division_id:e.status_division_id,reception_employee_id:e.reception_employee_id,reception_date:new Date(String(e.reception_date)).toLocaleDateString(),shipping_address:e.shipping_address,settle_status_division_id:e.settle_status_division_id,incident_division_id:e.incident_division_id,quotation_date:u,quotation_employee_id:e.quotation_employee_id,quotation_expiration_date:new Date(String(e.quotation_expiration_date)).toLocaleDateString(),remarks_1:e.remarks_1,remarks_2:e.remarks_2};switch(this.customerType.text){case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.CLIENT:if(!this.clientSuggests.some(F=>Number(F.value)===Number(this.clientForm.value.client_id)))return this.clientCtrls.client_id.setValue(""),void(this.common.loading=!1);if(""===this.ctrls.tel.value||null==this.ctrls.tel.value)return this.ctrls.tel.setValue(""),void(this.common.loading=!1);c.client_id=this.clientForm.value.client_id,c.tel=this.ctrls.tel.value;break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.MEMBER:if(!this.memberSuggests.some(F=>Number(F.value)===Number(this.memberForm.value.member_id)))return this.memberCtrls.member_id.setValue(""),void(this.common.loading=!1);c.member_id=this.memberForm.value.member_id;break;case this.corsConst.CUSTOMER_TYPE_DIVISION.VALUE.GENERAL:if(""===this.generalForm.value.last_name||null==this.generalForm.value.last_name)return this.generalCtrls.last_name.setValue(""),void(this.common.loading=!1);if(""===this.ctrls.tel.value||null==this.ctrls.tel.value)return this.ctrls.tel.setValue(""),void(this.common.loading=!1);c.last_name=this.generalForm.value.last_name,c.first_name=this.generalForm.value.first_name?this.generalForm.value.first_name:"",c.last_name_kana=this.generalForm.value.last_name_kana?this.generalForm.value.last_name_kana:"",c.first_name_kana=this.generalForm.value.first_name_kana?this.generalForm.value.first_name_kana:"",c.tel=this.ctrls.tel.value}this.subscription.add(this.corsService.update(this.selectedId,c).pipe((0,Y.x)(()=>this.common.loading=!1),(0,k.K)(d=>(0,P.of)(d))).subscribe(d=>{d instanceof B.UA?this.handleError(d.status,this.errorModalTitle,d.message):(this.flashMessageService.setFlashMessage(d.message,"success",15e3),this.router.navigateByUrl(this.listPagePath))}))}handleClickCancel(){this.form.pristine?this.router.navigate([this.detailPagePath],{queryParams:{clientId:this.clientId}}):this.modalService.setModal(this.cancelModalTitle,_.yR.BODY.CANCEL,"warning",_.yR.BUTTON_TITLE.EXECUTION,_.yR.BUTTON_TITLE.CANCEL)}handleError(e,i,r,a){this.errorService.setError({status:e,title:i,message:r,redirectPath:a})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.k),t.Y36(z.G),t.Y36(pt.d),t.Y36(_t.y),t.Y36(dt.n),t.Y36(w.E),t.Y36(x.Z),t.Y36(C.T),t.Y36(O.F0),t.Y36(O.gz),t.Y36(s.qu),t.Y36(et.P),t.Y36(U.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit"]],decls:24,vars:17,consts:[[3,"breadcrumbList"],[1,"mb-8"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[4,"ngIf","ngIfElse"],["duringAcquisition",""],["general",""],["client",""],["member",""],["labels",""],["errors",""],[3,"formGroup","ngSubmit"],[1,"mt-8","mb-24","shadow","border","border-gray-300"],[1,"py-8","px-6","bg-white"],[1,"text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-2"],[1,"text-sm","text-rose-500"],[1,"flex","gap-6","mt-8"],[1,"w-1/3"],["nameAttrValue","status_division_id","idAttrValue","status-division-id",2,"display","none",3,"formCtrl","invalid"],[1,"w-2/3"],["nameAttrValue","shipping_address","idAttrValue","shipping-address",3,"formCtrl","invalid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["message","",4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-1/4"],["nameAttrValue","reception_date","idAttrValue","reception-date",3,"formCtrl","invalid"],[1,"flex"],[1,"w-5/6"],["nameAttrValue","quotation_date","idAttrValue","quotation-date",3,"formCtrl","invalid"],[1,"w-1/6"],["icon","close-circle-fill",1,"w-6","ml-1","mt-9","fill-slate-500","cursor-pointer",3,"click"],["nameAttrValue","quotation_expiration_date","idAttrValue","quotation-expiration-date",3,"formCtrl","invalid"],["nameAttrValue","quotation_employee_id","idAttrValue","quotation-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[4,"ngIf"],["nameAttrValue","customer_type_division_id","idAttrValue","customer-type",3,"options","formCtrl","invalid"],["nameAttrValue","reception_employee_id","idAttrValue","reception-employee-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","store_id","idAttrValue","store-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[4,"ngIf","ngIfThen"],[1,"bg-rose-200"],[1,"px-6","pt-8","text-rose-700"],[1,"flex","gap-6","pt-4","pb-8","px-6"],[1,"w-1/2"],["nameAttrValue","settle_status_division_id","idAttrValue","settle-status-division-id",3,"formCtrl","options","invalid"],["nameAttrValue","incident_division_id","idAttrValue","incident-division-id",3,"formCtrl","options","invalid"],["message",""],["nameAttrValue","remarks_1","idAttrValue","remarks-1",3,"formCtrl","invalid"],["nameAttrValue","remarks_2","idAttrValue","remarks-2",3,"formCtrl","invalid"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","left-0","right-0","p-2","fixed","gap-8"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success","btnLineHoverColor","hover:border-success-hover",3,"buttonDisabled"],[1,"text-3xl","text-center","text-slate-500","mt-6"],["nameAttrValue","last_name","idAttrValue","last-name",3,"formCtrl","invalid"],["nameAttrValue","first_name","idAttrValue","first-name",3,"formCtrl","invalid"],["nameAttrValue","tel","idAttrValue","tel",3,"formCtrl","invalid"],["nameAttrValue","last_name_kana","idAttrValue","last-name-kana",3,"formCtrl","invalid"],["nameAttrValue","first_name_kana","idAttrValue","first-name-kana",3,"formCtrl","invalid"],["nameAttrValue","client_id","idAttrValue","client-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],["nameAttrValue","member_id","idAttrValue","member-id","placeholder","\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",3,"formCtrl","suggests","invalid"],[1,"flex","items-center","gap-2"],["class","px-3 py-0.5 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1 text-sm text-red",4,"ngIf"],[1,"mt-1","pl-1","text-sm","text-red"]],template:function(e,i){if(1&e&&(t._UZ(0,"app-breadcrumb-org",0),t.TgZ(1,"main",1)(2,"h1",2),t._uU(3,"\u5ba2\u6ce8\u53d7\u4ed8\u7968\u7de8\u96c6"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.NdJ("click",function(){return i.handleClickCancel()}),t._UZ(6,"app-cancel-link-org"),t.qZA(),t.TgZ(7,"div")(8,"app-last-updater-org",5),t._uU(9),t.qZA()()(),t._UZ(10,"hr",6),t.YNc(11,wo,79,112,"ng-container",7),t.qZA(),t.YNc(12,jo,2,0,"ng-template",null,8,t.W1O),t.YNc(14,la,23,45,"ng-template",null,9,t.W1O),t.YNc(16,ga,9,19,"ng-template",null,10,t.W1O),t.YNc(18,Ta,5,10,"ng-template",null,11,t.W1O),t.YNc(20,va,4,2,"ng-template",null,12,t.W1O),t.YNc(22,Sa,1,1,"ng-template",null,13,t.W1O)),2&e){const r=t.MAs(13);t.Q6J("breadcrumbList",t.kEZ(13,Za,t.VKq(5,ba,i.listPagePath),t.WLB(9,ya,i.detailPagePath,t.VKq(7,Na,i.clientId)),t.DdM(12,Ua))),t.xp6(8),t.Q6J("roleTypeName",i.lastUpdater&&i.lastUpdater.role_name?i.lastUpdater.role_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d"),t.xp6(1),t.hij(" \u6700\u7d42\u66f4\u65b0\u8005\uff1a",i.lastUpdater?i.lastUpdater.last_name+" "+i.lastUpdater.first_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d"," "),t.xp6(2),t.Q6J("ngIf",i.cors)("ngIfElse",r)}},dependencies:[m.O5,m.tP,Z.Z,mt.K,nt.R,s._Y,s.JL,s.sg,tt.X,j.r,it.O,rt.d,gt.a,ot.t,no.h,$.o]}),n})()}]}];let Ma=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[O.Bz.forChild(Ra),O.Bz]}),n})();var Va=l(9307),qa=l(4933),ka=l(4560);let Pa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,ka.Z]}),n})();var St=l(3894),bt=l(8511),Ba=l(3718),Nt=l(7090),Qa=l(855),Ya=l(8367),yt=l(9434);let Ja=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,s.UX,St.h,bt.Q,Ba.z,Nt.G,Qa.W,Ya.a,yt.H]}),n})();var La=l(3042),Ga=l(2923),Ka=l(4470),wa=l(9104),ja=l(3560),Ha=l(3962),Wa=l(3415),za=l(5274),Xa=l(3183),$a=l(1326),ts=l(973),es=l(1819),ns=l(5366),is=l(4015),rs=l(589),os=l(4854);let as=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),ss=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[U.v],imports:[m.ez,Ma,Va.u,Ja,qa.M,Pa,wa.u,ja.r,Ka.x,s.UX,Nt.G,St.h,La.C,Ha.J,Ga.D,$a.z,za.s,Xa.F,yt.H,Wa.x,es.l,ns.U,is.e,ts.Y,rs.P,os.C,as,bt.Q]}),n})()},67:(G,q,l)=>{l.d(q,{s:()=>s});const s={NO_IMAGE_PATH:"/assets/images/no_image.png",PLEASE_SELECT:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",IMAGE_MAX_FILE_SIZE:3145728,IMAGE_MAX_FILE_SIZE_FOR_DISPLAY:Math.floor(3.145728),ROUTE_DATA_BREADCRUMB:"breadcrumb",DATA_PERMISSION:{CODE:{PUBLIC:1,PROVISIONAL:2,PRIVATE:3},VALUE:{PUBLIC:"\u516c\u958b\u4e2d",PROVISIONAL:"\u4eee\u4fdd\u5b58",PRIVATE:"\u975e\u516c\u958b"}}}},3605:(G,q,l)=>{var m,s;l.d(q,{v:()=>m}),(s=m||(m={})).initOptions=function O(T,f){const _={};return _.order_rep=T,_.receiving_rep=T,_.cancel_rep=T,_},s.removeNullsAndBlanks=function R(T){const f={};for(const[_,t]of Object.entries(T))null!=t&&""!==t&&(f[_]=t);return f},s.flattingFormValue=function E(T){const f={};for(const[_,t]of Object.entries(T))if(null===t||t instanceof Date||"object"!=typeof t)f[_]=t;else for(const[x,C]of Object.entries(E(t)))f[`${x}_${_}`]=C instanceof Date?C.toLocaleDateString():C;return f},s.customValids={afterToday:()=>T=>{const f=T.get("from")?.value,_=new Date;return new Date(f)>_?{afterToday:!0}:null},beforeFromDate:()=>T=>{const f=T.get("from")?.value,_=T.get("to")?.value;return f&&new Date(f)>new Date(_)?{beforeFromDate:!0}:null}}},6082:(G,q,l)=>{l.d(q,{M:()=>C});var m=l(2340),s=l(262),O=l(4004),R=l(8372),E=l(1884),T=l(3900),f=l(9646),_=l(1751),t=l(529),x=l(1571);let C=(()=>{class U extends _.O{constructor(){super(...arguments),this.endpoint=m.pU.productApi.endpoint}getAll(v={}){return this.httpOptions.params=v,this.http.get(this.endpoint,this.httpOptions).pipe((0,s.K)(this.setErrorMessage("\u5546\u54c1\u4e00\u89a7\u306e\u53d6\u5f97")))}get(v,b={}){return this.getAll({...b,supplier_id:v})}getCsv(v,b){const Z={params:b,responseType:"text",headers:new t.WM({"X-Download":v})};return this.http.get(this.endpoint,Z).pipe((0,s.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}find(v){return this.http.get(`${this.endpoint}/${v}`).pipe((0,s.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u53d6\u5f97")))}add(v){const b=this.generateFormData(v);return this.http.post(this.endpoint,b).pipe((0,s.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u767b\u9332")))}bulkAdd(v){const b=this.generateFormData({file:v});return this.http.put(this.endpoint,b).pipe((0,s.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u4e00\u62ec\u767b\u9332")))}update(v,b){const Z=this.generateFormData(b);return this.http.patch(`${this.endpoint}/${v}`,Z).pipe((0,s.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u66f4\u65b0")))}remove(v){return this.http.delete(`${this.endpoint}/${v}`).pipe((0,s.K)(this.setErrorMessage("\u5546\u54c1\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(v){return this.getAll(v).pipe((0,O.U)(b=>b.data.map(Z=>({text:Z.name+"",value:Z.id}))))}getAsSelectOptionsForNameSearch(v){return this.getAll(v).pipe((0,O.U)(b=>b.data.map(Z=>({text:Z.name+"",value:Z.name}))))}observableProductId(v,b,Z){Z.loading=!1,v.valueChanges.pipe((0,R.b)(500),(0,E.x)(),(0,T.w)(Q=>this.observableSetProductName(String(Q),b,Z))).subscribe()}observableSetProductName(v,b,Z){return null==v||""===v?(b.setValue("",{emitEvent:!1}),(0,f.of)()):(Z.loading=!0,this.find(Number(v)).pipe((0,O.U)(Q=>{const k=Q.data[0];Z.loading=!1,b.setValue(k?.name,{emitEvent:!1})}),(0,s.K)(Q=>(Z.loading=!1,this.handleErrorModal()(Q)))))}}return U.\u0275fac=function(){let K;return function(b){return(K||(K=x.n5z(U)))(b||U)}}(),U.\u0275prov=x.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},4562:(G,q,l)=>{l.d(q,{p:()=>f});var m=l(2340),s=l(262),O=l(4004),R=l(1751),E=l(529),T=l(1571);let f=(()=>{class _ extends R.O{constructor(){super(...arguments),this.endpoint=m.pU.supplierApi.endpoint}getAll(x={}){return this.httpOptions.params=x,this.http.get(this.endpoint,this.httpOptions).pipe((0,s.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u4e00\u89a7\u306e\u53d6\u5f97")))}find(x){return this.http.get(`${this.endpoint}/${x}`).pipe((0,s.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u53d6\u5f97")))}getCsv(x,C){const U={params:C,responseType:"text",headers:new E.WM({"X-Download":x})};return this.http.get(this.endpoint,U).pipe((0,s.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}add(x){const C=this.generateFormData(x);return this.http.post(this.endpoint,C).pipe((0,s.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u767b\u9332")))}bulkAdd(x){const C=this.generateFormData({file:x});return this.http.put(this.endpoint,C).pipe((0,s.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u4e00\u62ec\u767b\u9332")))}update(x,C){const U=this.generateFormData(C);return this.http.patch(`${this.endpoint}/${x}`,U).pipe((0,s.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u66f4\u65b0")))}remove(x){return this.http.delete(`${this.endpoint}/${x}`).pipe((0,s.K)(this.setErrorMessage("\u4ed5\u5165\u5148\u60c5\u5831\u306e\u524a\u9664")))}getAsSelectOptions(){return this.getAll({$select:"id,name"}).pipe((0,O.U)(x=>x.data.map(U=>({value:U.id,text:U.name}))))}}return _.\u0275fac=function(){let t;return function(C){return(t||(t=T.n5z(_)))(C||_)}}(),_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);