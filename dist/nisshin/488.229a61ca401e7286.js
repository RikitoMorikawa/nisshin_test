"use strict";(self.webpackChunknisshin=self.webpackChunknisshin||[]).push([[488],{5450:(I,v,i)=>{i.d(v,{d:()=>l});class l{static opponentEnteredRequireValidator(g,m){return s=>{const d=s.get(g),u=s.get(m);return d&&null!==d.value&&u&&null!==u.value&&d.value.length>0?u.value.length>0?null:{isRequired:!0}:null}}static compareValidator(g,m){return s=>{const d=s.get(g),u=s.get(m);return d&&null!==d.value&&u&&null!==u.value&&u.value.length>0?d.value===u.value?null:{isPasswordSame:!0}:null}}static valueChanged(g,m){return s=>{let d;return console.log(typeof m),console.log(typeof s.value),console.log(m),console.log(s.value),"number"===g&&(d=Number(s.value)),console.log(typeof m),console.log(typeof d),console.log(m),console.log(d),d===m?{noChange:!0}:null}}static opponentSelectionRequiredValidator(g,m,s){return d=>{const u=d.get(g),_=d.get(s);return u&&null!==u.value&&_&&null!==_.value&&String(u.value)===m?_.value.length>0?null:{isRequired:!0}:null}}static beforeFromDate(){return g=>{const m=g.get("from")?.value,s=g.get("to")?.value;return m&&new Date(m)>new Date(s)?{beforeFromDate:!0}:null}}static endingDateIsSmaller(g,m){return s=>{const d=s.get(g)?.value,u=s.get(m)?.value;return d&&u&&new Date(d)>=new Date(u)?{endingDateIsSmaller:!0}:null}}static isStartDateGreaterThanOrEqualToEndDate(g,m){return s=>{const d=s.get(g)?.value,u=s.get(m)?.value;if(d&&u){const _=new Date(d),e=new Date(u);return _.setHours(0,0,0,0),e.setHours(0,0,0,0),_>e?{isStartDateGreaterThanOrEqualToEndDate:!0}:null}return null}}static eitherRequiredValidator(g,m){return s=>{const d=s.parent?.get(g),u=s.parent?.get(m);return d?.value||u?.value?(d?.value.length>0&&0===u?.value.length?u.setErrors(null):0===d?.value&&u?.value.length>0&&d.setErrors(null),null):{eitherRequired:!0}}}static eitherIsRequiredValidator(g,m){return s=>{const d=s.get(g),u=s.get(m);return d?.value||u?.value?(d?.value.length>0&&0===u?.value.length?u.setErrors(null):0===d?.value&&u?.value.length>0&&d.setErrors(null),null):{eitherRequired:!0}}}}},8593:(I,v,i)=>{i.d(v,{n:()=>m});var l=i(6895),a=i(4006),g=i(1571);let m=(()=>{class s{}return s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[l.ez,a.UX]}),s})()},7610:(I,v,i)=>{i.d(v,{I:()=>u});var l=i(1571),a=i(6303),g=i(1043),m=i(3761);const s=["*",[["","message",""]]],d=["*","[message]"];let u=(()=>{class _{constructor(){this.invalid=!1}onClear(){this.formCtrl.setValue("")}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275cmp=l.Xpm({type:_,selectors:[["app-select-clear-container"]],inputs:{nameAttrValue:"nameAttrValue",idAttrValue:"idAttrValue",formCtrl:"formCtrl",invalid:"invalid",labelSize:"labelSize",options:"options"},ngContentSelectors:d,decls:7,vars:7,consts:[[1,"flex","flex-col"],[1,"ml-1","mb-1",3,"labelSize","forAttrValue"],[1,"flex","flex-row","items-center"],[1,"grow",3,"nameAttrValue","idAttrValue","formCtrl","options","invalid"],["icon","close-circle-fill",1,"w-6","ml-1","fill-slate-500","cursor-pointer",3,"click"]],template:function(f,h){1&f&&(l.F$t(s),l.TgZ(0,"div",0)(1,"app-label",1),l.Hsn(2),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"app-select",3),l.TgZ(5,"app-icon",4),l.NdJ("click",function(){return h.onClear()}),l.qZA()(),l.Hsn(6,1),l.qZA()),2&f&&(l.xp6(1),l.Q6J("labelSize",h.labelSize)("forAttrValue",h.idAttrValue),l.xp6(3),l.Q6J("nameAttrValue",h.nameAttrValue)("idAttrValue",h.idAttrValue)("formCtrl",h.formCtrl)("options",h.options)("invalid",h.invalid))},dependencies:[a._,g.H,m.o]}),_})()},8367:(I,v,i)=>{i.d(v,{a:()=>d});var l=i(6895),a=i(6320),g=i(8460),m=i(8511),s=i(1571);let d=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[l.ez,a.r,g.A,m.Q]}),u})()},1451:(I,v,i)=>{i.d(v,{d:()=>d});var l=i(1571),a=i(6303),g=i(1043);const m=["*",[["","message",""]]],s=["*","[message]"];let d=(()=>{class u{constructor(){this.invalid=!1}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-select-container"]],inputs:{nameAttrValue:"nameAttrValue",idAttrValue:"idAttrValue",formCtrl:"formCtrl",invalid:"invalid",labelSize:"labelSize",options:"options"},ngContentSelectors:s,decls:6,vars:7,consts:[[1,"flex","flex-col"],[1,"ml-1","mb-1",3,"labelSize","forAttrValue"],[3,"nameAttrValue","idAttrValue","formCtrl","options","invalid"]],template:function(e,f){1&e&&(l.F$t(m),l.TgZ(0,"div",0)(1,"app-label",1),l.Hsn(2),l.qZA(),l.TgZ(3,"div"),l._UZ(4,"app-select",2),l.Hsn(5,1),l.qZA()()),2&e&&(l.xp6(1),l.Q6J("labelSize",f.labelSize)("forAttrValue",f.idAttrValue),l.xp6(3),l.Q6J("nameAttrValue",f.nameAttrValue)("idAttrValue",f.idAttrValue)("formCtrl",f.formCtrl)("options",f.options)("invalid",f.invalid))},dependencies:[a._,g.H]}),u})()},9434:(I,v,i)=>{i.d(v,{H:()=>s});var l=i(6895),a=i(6320),g=i(8460),m=i(1571);let s=(()=>{class d{}return d.\u0275fac=function(_){return new(_||d)},d.\u0275mod=m.oAB({type:d}),d.\u0275inj=m.cJS({imports:[l.ez,a.r,g.A]}),d})()},6843:(I,v,i)=>{i.d(v,{y:()=>f});var l=i(6895),a=i(5773),g=i(8460),m=i(8593),s=i(8511),d=i(1945),u=i(2298),_=i(4333),e=i(1571);let f=(()=>{class h{}return h.\u0275fac=function(w){return new(w||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[l.ez,a.i,g.A,m.n,s.Q,d.L,_.JX,u.U]}),h})()},6502:(I,v,i)=>{i.d(v,{P:()=>u});var l=i(1571),a=i(3761),g=i(6303),m=i(5155);const s=["*",[["","message",""]]],d=["*","[message]"];let u=(()=>{class _{constructor(){this.inputType="text",this.invalid=!1,this.labelSize="base"}onClear(){this.formCtrl.setValue("")}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275cmp=l.Xpm({type:_,selectors:[["app-text-clear-container"]],inputs:{inputType:"inputType",nameAttrValue:"nameAttrValue",idAttrValue:"idAttrValue",formCtrl:"formCtrl",placeholder:"placeholder",invalid:"invalid",labelSize:"labelSize"},ngContentSelectors:d,decls:7,vars:8,consts:[[1,"flex","flex-col"],[1,"ml-1","mb-1",3,"labelSize","forAttrValue"],[1,"flex","flex-row","items-center"],[1,"grow",3,"inputType","nameAttrValue","idAttrValue","formCtrl","placeholder","invalid"],["icon","close-circle-fill",1,"w-6","ml-1","fill-slate-500","cursor-pointer",3,"click"]],template:function(f,h){1&f&&(l.F$t(s),l.TgZ(0,"div",0)(1,"app-label",1),l.Hsn(2),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"app-text",3),l.TgZ(5,"app-icon",4),l.NdJ("click",function(){return h.onClear()}),l.qZA()(),l.Hsn(6,1),l.qZA()),2&f&&(l.xp6(1),l.Q6J("labelSize",h.labelSize)("forAttrValue",h.idAttrValue),l.xp6(3),l.Q6J("inputType",h.inputType)("nameAttrValue",h.nameAttrValue)("idAttrValue",h.idAttrValue)("formCtrl",h.formCtrl)("placeholder",h.placeholder)("invalid",h.invalid))},dependencies:[a.o,g._,m.T]}),_})()},956:(I,v,i)=>{i.d(v,{$:()=>g});var l=i(1571),a=i(1914);let g=(()=>{class m{constructor(){}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["app-delete-link-org"]],decls:4,vars:0,consts:[[1,"cursor-pointer"],["icon","delete-bin-line","appendClassForIcon","fill-danger group-hover:fill-danger-hover"],[1,"text-gray-900","group-hover:text-danger-hover"]],template:function(d,u){1&d&&(l.TgZ(0,"div",0)(1,"app-icon-container",1)(2,"p",2),l._uU(3,"\u524a\u9664"),l.qZA()()())},dependencies:[a.J]}),m})()},2923:(I,v,i)=>{i.d(v,{D:()=>m});var l=i(6895),a=i(1326),g=i(1571);let m=(()=>{class s{}return s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[l.ez,a.z]}),s})()},7488:(I,v,i)=>{i.r(v),i.d(v,{EmployeeModule:()=>yn});var l=i(6895),a=i(4006),g=i(1690),m=i(6585),s=i(8037),d=i(727),u=i(5698),_=i(9300),e=i(1571),f=i(1609),h=i(2334),x=i(8832),w=i(2125);let U=(()=>{class n{constructor(t,o,c,p){this.modalService=t,this.errorService=o,this.router=c,this.common=p,this.subscription=new d.w0,this.isLoading=!1}ngOnInit(){this.subscription.add(this.errorService.getError().subscribe(t=>{this.handleError(t)})),this.subscription.add(this.common.loading$.subscribe(t=>{setTimeout(()=>this.isLoading=t)}))}ngOnDestroy(){this.subscription.unsubscribe()}handleError(t){t.redirectPath&&(this.redirectPath=t.redirectPath),this.modalService.setModal(t.title,0===t.status?t.message+s.c.GUIDANCE_OF_SUPPORT:`\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9: ${t.status} \n\u30e1\u30c3\u30bb\u30fc\u30b8: `+t.message+s.c.GUIDANCE_OF_SUPPORT,"danger",m.yR.BUTTON_TITLE.CLOSE,""),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,u.q)(1),(0,_.h)(c=>this.modalService.getModalProperties().title===t.title)).subscribe(c=>{this.redirectPath&&this.router.navigateByUrl(this.redirectPath)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.Z),e.Y36(h.T),e.Y36(g.F0),e.Y36(x.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee"]],decls:2,vars:1,consts:[[3,"isLoading"]],template:function(t,o){1&t&&e._UZ(0,"router-outlet")(1,"app-loading-container",0),2&t&&(e.xp6(1),e.Q6J("isLoading",o.isLoading))},dependencies:[g.lC,w.o]}),n})();var J=i(7579),N=i(529),X=i(8505),q=i(3900),M=i(262),Z=i(9646),F=i(8746),L=i(4416),y=i(2640);let b=(()=>{class n{constructor(t,o){this.employeeService=t,this.common=o,this.subscription=new d.w0,this.errorEvent=new e.vpe,this.filter={},this.pages={page:1,itemsPerPage:10,sort:{column:"ID",order:"desc"}},this.tableParams=new J.x,this.tableNameMapping=[{name:"id",name_jp:"ID"},{name:"code",name_jp:"\u793e\u54e1\u30b3\u30fc\u30c9"},{name:"division_status_value",name_jp:"\u8868\u793a\u533a\u5206"},{name:"store_name",name_jp:"\u6240\u5c5e\u5e97\u8217\u540d"},{name:"last_name",name_jp:"\u59d3"},{name:"first_name",name_jp:"\u540d"},{name:"mail",name_jp:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"},{name:"last_login_at",name_jp:"\u6700\u7d42\u30ed\u30b0\u30a4\u30f3\u65e5\u6642"}]}ngOnInit(){this.getTableData(),this.tableEvent.next(this.pages)}getTableData(){this.subscription.add(this.tableEvent.pipe((0,X.b)(t=>this.common.loading=!0),(0,q.w)(t=>this.employeeService.getAll(this.createApiParams(t))),(0,M.K)(t=>(0,Z.of)(t)),(0,F.x)(()=>this.common.loading=!1)).subscribe({next:t=>{this.common.loading=!1,t instanceof N.UA?this.handleError(t.status,t.error.message):this.tableParams.next(this.createTableParams(t))},complete:()=>this.getTableData()}))}createApiParams(t){this.isTableWithPaginationEvent(t)?this.pages=t:(this.filter=t,this.pages.page=1);const c=this.tableNameMapping.find(T=>T.name_jp===this.pages.sort.column)?.name;let p=c;return"division_status_value"===c?p="status_division_id":"store_name"===c?p="store_name_kana":"last_name"===c?p="last_name_kana":"first_name"===c&&(p="first_name_kana"),{...this.filter,limit:this.pages.itemsPerPage,offset:(this.pages.page-1)*this.pages.itemsPerPage,sort:p?`${p}:${this.pages.sort.order}`:""}}isTableWithPaginationEvent(t){const{page:o,itemsPerPage:c,sort:p}=t;return"number"==typeof o&&"number"==typeof c&&"object"==typeof p}createTableParams(t){const o=this.tableNameMapping.map(p=>p.name_jp),c=t.data.map(p=>this.tableNameMapping.map(T=>p[T.name]));return c.forEach((p,T)=>{let A=-1;A=o.indexOf("ID"),p[A]={href:`/employee/detail/${p[A]}`,text:p[A]+""},A=o.indexOf("\u6700\u7d42\u30ed\u30b0\u30a4\u30f3\u65e5\u6642"),p[A]=""===p[A]||"NaT"===p[A]?"":new Date(p[A]).toLocaleString()}),{total:t.totalItems,header:o,body:c}}handleError(t,o){this.errorEvent.emit({status:t,title:"\u793e\u54e1\u4e00\u89a7\uff1a"+m.yR.TITLE.HAS_ERROR,message:o})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.G),e.Y36(x.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-table-org"]],inputs:{tableEvent:"tableEvent"},outputs:{errorEvent:"errorEvent"},decls:2,vars:2,consts:[[3,"params","loading","pageChange"]],template:function(t,o){1&t&&(e.TgZ(0,"app-table-with-pagination",0),e.NdJ("pageChange",function(p){return o.tableEvent.next(p)}),e._uU(1," \u793e\u54e1\u4e00\u89a7\n"),e.qZA()),2&t&&e.Q6J("params",o.tableParams)("loading",o.common.loading)},dependencies:[y.i]}),n})();var R=i(3360),Q=i(2167),V=i(7074),S=i(67);var $=i(6232),ee=i(2e3),ce=i(6502),_e=i(7610),K=i(5146),W=i(3761);let ge=(()=>{class n{constructor(t,o,c){this.formBuilder=t,this.divisionService=o,this.storeService=c,this.subscription=new d.w0,this.searchEvent=new e.vpe,this.errorEvent=new e.vpe,this.statusDivisionOptions=[{value:"",text:S.s.PLEASE_SELECT}],this.storeOptions=[{value:"",text:S.s.PLEASE_SELECT}],this.hasPanelOpened=!1,this.rotateAnimation="",this.employeeSearchFormGroup=this.formBuilder.group({code:"",store_id:this.storeOptions[0].value,status_division_id:this.statusDivisionOptions[0].value,last_name:"",first_name:"",last_name_kana:"",first_name_kana:"",mail:""})}ngOnInit(){this.statusDivisionApiResponse$=this.divisionService.getAsSelectOptions({name:"\u793e\u54e1\u8868\u793a\u533a\u5206"}),this.storeApiResponse$=this.storeService.getAll(),this.getSelectElOptions()}ngOnDestroy(){this.subscription.unsubscribe()}getSelectElOptions(){this.subscription.add(this.statusDivisionApiResponse$.pipe((0,V.y)(this.storeApiResponse$),(0,M.K)(t=>(0,Z.of)(t))).subscribe({next:t=>{if(t instanceof N.UA)this.errorEvent.emit({status:t.status,title:"\u793e\u54e1\u7d5e\u308a\u8fbc\u307f"+m.yR.TITLE.HAS_ERROR,message:t.error.message});else{let o=!1;"\u793e\u54e1\u8868\u793a\u533a\u5206"in t[0]?t[0]["\u793e\u54e1\u8868\u793a\u533a\u5206"].forEach(c=>{this.statusDivisionOptions.push(c)}):o=!0,t[1]&&t[1].data&&t[1].data.length>0?t[1].data.forEach(c=>{this.storeOptions.push({value:c.id,text:c.name})}):o=!0,o&&this.errorEvent.emit({status:400,title:"\u793e\u54e1\u7d5e\u308a\u8fbc\u307f"+m.yR.TITLE.HAS_ERROR,message:"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002"})}}}))}handleClickClearButton(){Object.values(this.employeeSearchFormGroup.controls).forEach(t=>t.patchValue(""))}handleClickSearchButton(){this.hasPanelOpened?(this.hasPanelOpened=!1,this.rotateAnimation="rotate-animation-0"):(this.hasPanelOpened=!0,this.rotateAnimation="rotate-animation-180")}handleClickSubmitButton(){this.searchEvent.emit(this.employeeSearchFormGroup.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36($.E),e.Y36(ee.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-employee-search-org"]],outputs:{searchEvent:"searchEvent",errorEvent:"errorEvent"},decls:47,vars:19,consts:[[1,"mt-8","mb-4"],["btnType","button",3,"click"],[1,"w-6"],["icon","filter-2-line"],[1,"inline-block","ml-1","mr-2"],[1,"inline-block","w-6"],["icon","arrow-down-s-fill"],["id","employee-search-panel",1,"search-org-panel","bg-white","border","border-slate-100"],[3,"formGroup","ngSubmit"],[1,"flex","items-start","gap-12"],[1,"flex","flex-row","gap-4","grow"],["idAttrValue","status-division-id","nameAttrValue","status_division_id","labelSize","sm",1,"grow",3,"formCtrl","options"],["forAttrValue","status-division-id"],["idAttrValue","store-id","nameAttrValue","store_id","labelSize","sm",1,"grow",3,"formCtrl","options"],["forAttrValue","store-id"],["idAttrValue","code","nameAttrValue","code","labelSize","sm",1,"grow",3,"formCtrl"],["forAttrValue","code"],["inputType","mail","idAttrValue","mail","nameAttrValue","mail","labelSize","sm",1,"grow",3,"formCtrl"],["forAttrValue","mail"],[1,"flex","flex-row","items-center","gap-12","mt-5"],[1,"flex","flex-row","gap-4"],["idAttrValue","last-name","nameAttrValue","last_name","labelSize","sm",3,"formCtrl"],["forAttrValue","last-name"],["idAttrValue","first-name","nameAttrValue","first_name","labelSize","sm",3,"formCtrl"],["forAttrValue","first-name"],["idAttrValue","last-name-kana","nameAttrValue","last_name_kana","labelSize","sm",3,"formCtrl"],["forAttrValue","last-name-kana"],["idAttrValue","first-name-kana","nameAttrValue","first_name_kana","labelSize","sm",3,"formCtrl"],["forAttrValue","first-name-kana"],[1,"mt-10"],[1,"mr-4",3,"click"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success",3,"buttonDisabled"],[1,"mt-2","text-sm","text-red"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"app-button",1),e.NdJ("click",function(){return o.handleClickSearchButton()}),e.TgZ(2,"span",2),e._UZ(3,"app-icon",3),e.qZA(),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._UZ(7,"app-icon",6),e.qZA()()(),e.TgZ(8,"div",7)(9,"form",8),e.NdJ("ngSubmit",function(){return o.handleClickSubmitButton()}),e.TgZ(10,"div",9)(11,"div",10)(12,"app-select-clear-container",11)(13,"span",12),e._uU(14,"\u793e\u54e1\u8868\u793a\u533a\u5206"),e.qZA()(),e.TgZ(15,"app-select-clear-container",13)(16,"span",14),e._uU(17,"\u6240\u5c5e\u5e97\u8217"),e.qZA()()(),e.TgZ(18,"div",10)(19,"app-text-clear-container",15)(20,"span",16),e._uU(21,"\u793e\u54e1\u30b3\u30fc\u30c9"),e.qZA()(),e.TgZ(22,"app-text-clear-container",17)(23,"span",18),e._uU(24,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"app-text-clear-container",21)(28,"span",22),e._uU(29,"\u59d3"),e.qZA()(),e.TgZ(30,"app-text-clear-container",23)(31,"span",24),e._uU(32,"\u540d"),e.qZA()()(),e.TgZ(33,"div",20)(34,"app-text-clear-container",25)(35,"span",26),e._uU(36,"\u30bb\u30a4"),e.qZA()(),e.TgZ(37,"app-text-clear-container",27)(38,"span",28),e._uU(39,"\u30e1\u30a4"),e.qZA()()()(),e.TgZ(40,"div",29)(41,"app-button",30),e.NdJ("click",function(){return o.handleClickClearButton()}),e._uU(42," \u5165\u529b\u5185\u5bb9\u30af\u30ea\u30a2 "),e.qZA(),e.TgZ(43,"app-button",31),e._uU(44," \u7d5e\u308a\u8fbc\u307f\u5b9f\u884c "),e.qZA()(),e.TgZ(45,"p",32),e._uU(46," \u203b \u5165\u529b\u5185\u5bb9\u3092\u30af\u30ea\u30a2\u3057\u305f\u5f8c\u306b\u7d5e\u308a\u8fbc\u307f\u5b9f\u884c\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002 "),e.qZA()()()),2&t&&(e.xp6(5),e.hij(" ",o.hasPanelOpened?"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u975e\u8868\u793a":"\u7d5e\u308a\u8fbc\u307f\u30d5\u30a9\u30fc\u30e0\u8868\u793a"," "),e.xp6(1),e.Tol(o.rotateAnimation),e.xp6(2),e.ekj("is-open",o.hasPanelOpened)("shadow",o.hasPanelOpened),e.xp6(1),e.Q6J("formGroup",o.employeeSearchFormGroup),e.xp6(3),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.status_division_id)("options",o.statusDivisionOptions),e.xp6(3),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.store_id)("options",o.storeOptions),e.xp6(4),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.code),e.xp6(3),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.mail),e.xp6(5),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.last_name),e.xp6(3),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.first_name),e.xp6(4),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.last_name_kana),e.xp6(3),e.Q6J("formCtrl",o.employeeSearchFormGroup.controls.first_name_kana),e.xp6(6),e.Q6J("buttonDisabled",o.employeeSearchFormGroup.invalid||o.employeeSearchFormGroup.pristine))},dependencies:[a._Y,a.JL,a.sg,ce.P,_e.I,K.r,W.o],styles:[".employee-search[_ngcontent-%COMP%]{max-height:0;padding:0 2.5rem;margin:0;transition:max-height .8s,padding .8s,margin .8s ease;overflow:hidden}.employee-search.is-open[_ngcontent-%COMP%]{max-height:100vh;padding:2.5rem;margin:2rem 0}"]}),n})();var G=i(7030);const fe=function(){return{text:"\u793e\u54e1\u4e00\u89a7"}},he=function(n){return[n]};let Ae=(()=>{class n{constructor(t){this.errorService=t,this.parentSearchEvent=new J.x,this.parentTableEvent=new J.x,this.subscription=new d.w0}ngOnInit(){this.subscription.add(this.parentSearchEvent.subscribe(t=>{this.parentTableEvent.next(t)}))}ngOnDestroy(){this.subscription.unsubscribe()}handleError(t){this.errorService.setError({status:t.status,title:t.title,message:t.message})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list"]],decls:11,vars:5,consts:[[3,"breadcrumbList"],[3,"searchEvent","errorEvent"],[1,"flex","items-center","justify-end","my-2"],[1,"mr-8"],["path","/employee/add"],["path","/employee/bulk-add"],[3,"tableEvent","errorEvent"]],template:function(t,o){1&t&&(e._UZ(0,"app-breadcrumb-org",0),e.TgZ(1,"main")(2,"div")(3,"app-employee-search-org",1),e.NdJ("searchEvent",function(p){return o.parentSearchEvent.next(p)})("errorEvent",function(p){return o.handleError(p)}),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3),e._UZ(6,"app-new-registration-link-org",4),e.qZA(),e.TgZ(7,"div"),e._UZ(8,"app-bulk-registration-link-org",5),e.qZA()(),e.TgZ(9,"div")(10,"app-employee-table-org",6),e.NdJ("errorEvent",function(p){return o.handleError(p)}),e.qZA()()()),2&t&&(e.Q6J("breadcrumbList",e.VKq(3,he,e.DdM(2,fe))),e.xp6(10),e.Q6J("tableEvent",o.parentTableEvent))},dependencies:[b,R.S,Q.p,ge,G.Z]}),n})();var z=i(4384),j=i(8782),Ee=i(9586),ve=i(4720),H=i(1805),Ce=i(956);function Te(n,r){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw();e.s9C("src",t.profileImagePath,e.LSH)}}function xe(n,r){if(1&n&&(e.TgZ(0,"li",20)(1,"div",21),e._uU(2),e.qZA(),e.TgZ(3,"div",22),e._uU(4),e.qZA()()),2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",o.logicalNames[t]," "),e.xp6(2),e.hij(" ",o.employee?o.employee[t]:""," ")}}const Fe=function(){return{path:"/employee/list",text:"\u793e\u54e1\u4e00\u89a7"}},ye=function(){return{text:"\u793e\u54e1\u8a73\u7d30"}},Oe=function(n,r){return[n,r]};let Ie=(()=>{class n{constructor(t,o,c,p,T,A,E){this.route=t,this.router=o,this.employeeService=c,this.modalService=p,this.flashMessageService=T,this.errorService=A,this.common=E,this.subscription=new d.w0,this.logicalNames=z.Ws,this.employeeKeys=z.OL,this.selectedId=0}ngOnInit(){this.employeeApiResponse$=this.route.paramMap.pipe((0,q.w)(t=>(this.selectedId=parseInt(t.get("id"),10),this.editPath="/employee/edit/"+this.selectedId,this.employeeService.find(this.selectedId)))),this.getEmployee()}getEmployee(){this.common.loading=!0,this.subscription.add(this.employeeApiResponse$.pipe((0,M.K)(t=>(0,Z.of)(t)),(0,F.x)(()=>this.common.loading=!1)).subscribe(t=>{if(this.common.loading=!1,console.log(t),t instanceof N.UA)this.errorService.setError({status:t.status,title:"\u793e\u54e1\u8a73\u7d30\uff1a"+m.yR.TITLE.HAS_ERROR,message:t.error.message});else if(t.data.length>0){const o=t.data[0];this.profileImagePath=o.image_path?o.image_path:S.s.NO_IMAGE_PATH,this.employee=this.employeeDataGeneration(o),this.lastUpdaterName=this.employee.updated_id}}))}employeeDataGeneration(t){return{barcode:t.barcode?t.barcode:"\u672a\u767b\u9332",code:t.code.toString(),store_id:t.store_name?t.store_name:"\u672a\u767b\u9332",role_id:t.role_name?t.role_name:"\u672a\u767b\u9332",role_name:t.role_name?t.role_name:"\u672a\u767b\u9332",last_name:t.last_name,first_name:t.first_name,last_name_kana:t.last_name_kana,first_name_kana:t.first_name_kana,mail:t.mail,tel:t.tel?t.tel:"\u672a\u767b\u9332",max_discount_rate:t.max_discount_rate?t.max_discount_rate.toString()+"%":"\u672a\u767b\u9332",status_division_id:t.division_status_value?t.division_status_value.toString():"\u672a\u767b\u9332",last_login_at:t.last_login_at?new Date(t.last_login_at).toLocaleString():"\u672a\u767b\u9332",created_at:t.created_at?new Date(t.created_at).toLocaleString():"\u672a\u767b\u9332",created_id:t.employee_created_last_name+" "+t.employee_created_first_name,updated_at:t.updated_at?new Date(t.updated_at).toLocaleString():"\u672a\u767b\u9332",updated_id:t.employee_updated_last_name+" "+t.employee_updated_first_name}}handleClickDelete(){const t="\u793e\u54e1"+m.yR.TITLE.DELETE;this.modalService.setModal(t,m.yR.BODY.DELETE,"danger",m.yR.BUTTON_TITLE.DELETE,m.yR.BUTTON_TITLE.CANCEL),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,u.q)(1),(0,_.h)(c=>this.modalService.getModalProperties().title===t)).subscribe(c=>{c===m.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&(this.common.loading=!0,this.employeeService.remove(this.selectedId).pipe((0,M.K)(p=>(0,Z.of)(p)),(0,F.x)(()=>this.common.loading=!1)).subscribe(p=>{p instanceof N.UA?this.errorService.setError({status:p.status,title:t,message:p.error.message,redirectPath:"/employee/list"}):(this.flashMessageService.setFlashMessage(p.message,"success",15e3),this.router.navigateByUrl("/employee/list"))}))}))}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(g.F0),e.Y36(L.G),e.Y36(f.Z),e.Y36(j.P),e.Y36(h.T),e.Y36(x.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail"]],decls:27,vars:13,consts:[[3,"breadcrumbList"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"flex","flex-row","items-center","gap-6"],["path","/employee/list"],[3,"path"],[1,"cursor-pointer",3,"click"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[1,"mt-8","py-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"mt-1","mb-2","text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-6","flex","flex-row","gap-10"],[1,"max-w-[240px]","w-[240px]"],["alt","\u793e\u54e1\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf","height","240px","width","240px",3,"src",4,"ngIf"],[1,"grow"],[1,"border-t","border-r","border-l","border-t-gray-200","border-r-gray-200","border-l-gray-200","shadow"],["class","flex flex-row items-center border-b border-b-gray-200",4,"ngFor","ngForOf"],["alt","\u793e\u54e1\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf","height","240px","width","240px",3,"src"],[1,"flex","flex-row","items-center","border-b","border-b-gray-200"],[1,"px-2","py-3","bg-slate-100","min-w-[200px]"],[1,"px-2","py-3","border-l","border-l-gray-200","grow"]],template:function(t,o){1&t&&(e._UZ(0,"app-breadcrumb-org",0),e.TgZ(1,"main")(2,"h1",1),e._uU(3,"\u793e\u54e1\u8a73\u7d30"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"app-back-to-link-org",4),e._uU(7,"\u4e00\u89a7\u3078\u623b\u308b"),e.qZA(),e._UZ(8,"app-edit-link-org",5),e.TgZ(9,"div",6),e.NdJ("click",function(){return o.handleClickDelete()}),e._UZ(10,"app-delete-link-org"),e.qZA()(),e.TgZ(11,"div")(12,"app-last-updater-org",7),e._uU(13),e.qZA()()(),e._UZ(14,"hr",8),e.TgZ(15,"div",9)(16,"h2",10),e._uU(17),e.qZA(),e.TgZ(18,"h2",11),e._uU(19),e.qZA(),e._UZ(20,"hr",12),e.TgZ(21,"div",13)(22,"div",14),e.YNc(23,Te,1,1,"img",15),e.qZA(),e.TgZ(24,"div",16)(25,"ul",17),e.YNc(26,xe,5,2,"li",18),e.qZA()()()()()),2&t&&(e.Q6J("breadcrumbList",e.WLB(10,Oe,e.DdM(8,Fe),e.DdM(9,ye))),e.xp6(8),e.Q6J("path",o.editPath),e.xp6(4),e.Q6J("roleTypeName",o.employee?o.employee.role_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d"),e.xp6(1),e.hij(" \u6700\u7d42\u66f4\u65b0\u8005\uff1a",o.lastUpdaterName?o.lastUpdaterName:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),e.xp6(4),e.hij(" ",o.employee?o.employee.last_name+" "+o.employee.first_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),e.xp6(2),e.hij(" ",o.employee?o.employee.last_name_kana+" "+o.employee.first_name_kana:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),e.xp6(4),e.Q6J("ngIf",!o.common.loading),e.xp6(3),e.Q6J("ngForOf",o.employeeKeys))},dependencies:[l.sg,l.O5,Ee.i,ve._,H.R,G.Z,Ce.$]}),n})();var Y=i(5450),D=i(349),ne=i(6888),re=i(1481),ie=i(1451),te=i(5108),le=i(387),ae=i(2195);function Me(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"img",47),e.TgZ(2,"div",48)(3,"p"),e._uU(4,"\u8a2d\u5b9a\u4e2d\u306e\u753b\u50cf"),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.employee.image_path,e.LSH)}}function be(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Me,5,1,"ng-container",46),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.common.loading)}}function Se(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(3),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededFileSizeLimit)}}function De(n,r){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,Se,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.image.errors?null:t.employeeEditForm.controls.image.errors.limitFileSize)}}function Ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",45),e._UZ(1,"img",55),e.TgZ(2,"div",56)(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"app-icon",57),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.handleClickDeleteIcon())}),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH),e.xp6(3),e.Oqu(t.fileName)}}function we(n,r){if(1&n&&e.YNc(0,Ze,6,2,"div",54),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.imageUrl)}}function Ne(n,r){if(1&n&&(e.YNc(0,De,2,1,"div",49),e.YNc(1,we,1,1,"ng-template",null,50,e.W1O)),2&n){const t=e.MAs(2),o=e.oxw();e.Q6J("ngIf",o.employeeEditForm.controls.image.invalid)("ngIfElse",t)}}function Re(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Ue(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Le(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,Re,1,2,"ng-container",52),e.YNc(2,Ue,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.status_division_id.errors?null:t.employeeEditForm.controls.status_division_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.status_division_id.errors?null:t.employeeEditForm.controls.status_division_id.errors.maxlength)}}function ke(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Pe(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Je(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,ke,1,2,"ng-container",52),e.YNc(2,Pe,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.role_id.errors?null:t.employeeEditForm.controls.role_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.role_id.errors?null:t.employeeEditForm.controls.role_id.errors.maxlength)}}function Be(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Qe(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Ve(n,r){if(1&n&&(e.TgZ(0,"div",59),e.YNc(1,Be,1,2,"ng-container",52),e.YNc(2,Qe,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.store_id.errors?null:t.employeeEditForm.controls.store_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.store_id.errors?null:t.employeeEditForm.controls.store_id.errors.notContains)}}function Ge(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Ye(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function qe(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.numericLimitViolation)}}function Ke(n,r){if(1&n&&(e.TgZ(0,"div",59),e.YNc(1,Ge,1,2,"ng-container",52),e.YNc(2,Ye,1,2,"ng-container",52),e.YNc(3,qe,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.code.errors?null:t.employeeEditForm.controls.code.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.code.errors?null:t.employeeEditForm.controls.code.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.code.errors?null:t.employeeEditForm.controls.code.errors.pattern)}}function We(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function ze(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function je(n,r){if(1&n&&(e.TgZ(0,"div",59),e.YNc(1,We,1,2,"ng-container",52),e.YNc(2,ze,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.last_name.errors?null:t.employeeEditForm.controls.last_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.last_name.errors?null:t.employeeEditForm.controls.last_name.errors.maxlength)}}function He(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Xe(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function $e(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,He,1,2,"ng-container",52),e.YNc(2,Xe,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.first_name.errors?null:t.employeeEditForm.controls.first_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.first_name.errors?null:t.employeeEditForm.controls.first_name.errors.maxlength)}}function et(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function tt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function ot(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.fullWidthKatakanaRestrictionViolation)}}function nt(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,et,1,2,"ng-container",52),e.YNc(2,tt,1,2,"ng-container",52),e.YNc(3,ot,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.last_name_kana.errors?null:t.employeeEditForm.controls.last_name_kana.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.last_name_kana.errors?null:t.employeeEditForm.controls.last_name_kana.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.last_name_kana.errors?null:t.employeeEditForm.controls.last_name_kana.errors.pattern)}}function rt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function it(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function lt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.fullWidthKatakanaRestrictionViolation)}}function at(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,rt,1,2,"ng-container",52),e.YNc(2,it,1,2,"ng-container",52),e.YNc(3,lt,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.first_name_kana.errors?null:t.employeeEditForm.controls.first_name_kana.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.first_name_kana.errors?null:t.employeeEditForm.controls.first_name_kana.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.first_name_kana.errors?null:t.employeeEditForm.controls.first_name_kana.errors.pattern)}}function st(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function mt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.emailFormatViolation)}}function dt(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,st,1,2,"ng-container",52),e.YNc(2,mt,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.mail.errors?null:t.employeeEditForm.controls.mail.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.mail.errors?null:t.employeeEditForm.controls.mail.errors.email)}}function ut(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMinLimit)}}function pt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function ct(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.numericLimitViolation)}}function _t(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,ut,1,2,"ng-container",52),e.YNc(2,pt,1,2,"ng-container",52),e.YNc(3,ct,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.tel.errors?null:t.employeeEditForm.controls.tel.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.tel.errors?null:t.employeeEditForm.controls.tel.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.tel.errors?null:t.employeeEditForm.controls.tel.errors.pattern)}}function gt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMinLimit)}}function ft(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function ht(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.numericLimitViolation)}}function At(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,gt,1,2,"ng-container",52),e.YNc(2,ft,1,2,"ng-container",52),e.YNc(3,ht,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.posPasswordGroup.controls.pos_password.errors?null:t.employeeEditForm.controls.posPasswordGroup.controls.pos_password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.posPasswordGroup.controls.pos_password.errors?null:t.employeeEditForm.controls.posPasswordGroup.controls.pos_password.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.posPasswordGroup.controls.pos_password.errors?null:t.employeeEditForm.controls.posPasswordGroup.controls.pos_password.errors.pattern)}}function Et(n,r){1&n&&e.GkF(0)}function vt(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,Et,1,0,"ng-container",60),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(120);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.opponentEnteredRequireItem)}}function Ct(n,r){1&n&&e.GkF(0)}function Tt(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,Ct,1,0,"ng-container",60),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(120);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.passwordMatchViolation)}}function xt(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Ft(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function yt(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,xt,1,2,"ng-container",52),e.YNc(2,Ft,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.barcode.errors?null:t.employeeEditForm.controls.barcode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.barcode.errors?null:t.employeeEditForm.controls.barcode.errors.maxlength)}}function Ot(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function It(n,r){if(1&n&&e.GkF(0,53),2&n){const t=e.oxw(2),o=e.MAs(120);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Mt(n,r){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,Ot,1,2,"ng-container",52),e.YNc(2,It,1,2,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.max_discount_rate.errors?null:t.employeeEditForm.controls.max_discount_rate.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeEditForm.controls.max_discount_rate.errors?null:t.employeeEditForm.controls.max_discount_rate.errors.maxlength)}}function bt(n,r){if(1&n&&(e.TgZ(0,"p",61),e._uU(1),e.qZA()),2&n){const t=r.message;e.xp6(1),e.hij(" ",t," ")}}const St=function(){return{path:"/employee/list",text:"\u793e\u54e1\u4e00\u89a7"}},Dt=function(n){return{path:n,text:"\u793e\u54e1\u8a73\u7d30"}},Zt=function(){return{text:"\u793e\u54e1\u7de8\u96c6"}},wt=function(n,r,t){return[n,r,t]};let Nt=(()=>{class n{constructor(t,o,c,p,T,A,E,C,k,P,B,oe){this.formBuilder=t,this.route=o,this.router=c,this.employeeService=p,this.storeService=T,this.divisionService=A,this.roleService=E,this.errorService=C,this.sanitizer=k,this.modalService=P,this.flashMessageService=B,this.common=oe,this.exceededCharacterMaxLimit={message:s.c.FORM_ERROR.EXCEEDED_CHARACTER_MAX_LIMIT},this.exceededCharacterMinLimit={message:s.c.FORM_ERROR.EXCEEDED_CHARACTER_MIN_LIMIT},this.requiredItem={message:s.c.FORM_ERROR.REQUIRED_ITEM},this.opponentEnteredRequireItem={message:s.c.FORM_ERROR.OPPONENT_ENTERED_REQUIRE_ITEM},this.exceededFileSizeLimit={message:s.c.FORM_ERROR.EXCEEDED_FILE_SIZE_LIMIT},this.fullWidthKatakanaRestrictionViolation={message:s.c.FORM_ERROR.FULL_WIDTH_KATAKANA_RESTRICTION_VIOLATION},this.emailFormatViolation={message:s.c.FORM_ERROR.EMAIL_FORMAT_VIOLATION},this.numericLimitViolation={message:s.c.FORM_ERROR.NUMERIC_LIMIT_VIOLATION},this.passwordMatchViolation={message:s.c.FORM_ERROR.PASSWORD_MATCH_VIOLATION},this.passwordViolation={message:s.c.FORM_ERROR.PASSWORD_FORMAT_VIOLATION},this.subscription=new d.w0,this.maxFileSizeForDisplay=S.s.IMAGE_MAX_FILE_SIZE_FOR_DISPLAY,this.logicalNames=z.lo,this.formInvalid=!0,this.cancelModalTitle="\u793e\u54e1\u7de8\u96c6\uff1a"+m.yR.TITLE.CANCEL,this.employee={id:0,code:0,store_id:0,store_name:"",role_id:0,role_name:"",mail:"",tel:"",last_name:"",first_name:"",last_name_kana:"",first_name_kana:"",password:"",pos_password:"",max_discount_rate:"",barcode:"",oid:"",image_path:"",last_login_at:"",created_at:"",created_id:0,employee_created_last_name:"",employee_created_first_name:"",updated_at:"",updated_id:0,employee_updated_last_name:"",employee_updated_first_name:"",status_division_id:0,division_status_code:"",division_status_name:"",division_status_value:""},this.employeeEditForm=this.formBuilder.group({image:[null,[this.limitFileSizeValidator()]],status_division_id:[this.employee.status_division_id,[a.kI.required]],role_id:[this.employee.role_id,[a.kI.required]],store_id:[this.employee.store_id,[a.kI.required]],code:[this.employee.code,[a.kI.required,a.kI.maxLength(4),a.kI.pattern(D.m.NUMERIC_REG_EX)]],last_name:[this.employee.last_name,[a.kI.required,a.kI.maxLength(10)]],first_name:[this.employee.first_name,[a.kI.required,a.kI.maxLength(10)]],last_name_kana:[this.employee.last_name_kana,[a.kI.required,a.kI.maxLength(7),a.kI.pattern(D.m.FULL_WIDTH_KATAKANA_REG_EX)]],first_name_kana:[this.employee.first_name_kana,[a.kI.required,a.kI.maxLength(7),a.kI.pattern(D.m.FULL_WIDTH_KATAKANA_REG_EX)]],mail:[this.employee.mail,[a.kI.required,a.kI.email]],tel:[this.employee.tel,[a.kI.minLength(10),a.kI.maxLength(14),a.kI.pattern(D.m.NUMERIC_REG_EX)]],posPasswordGroup:this.formBuilder.group({pos_password:["",[a.kI.minLength(4),a.kI.maxLength(7),a.kI.pattern(D.m.NUMERIC_REG_EX)]],confirm_pos_password:""},{validators:[Y.d.compareValidator("pos_password","confirm_pos_password"),Y.d.opponentEnteredRequireValidator("pos_password","confirm_pos_password")]}),barcode:[this.employee.barcode,[a.kI.maxLength(4),a.kI.pattern(D.m.NUMERIC_REG_EX)]],max_discount_rate:[this.employee.max_discount_rate]})}limitFileSizeValidator(){return t=>{const o=t.value;return o?.size&&o?.size>S.s.IMAGE_MAX_FILE_SIZE?(this.employeeEditForm.controls.image.setValue(null),{limitFileSize:{errorMessage:this.exceededFileSizeLimit}}):null}}formControlStateManager(t){return(t.touched||t.dirty)&&t.invalid}handleError(t,o){this.errorService.setError({status:t,title:"\u793e\u54e1\u7de8\u96c6\u30a8\u30e9\u30fc\uff1a"+m.yR.TITLE.HAS_ERROR,message:o})}checkNullOrEmpty(t){return!(null==t||null===t.data||!Array.isArray(t.data)||!t.data.length)}getDisplayData(){this.common.loading=!0,this.subscription.add(this.employeeService.find(this.selectedId).pipe((0,V.y)(this.divisionService.getAsSelectOptions({name:"\u793e\u54e1\u8868\u793a\u533a\u5206"}),this.storeService.getAll(),this.roleService.getAll()),(0,M.K)(t=>(0,Z.of)(t)),(0,F.x)(()=>this.common.loading=!1)).subscribe(t=>{if(this.common.loading=!1,t instanceof N.UA)this.handleError(t.status,t.error.message);else if(4===t.length){const o=t[0];if(!this.checkNullOrEmpty(o))return void this.handleError(400,s.c.COULD_NOT_GET_DATA);this.employee=o.data[0],this.lastUpdaterName=`${this.employee.employee_updated_last_name}\u3000${this.employee.employee_updated_first_name}`;const p=t[1];if(null==p||null==p["\u793e\u54e1\u8868\u793a\u533a\u5206"])return void this.handleError(400,s.c.COULD_NOT_GET_DATA);this.statusDivisionOptions=p["\u793e\u54e1\u8868\u793a\u533a\u5206"];const T=t[2];if(!this.checkNullOrEmpty(T))return void this.handleError(400,"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002");{const k=[];T.data.forEach(P=>{k.push({value:P.id,text:P.name})}),this.storeOptions=k}const E=t[3];if(this.checkNullOrEmpty(E)){const k=[];E.data.forEach(P=>{k.push({value:P.id,text:P.name})}),this.roleOptions=k}else this.handleError(400,"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002");this.employeeEditForm.patchValue(this.employee)}else this.handleError(400,s.c.COULD_NOT_GET_DATA)}))}checkFormDefaultValueChanged(t){const o={image:null,status_division_id:this.employee.status_division_id.toString(),role_id:this.employee.role_id.toString(),store_id:this.employee.store_id.toString(),code:this.employee.code.toString(),last_name:this.employee.last_name,first_name:this.employee.first_name,last_name_kana:this.employee.last_name_kana,first_name_kana:this.employee.first_name_kana,mail:this.employee.mail,tel:this.employee.tel?.toString(),posPasswordGroup:{pos_password:void 0===this.employee.password?"":this.employee.password,confirm_pos_password:""},barcode:this.employee.barcode?.toString(),max_discount_rate:this.employee.max_discount_rate?.toString()};t.status_division_id=t.status_division_id.toString(),t.role_id=t.role_id.toString(),t.store_id=t.store_id.toString(),t.code=t.code.toString(),t.tel=t.tel.toString(),t.barcode=t.barcode.toString(),t.max_discount_rate=t.max_discount_rate.toString();const c=JSON.stringify(t),p=JSON.stringify(o);this.formInvalid=c===p}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");(null===t||isNaN(Number(t)))&&this.router.navigateByUrl("/employee/list"),this.selectedId=Number(t),this.detailPath="/employee/detail/"+this.selectedId,this.subscription.add(this.employeeEditForm.controls.image.valueChanges.subscribe(o=>{this.updatePreviewElements(o)})),this.subscription.add(this.employeeEditForm.valueChanges.subscribe(o=>{this.checkFormDefaultValueChanged(o)})),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,_.h)(o=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(o=>{o===m.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl(this.detailPath)})),this.getDisplayData()}handleClickCancel(){this.formInvalid?this.router.navigateByUrl(this.detailPath):this.modalService.setModal(this.cancelModalTitle,m.yR.BODY.CANCEL,"warning",m.yR.BUTTON_TITLE.EXECUTION,m.yR.BUTTON_TITLE.CANCEL)}handleClickClearButton(){this.employeeEditForm.reset(this.employee),this.employeeEditForm.patchValue(this.employee),this.employeeEditForm.controls.posPasswordGroup.controls.pos_password.setValue(this.employee.pos_password?this.employee.pos_password:""),this.employeeEditForm.controls.posPasswordGroup.controls.confirm_pos_password.setValue("")}handleClickSaveButton(){this.common.loading=!0;const t=this.employeeEditForm.value,o={image:t.image,status_division_id:t.status_division_id,role_id:t.role_id,store_id:t.store_id,code:t.code,last_name:t.last_name,first_name:t.first_name,last_name_kana:t.last_name_kana,first_name_kana:t.first_name_kana,mail:t.mail,tel:t.tel,pos_password:t.posPasswordGroup?.pos_password,barcode:t.barcode,max_discount_rate:t.max_discount_rate};return this.storeOptions.some(A=>Number(A.value)===Number(o.store_id))?this.roleOptions.some(A=>Number(A.value)===Number(o.role_id))?this.statusDivisionOptions.some(A=>Number(A.value)===Number(o.status_division_id))?(this.formInvalid=!0,void this.subscription.add(this.employeeService.update(this.selectedId,o).pipe((0,M.K)(A=>(0,Z.of)(A.error)),(0,F.x)(()=>this.common.loading=!1)).subscribe(A=>{this.common.loading=!1,A instanceof N.UA?this.handleError(A.status,A.error.message):(this.flashMessageService.setFlashMessage(A.message,"success",15e3),this.router.navigateByUrl(this.detailPath))}))):(this.employeeEditForm.controls.status_division_id.setValue(null),this.formInvalid=!0,void(this.common.loading=!1)):(this.employeeEditForm.controls.role_id.setValue(null),this.formInvalid=!0,void(this.common.loading=!1)):(this.employeeEditForm.controls.store_id.setValue(null),this.formInvalid=!0,void(this.common.loading=!1))}handleClickDeleteIcon(){this.employeeEditForm.controls.image.setValue(null),this.employeeEditForm.patchValue(this.employee)}updatePreviewElements(t){if(t){const o=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(t));this.imageUrl=o,this.fileName=t.name,this.formInvalid=!1}else this.imageUrl=void 0,this.fileName=void 0,this.formInvalid=!0}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(g.gz),e.Y36(g.F0),e.Y36(L.G),e.Y36(ee.d),e.Y36($.E),e.Y36(ne.N),e.Y36(h.T),e.Y36(re.H7),e.Y36(f.Z),e.Y36(j.P),e.Y36(x.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit"]],decls:121,vars:76,consts:[[3,"breadcrumbList"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[3,"formGroup","ngSubmit"],[1,"mt-8","mb-24","pt-8","pb-20","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-6","flex","flex-row","gap-10"],[1,"max-w-[300px]","w-[300px]"],[1,"px-2","pb-2"],[1,"text-sm"],["text","\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\u5909\u66f4","accept","image/png, image/jpeg",3,"formCtrl"],["class","mt-4",4,"ngIf","ngIfElse"],["selectedImage",""],[1,"grow"],[1,"p-6","border-t","border-r","border-l","border-t-gray-200","border-r-gray-200","border-l-gray-200","shadow"],[1,"flex","flex-row","gap-4"],["nameAttrValue","status_division_id","idAttrValue","status-division-id",1,"w-1/4",3,"formCtrl","options","invalid"],[1,"flex","flex-row","items-center"],[1,"inline-block","mr-2"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1","message","",4,"ngIf"],["nameAttrValue","role_id","idAttrValue","role-id",1,"w-1/4",3,"formCtrl","options","invalid"],["nameAttrValue","store_id","idAttrValue","store-id",1,"w-1/4",3,"formCtrl","options","invalid"],["class","mt-1 pl-1 text-sm","message","",4,"ngIf"],["inputType","text","nameAttrValue","code","idAttrValue","code",1,"w-1/4",3,"formCtrl","invalid"],[1,"mt-6","flex","flex-row","gap-4"],["inputType","text","nameAttrValue","last_name","idAttrValue","last-name",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","first_name","idAttrValue","first-name",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","last_name_kana","idAttrValue","last-name-kana",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","first_name_kana","idAttrValue","first-name-kana",1,"w-1/2",3,"formCtrl","invalid"],["inputType","mail","nameAttrValue","mail","idAttrValue","mail",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","tel","idAttrValue","tel",1,"w-1/2",3,"formCtrl","invalid"],["inputType","password","nameAttrValue","pos_password","idAttrValue","pos-password",1,"w-1/2",3,"formCtrl","invalid"],["inputType","password","nameAttrValue","confirm_pos_password","idAttrValue","confirm-pos-password",1,"w-1/2",3,"formCtrl","invalid"],[1,"mt-1","pl-1","text-sm","text-primary"],["inputType","number","nameAttrValue","barcode","idAttrValue","barcode",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","max_discount_rate","idAttrValue","max_discount_rate",1,"w-1/2",3,"formCtrl","invalid"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","left-0","right-0","p-2","fixed","gap-8"],["btnType","button",3,"click"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success",3,"buttonDisabled"],["em",""],[1,"mt-4"],[4,"ngIf"],[1,"border","border-gray-200","shadow","rounded-md",3,"src"],[1,"mt-2","text-center"],["class","mt-2 text-sm text-danger",4,"ngIf","ngIfElse"],["correctImage",""],[1,"mt-2","text-sm","text-danger"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mt-4",4,"ngIf"],["alt","\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u753b\u50cf",1,"border","border-gray-200","shadow","rounded-md",3,"src"],[1,"flex","flex-row","items-center","mt-2"],["icon","delete-bin-line",1,"w-6","cursor-pointer","ml-2","fill-red-500",3,"click"],["message","",1,"mt-1","pl-1"],["message","",1,"mt-1","pl-1","text-sm"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-sm","text-red"]],template:function(t,o){if(1&t&&(e._UZ(0,"app-breadcrumb-org",0),e.TgZ(1,"main")(2,"h1",1),e._uU(3,"\u793e\u54e1\u7de8\u96c6"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e.NdJ("click",function(){return o.handleClickCancel()}),e._UZ(6,"app-cancel-link-org"),e.qZA(),e.TgZ(7,"div")(8,"app-last-updater-org",4),e._uU(9),e.qZA()()(),e._UZ(10,"hr",5),e.TgZ(11,"form",6),e.NdJ("ngSubmit",function(){return o.handleClickSaveButton()}),e.TgZ(12,"div",7)(13,"h2",8),e._uU(14,"\u793e\u54e1\u60c5\u5831\u5165\u529b"),e.qZA(),e._UZ(15,"hr",9),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"p",13),e._uU(20),e.qZA(),e._UZ(21,"app-file",14),e.YNc(22,be,2,1,"div",15),e.YNc(23,Ne,3,2,"ng-template",null,16,e.W1O),e.qZA()(),e.TgZ(25,"div",17)(26,"div",18)(27,"div",19)(28,"app-select-container",20)(29,"div",21)(30,"span",22),e._uU(31),e.qZA(),e.TgZ(32,"span",23),e._uU(33,"\u5fc5\u9808"),e.qZA()(),e.YNc(34,Le,3,2,"div",24),e.qZA(),e.TgZ(35,"app-select-container",25)(36,"div",21)(37,"span",22),e._uU(38),e.qZA(),e.TgZ(39,"span",23),e._uU(40,"\u5fc5\u9808"),e.qZA()(),e.YNc(41,Je,3,2,"div",24),e.qZA(),e.TgZ(42,"app-select-container",26)(43,"div",21)(44,"span",22),e._uU(45),e.qZA(),e.TgZ(46,"span",23),e._uU(47,"\u5fc5\u9808"),e.qZA()(),e.YNc(48,Ve,3,2,"div",27),e.qZA(),e.TgZ(49,"app-text-container",28)(50,"span",22),e._uU(51),e.qZA(),e.TgZ(52,"span",23),e._uU(53,"\u5fc5\u9808"),e.qZA(),e.YNc(54,Ke,4,3,"div",27),e.qZA()(),e.TgZ(55,"div",29)(56,"app-text-container",30)(57,"div",21)(58,"span",22),e._uU(59),e.qZA(),e.TgZ(60,"span",23),e._uU(61,"\u5fc5\u9808"),e.qZA()(),e.YNc(62,je,3,2,"div",27),e.qZA(),e.TgZ(63,"app-text-container",31)(64,"div",21)(65,"span",22),e._uU(66),e.qZA(),e.TgZ(67,"span",23),e._uU(68,"\u5fc5\u9808"),e.qZA()(),e.YNc(69,$e,3,2,"div",24),e.qZA()(),e.TgZ(70,"div",29)(71,"app-text-container",32)(72,"div",21)(73,"span",22),e._uU(74),e.qZA(),e.TgZ(75,"span",23),e._uU(76,"\u5fc5\u9808"),e.qZA()(),e.YNc(77,nt,4,3,"div",24),e.qZA(),e.TgZ(78,"app-text-container",33)(79,"div",21)(80,"span",22),e._uU(81),e.qZA(),e.TgZ(82,"span",23),e._uU(83,"\u5fc5\u9808"),e.qZA()(),e.YNc(84,at,4,3,"div",24),e.qZA()(),e.TgZ(85,"div",29)(86,"app-text-container",34)(87,"div",21)(88,"span",22),e._uU(89),e.qZA(),e.TgZ(90,"span",23),e._uU(91,"\u5fc5\u9808"),e.qZA()(),e.YNc(92,dt,3,2,"div",24),e.qZA(),e.TgZ(93,"app-text-container",35),e._uU(94),e.YNc(95,_t,4,3,"div",24),e.qZA()(),e.TgZ(96,"div",29)(97,"app-text-container",36),e._uU(98),e.YNc(99,At,4,3,"div",24),e.qZA(),e.TgZ(100,"app-text-container",37),e._uU(101," POS\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\u7528\uff09 "),e.YNc(102,vt,2,2,"div",24),e.YNc(103,Tt,2,2,"div",24),e.qZA()(),e.TgZ(104,"p",38),e._uU(105,"\u203b \u534a\u89d2\u6570\u5b574~7\u6587\u5b57"),e.qZA(),e.TgZ(106,"div",29)(107,"app-text-container",39)(108,"span",22),e._uU(109),e.qZA(),e.YNc(110,yt,3,2,"div",24),e.qZA(),e.TgZ(111,"app-text-container",40),e._uU(112),e.YNc(113,Mt,3,2,"div",24),e.qZA()()()()()(),e.TgZ(114,"div",41)(115,"app-button",42),e.NdJ("click",function(){return o.handleClickClearButton()}),e._uU(116,"\u30af\u30ea\u30a2"),e.qZA(),e.TgZ(117,"app-button",43),e._uU(118,"\u4fdd\u5b58"),e.qZA()()()(),e.YNc(119,bt,2,1,"ng-template",null,44,e.W1O)),2&t){const c=e.MAs(24);e.Q6J("breadcrumbList",e.kEZ(72,wt,e.DdM(68,St),e.VKq(69,Dt,"/employee/detail/"+o.selectedId),e.DdM(71,Zt))),e.xp6(8),e.Q6J("roleTypeName",o.employee?o.employee.role_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d"),e.xp6(1),e.hij(" \u6700\u7d42\u66f4\u65b0\u8005\uff1a",o.lastUpdaterName?o.lastUpdaterName:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),e.xp6(2),e.Q6J("formGroup",o.employeeEditForm),e.xp6(9),e.hij(" \u203b \u753b\u50cf\u306e\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306f\u6700\u5927",o.maxFileSizeForDisplay,"M\u30d0\u30a4\u30c8 "),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.image),e.xp6(1),e.Q6J("ngIf",void 0!==o.employee.image_path&&""!==o.employee.image_path&&void 0===o.imageUrl)("ngIfElse",c),e.xp6(6),e.Q6J("formCtrl",o.employeeEditForm.controls.status_division_id)("options",o.statusDivisionOptions)("invalid",o.formControlStateManager(o.employeeEditForm.controls.status_division_id)),e.xp6(3),e.Oqu(o.logicalNames.status_division_id),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.status_division_id)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.role_id)("options",o.roleOptions)("invalid",o.formControlStateManager(o.employeeEditForm.controls.role_id)),e.xp6(3),e.Oqu(o.logicalNames.role_id),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.role_id)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.store_id)("options",o.storeOptions)("invalid",o.formControlStateManager(o.employeeEditForm.controls.store_id)||(null==o.employeeEditForm.controls.store_id.errors?null:o.employeeEditForm.controls.store_id.errors.notContains)),e.xp6(3),e.Oqu(o.logicalNames.store_id),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.store_id)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.code)("invalid",o.formControlStateManager(o.employeeEditForm.controls.code)),e.xp6(2),e.Oqu(o.logicalNames.code),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.code)),e.xp6(2),e.Q6J("formCtrl",o.employeeEditForm.controls.last_name)("invalid",o.formControlStateManager(o.employeeEditForm.controls.last_name)),e.xp6(3),e.hij("",o.logicalNames.last_name,"\uff0810\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.last_name)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.first_name)("invalid",o.formControlStateManager(o.employeeEditForm.controls.first_name)),e.xp6(3),e.hij("",o.logicalNames.first_name,"\uff0810\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.first_name)),e.xp6(2),e.Q6J("formCtrl",o.employeeEditForm.controls.last_name_kana)("invalid",o.formControlStateManager(o.employeeEditForm.controls.last_name_kana)),e.xp6(3),e.hij("",o.logicalNames.last_name_kana,"\uff08\u5168\u89d2\u30ab\u30ca7\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.last_name_kana)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.first_name_kana)("invalid",o.formControlStateManager(o.employeeEditForm.controls.first_name_kana)),e.xp6(3),e.hij("",o.logicalNames.first_name_kana,"\uff08\u5168\u89d2\u30ab\u30ca7\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.first_name_kana)),e.xp6(2),e.Q6J("formCtrl",o.employeeEditForm.controls.mail)("invalid",o.formControlStateManager(o.employeeEditForm.controls.mail)),e.xp6(3),e.Oqu(o.logicalNames.mail),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.mail)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.tel)("invalid",o.formControlStateManager(o.employeeEditForm.controls.tel)),e.xp6(1),e.hij(" ",o.logicalNames.tel,"\uff08\u534a\u89d2\u6570\u5b5710~14\u6587\u5b57\uff09 "),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.tel)),e.xp6(2),e.Q6J("formCtrl",o.employeeEditForm.controls.posPasswordGroup.controls.pos_password)("invalid",o.formControlStateManager(o.employeeEditForm.controls.posPasswordGroup.controls.pos_password)),e.xp6(1),e.hij(" ",o.logicalNames.pos_password," "),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.posPasswordGroup.controls.pos_password)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.posPasswordGroup.controls.confirm_pos_password)("invalid",o.formControlStateManager(o.employeeEditForm.controls.posPasswordGroup.controls.confirm_pos_password)||(null==o.employeeEditForm.controls.posPasswordGroup.errors?null:o.employeeEditForm.controls.posPasswordGroup.errors.isRequired)||(null==o.employeeEditForm.controls.posPasswordGroup.errors?null:o.employeeEditForm.controls.posPasswordGroup.errors.isPasswordSame)),e.xp6(2),e.Q6J("ngIf",null==o.employeeEditForm.controls.posPasswordGroup.errors?null:o.employeeEditForm.controls.posPasswordGroup.errors.isRequired),e.xp6(1),e.Q6J("ngIf",null==o.employeeEditForm.controls.posPasswordGroup.errors?null:o.employeeEditForm.controls.posPasswordGroup.errors.isPasswordSame),e.xp6(4),e.Q6J("formCtrl",o.employeeEditForm.controls.barcode)("invalid",o.formControlStateManager(o.employeeEditForm.controls.barcode)),e.xp6(2),e.Oqu(o.logicalNames.barcode),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.barcode)),e.xp6(1),e.Q6J("formCtrl",o.employeeEditForm.controls.max_discount_rate)("invalid",o.formControlStateManager(o.employeeEditForm.controls.max_discount_rate)),e.xp6(1),e.hij(" ",o.logicalNames.max_discount_rate," "),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeEditForm.controls.max_discount_rate)),e.xp6(4),e.Q6J("buttonDisabled",o.employeeEditForm.invalid||o.formInvalid)}},dependencies:[l.O5,l.tP,a._Y,a.JL,a.sg,H.R,G.Z,W.o,K.r,ie.d,te.P,le.K,ae.O]}),n})();var se=i(1269);function Rt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededFileSizeLimit)}}function Ut(n,r){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,Rt,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.image.errors?null:t.employeeAddForm.controls.image.errors.limitFileSize)}}function Lt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",51),e._UZ(1,"img",52),e.TgZ(2,"div",53)(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"app-icon",54),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.handleClickDeleteIcon())}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH),e.xp6(3),e.Oqu(t.fileName)}}function kt(n,r){if(1&n&&e.YNc(0,Lt,6,2,"div",50),2&n){const t=e.oxw();e.Q6J("ngIf",t.imageUrl)}}function Pt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Jt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Bt(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Pt,1,2,"ng-container",48),e.YNc(2,Jt,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.status_division_id.errors?null:t.employeeAddForm.controls.status_division_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.status_division_id.errors?null:t.employeeAddForm.controls.status_division_id.errors.maxlength)}}function Qt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Vt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Gt(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Qt,1,2,"ng-container",48),e.YNc(2,Vt,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.role_id.errors?null:t.employeeAddForm.controls.role_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.role_id.errors?null:t.employeeAddForm.controls.role_id.errors.maxlength)}}function Yt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function qt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Kt(n,r){if(1&n&&(e.TgZ(0,"div",56),e.YNc(1,Yt,1,2,"ng-container",48),e.YNc(2,qt,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.store_id.errors?null:t.employeeAddForm.controls.store_id.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.store_id.errors?null:t.employeeAddForm.controls.store_id.errors.notContains)}}function Wt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function zt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function jt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.numericLimitViolation)}}function Ht(n,r){if(1&n&&(e.TgZ(0,"div",56),e.YNc(1,Wt,1,2,"ng-container",48),e.YNc(2,zt,1,2,"ng-container",48),e.YNc(3,jt,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.code.errors?null:t.employeeAddForm.controls.code.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.code.errors?null:t.employeeAddForm.controls.code.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.code.errors?null:t.employeeAddForm.controls.code.errors.pattern)}}function Xt(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function $t(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function eo(n,r){if(1&n&&(e.TgZ(0,"div",56),e.YNc(1,Xt,1,2,"ng-container",48),e.YNc(2,$t,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.last_name.errors?null:t.employeeAddForm.controls.last_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.last_name.errors?null:t.employeeAddForm.controls.last_name.errors.maxlength)}}function to(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function oo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function no(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,to,1,2,"ng-container",48),e.YNc(2,oo,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.first_name.errors?null:t.employeeAddForm.controls.first_name.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.first_name.errors?null:t.employeeAddForm.controls.first_name.errors.maxlength)}}function ro(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function io(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function lo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.fullWidthKatakanaRestrictionViolation)}}function ao(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,ro,1,2,"ng-container",48),e.YNc(2,io,1,2,"ng-container",48),e.YNc(3,lo,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.last_name_kana.errors?null:t.employeeAddForm.controls.last_name_kana.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.last_name_kana.errors?null:t.employeeAddForm.controls.last_name_kana.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.last_name_kana.errors?null:t.employeeAddForm.controls.last_name_kana.errors.pattern)}}function so(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function mo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function uo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.fullWidthKatakanaRestrictionViolation)}}function po(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,so,1,2,"ng-container",48),e.YNc(2,mo,1,2,"ng-container",48),e.YNc(3,uo,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.first_name_kana.errors?null:t.employeeAddForm.controls.first_name_kana.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.first_name_kana.errors?null:t.employeeAddForm.controls.first_name_kana.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.first_name_kana.errors?null:t.employeeAddForm.controls.first_name_kana.errors.pattern)}}function co(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function _o(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.emailFormatViolation)}}function go(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,co,1,2,"ng-container",48),e.YNc(2,_o,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.mail.errors?null:t.employeeAddForm.controls.mail.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.mail.errors?null:t.employeeAddForm.controls.mail.errors.email)}}function fo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMinLimit)}}function ho(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Ao(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.numericLimitViolation)}}function Eo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,fo,1,2,"ng-container",48),e.YNc(2,ho,1,2,"ng-container",48),e.YNc(3,Ao,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.tel.errors?null:t.employeeAddForm.controls.tel.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.tel.errors?null:t.employeeAddForm.controls.tel.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.tel.errors?null:t.employeeAddForm.controls.tel.errors.pattern)}}function vo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Co(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMinLimit)}}function To(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function xo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.passwordViolation)}}function Fo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,vo,1,2,"ng-container",48),e.YNc(2,Co,1,2,"ng-container",48),e.YNc(3,To,1,2,"ng-container",48),e.YNc(4,xo,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.passwordGroup.controls.password.errors?null:t.employeeAddForm.controls.passwordGroup.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.passwordGroup.controls.password.errors?null:t.employeeAddForm.controls.passwordGroup.controls.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.passwordGroup.controls.password.errors?null:t.employeeAddForm.controls.passwordGroup.controls.password.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.passwordGroup.controls.password.errors?null:t.employeeAddForm.controls.passwordGroup.controls.password.errors.pattern)}}function yo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Oo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,yo,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.passwordGroup.controls.confirm_password.errors?null:t.employeeAddForm.controls.passwordGroup.controls.confirm_password.errors.required)}}function Io(n,r){1&n&&e.GkF(0)}function Mo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Io,1,0,"ng-container",57),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(138);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.passwordMatchViolation)}}function bo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMinLimit)}}function So(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Do(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.numericLimitViolation)}}function Zo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,bo,1,2,"ng-container",48),e.YNc(2,So,1,2,"ng-container",48),e.YNc(3,Do,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.posPasswordGroup.controls.pos_password.errors?null:t.employeeAddForm.controls.posPasswordGroup.controls.pos_password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.posPasswordGroup.controls.pos_password.errors?null:t.employeeAddForm.controls.posPasswordGroup.controls.pos_password.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.posPasswordGroup.controls.pos_password.errors?null:t.employeeAddForm.controls.posPasswordGroup.controls.pos_password.errors.pattern)}}function wo(n,r){1&n&&e.GkF(0)}function No(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,wo,1,0,"ng-container",57),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(138);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.opponentEnteredRequireItem)}}function Ro(n,r){1&n&&e.GkF(0)}function Uo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Ro,1,0,"ng-container",57),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(138);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.passwordMatchViolation)}}function Lo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function ko(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.exceededCharacterMaxLimit)}}function Po(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Lo,1,2,"ng-container",48),e.YNc(2,ko,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.barcode.errors?null:t.employeeAddForm.controls.barcode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.barcode.errors?null:t.employeeAddForm.controls.barcode.errors.maxlength)}}function Jo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Bo(n,r){if(1&n&&e.GkF(0,49),2&n){const t=e.oxw(2),o=e.MAs(138);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.requiredItem)}}function Qo(n,r){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Jo,1,2,"ng-container",48),e.YNc(2,Bo,1,2,"ng-container",48),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.max_discount_rate.errors?null:t.employeeAddForm.controls.max_discount_rate.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.employeeAddForm.controls.max_discount_rate.errors?null:t.employeeAddForm.controls.max_discount_rate.errors.maxlength)}}function Vo(n,r){if(1&n&&(e.TgZ(0,"p",58),e._uU(1),e.qZA()),2&n){const t=r.message;e.xp6(1),e.hij(" ",t," ")}}const Go=function(){return{path:"/employee/list",text:"\u793e\u54e1\u4e00\u89a7"}},Yo=function(){return{text:"\u793e\u54e1\u65b0\u898f\u767b\u9332"}},qo=function(n,r){return[n,r]};let Ko=(()=>{class n{constructor(t,o,c,p,T,A,E,C,k,P,B,oe){this.formBuilder=t,this.employeeService=o,this.sanitizer=c,this.modalService=p,this.router=T,this.divisionService=A,this.storeService=E,this.roleService=C,this.authorService=k,this.errorService=P,this.flashMessageService=B,this.common=oe,this.exceededCharacterMaxLimit={message:s.c.FORM_ERROR.EXCEEDED_CHARACTER_MAX_LIMIT},this.exceededCharacterMinLimit={message:s.c.FORM_ERROR.EXCEEDED_CHARACTER_MIN_LIMIT},this.requiredItem={message:s.c.FORM_ERROR.REQUIRED_ITEM},this.opponentEnteredRequireItem={message:s.c.FORM_ERROR.OPPONENT_ENTERED_REQUIRE_ITEM},this.exceededFileSizeLimit={message:s.c.FORM_ERROR.EXCEEDED_FILE_SIZE_LIMIT},this.fullWidthKatakanaRestrictionViolation={message:s.c.FORM_ERROR.FULL_WIDTH_KATAKANA_RESTRICTION_VIOLATION},this.emailFormatViolation={message:s.c.FORM_ERROR.EMAIL_FORMAT_VIOLATION},this.numericLimitViolation={message:s.c.FORM_ERROR.NUMERIC_LIMIT_VIOLATION},this.passwordMatchViolation={message:s.c.FORM_ERROR.PASSWORD_MATCH_VIOLATION},this.passwordViolation={message:s.c.FORM_ERROR.PASSWORD_FORMAT_VIOLATION},this.subscription=new d.w0,this.logicalNames=z.lo,this.cancelModalTitle="\u793e\u54e1\u767b\u9332\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+m.yR.TITLE.CANCEL,this.maxFileSizeForDisplay=S.s.IMAGE_MAX_FILE_SIZE_FOR_DISPLAY,this.roleOptions=[{value:"",text:S.s.PLEASE_SELECT}],this.statusDivisionOptions=[{value:"",text:S.s.PLEASE_SELECT}],this.storeOptions=[{value:"",text:S.s.PLEASE_SELECT}],this.employeeAddForm=this.formBuilder.group({image:[null,[this.limitFileSizeValidator()]],status_division_id:[this.statusDivisionOptions[0].value,[a.kI.required]],role_id:[this.roleOptions[0].value,[a.kI.required]],store_id:[this.storeOptions[0].value,[a.kI.required]],code:["",[a.kI.required,a.kI.maxLength(4),a.kI.pattern(D.m.NUMERIC_REG_EX)]],last_name:["",[a.kI.required,a.kI.maxLength(10)]],first_name:["",[a.kI.required,a.kI.maxLength(10)]],last_name_kana:["",[a.kI.required,a.kI.maxLength(7),a.kI.pattern(D.m.FULL_WIDTH_KATAKANA_REG_EX)]],first_name_kana:["",[a.kI.required,a.kI.maxLength(7),a.kI.pattern(D.m.FULL_WIDTH_KATAKANA_REG_EX)]],mail:["",[a.kI.required,a.kI.email]],tel:["",[a.kI.minLength(10),a.kI.maxLength(14),a.kI.pattern(D.m.NUMERIC_REG_EX)]],passwordGroup:this.formBuilder.group({password:["",[a.kI.required,a.kI.minLength(8),a.kI.maxLength(24),a.kI.pattern(D.m.PASSWORD_REG_EX)]],confirm_password:["",[a.kI.required]]},{validators:[Y.d.compareValidator("password","confirm_password")]}),posPasswordGroup:this.formBuilder.group({pos_password:["",[a.kI.minLength(4),a.kI.maxLength(7),a.kI.pattern(D.m.NUMERIC_REG_EX)]],confirm_pos_password:""},{validators:[Y.d.compareValidator("pos_password","confirm_pos_password"),Y.d.opponentEnteredRequireValidator("pos_password","confirm_pos_password")]}),barcode:["",[a.kI.maxLength(4),a.kI.pattern(D.m.NUMERIC_REG_EX)]],max_discount_rate:0})}limitFileSizeValidator(){return t=>{const o=t.value;return o?.size&&o?.size>S.s.IMAGE_MAX_FILE_SIZE?(this.employeeAddForm.controls.image.setValue(null),{limitFileSize:{errorMessage:this.exceededFileSizeLimit}}):null}}formControlStateManager(t){return(t.touched||t.dirty)&&t.invalid}ngOnInit(){this.subscription.add(this.employeeAddForm.controls.image.valueChanges.subscribe(t=>{this.updatePreviewElements(t)})),this.authorService.author?this.author=this.authorService.author:this.subscription.add(this.authorService.author$.subscribe(t=>{this.author=t})),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,_.h)(t=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(t=>{t===m.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl("/employee/list")})),this.getOptions()}checkNullOrEmpty(t){return!(null==t||null===t.data||!Array.isArray(t.data)||!t.data.length)}getOptions(){this.common.loading=!0,this.subscription.add(this.storeService.getAll().pipe((0,V.y)(this.divisionService.getAsSelectOptions({name:"\u793e\u54e1\u8868\u793a\u533a\u5206"}),this.roleService.getAll()),(0,M.K)(t=>(0,Z.of)(t)),(0,F.x)(()=>this.common.loading=!1)).subscribe(t=>{if(t instanceof N.UA)this.handleError(t.status,t.error.message);else if(t&&Array.isArray(t)&&3===t.length){const o=t[0];if(!this.checkNullOrEmpty(o))return void this.handleError(400,"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002");o.data.forEach(E=>{this.storeOptions.push({value:E.id,text:E.name})});const p=t[1];if(null==p||null==p["\u793e\u54e1\u8868\u793a\u533a\u5206"])return void this.handleError(400,s.c.COULD_NOT_GET_DATA);p["\u793e\u54e1\u8868\u793a\u533a\u5206"].forEach(C=>{this.statusDivisionOptions.push(C)});const T=t[2];if(!this.checkNullOrEmpty(T))return void this.handleError(400,"\u7d5e\u308a\u8fbc\u307f\u7528\u9078\u629e\u80a2\u304c\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002");T.data.forEach(E=>{this.roleOptions.push({value:E.id,text:E.name})})}else this.handleError(400,s.c.COULD_NOT_GET_DATA)}))}onClickReset(){window.location.reload()}handleClickCancel(){this.employeeAddForm.pristine?this.router.navigateByUrl("/employee/list"):this.modalService.setModal(this.cancelModalTitle,m.yR.BODY.CANCEL,"warning",m.yR.BUTTON_TITLE.EXECUTION,m.yR.BUTTON_TITLE.CANCEL)}handleError(t,o){this.errorService.setError({status:t,title:"\u793e\u54e1\u767b\u9332\u30a8\u30e9\u30fc\uff1a"+m.yR.TITLE.HAS_ERROR,message:o,redirectPath:"/employee/list"})}handleClickSaveButton(){this.common.loading=!0;const t=this.employeeAddForm.value,o={image:t.image,barcode:t.barcode,code:t.code,first_name:t.first_name,first_name_kana:t.first_name_kana,last_name:t.last_name,last_name_kana:t.last_name_kana,mail:t.mail,max_discount_rate:t.max_discount_rate,password:t.passwordGroup?.password,pos_password:t.posPasswordGroup?.pos_password,role_id:t.role_id,store_id:t.store_id,status_division_id:t.status_division_id,tel:t.tel,created_id:this.author.id};return this.storeOptions.some(A=>Number(A.value)===Number(o.store_id))?this.roleOptions.some(A=>Number(A.value)===Number(o.role_id))?this.statusDivisionOptions.some(A=>Number(A.value)===Number(o.status_division_id))?(this.employeeAddForm.markAsPristine(),void this.subscription.add(this.employeeService.add(o).pipe((0,M.K)(A=>(0,Z.of)(A)),(0,F.x)(()=>this.common.loading=!1)).subscribe(A=>{A instanceof N.UA?this.handleError(A.status,A.error.message):(this.flashMessageService.setFlashMessage(A.message,"success",15e3),this.router.navigateByUrl("/employee/list"))}))):(this.employeeAddForm.controls.status_division_id.setValue(null),this.employeeAddForm.markAsPristine(),void(this.common.loading=!1)):(this.employeeAddForm.controls.role_id.setValue(null),this.employeeAddForm.markAsPristine(),void(this.common.loading=!1)):(this.employeeAddForm.controls.store_id.setValue(null),this.employeeAddForm.markAsPristine(),void(this.common.loading=!1))}handleClickDeleteIcon(){this.employeeAddForm.controls.image.setValue(null)}updatePreviewElements(t){if(t){const o=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(t));this.imageUrl=o,this.fileName=t.name}else this.imageUrl=void 0,this.fileName=void 0}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(L.G),e.Y36(re.H7),e.Y36(f.Z),e.Y36(g.F0),e.Y36($.E),e.Y36(ee.d),e.Y36(ne.N),e.Y36(se.Y),e.Y36(h.T),e.Y36(j.P),e.Y36(x.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add"]],decls:139,vars:81,consts:[[3,"breadcrumbList"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[3,"formGroup","ngSubmit"],[1,"mt-8","mb-24","pt-8","pb-20","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg"],[1,"border-t-primary-light-hover","border-t-4"],[1,"mt-6","flex","flex-row","gap-10"],[1,"max-w-[300px]","w-[300px]"],[1,"px-2","pb-2"],[1,"text-sm"],["text","\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\u9078\u629e","accept","image/png, image/jpeg",3,"formCtrl"],["class","mt-2 text-sm text-danger",4,"ngIf","ngIfElse"],["correctImage",""],[1,"grow"],[1,"p-6","border-t","border-r","border-l","border-t-gray-200","border-r-gray-200","border-l-gray-200","shadow"],[1,"flex","flex-row","gap-4"],["nameAttrValue","status_division_id","idAttrValue","status-division-id",1,"w-1/4",3,"formCtrl","options","invalid"],[1,"flex","flex-row","items-center"],[1,"inline-block","mr-2"],[1,"px-3","py-0.5","text-xs","text-white","bg-warning-dark","rounded-full"],["class","mt-1 pl-1","message","",4,"ngIf"],["nameAttrValue","role_id","idAttrValue","role-id",1,"w-1/4",3,"formCtrl","options","invalid"],["nameAttrValue","store_id","idAttrValue","store-id",1,"w-1/4",3,"formCtrl","options","invalid"],["class","mt-1 pl-1 text-sm","message","",4,"ngIf"],["inputType","text","nameAttrValue","code","idAttrValue","code",1,"w-1/4",3,"formCtrl","invalid"],[1,"mt-6","flex","flex-row","gap-4"],["inputType","text","nameAttrValue","last_name","idAttrValue","last-name",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","first_name","idAttrValue","first-name",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","last_name_kana","idAttrValue","last-name-kana",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","first_name_kana","idAttrValue","first-name-kana",1,"w-1/2",3,"formCtrl","invalid"],["inputType","mail","nameAttrValue","mail","idAttrValue","mail",1,"w-1/2",3,"formCtrl","invalid"],["inputType","text","nameAttrValue","tel","idAttrValue","tel",1,"w-1/2",3,"formCtrl","invalid"],["inputType","password","nameAttrValue","password","idAttrValue","password",1,"w-1/2",3,"formCtrl","invalid"],["inputType","password","nameAttrValue","confirm_password","idAttrValue","confirm_password",1,"w-1/2",3,"formCtrl","invalid"],[1,"mt-1","pl-1","text-sm","text-primary"],["inputType","password","nameAttrValue","pos_password","idAttrValue","pos-password",1,"w-1/2",3,"formCtrl","invalid"],["inputType","password","nameAttrValue","confirm_pos_password","idAttrValue","confirm-pos-password",1,"w-1/2",3,"formCtrl","invalid"],["inputType","number","nameAttrValue","barcode","idAttrValue","barcode",1,"w-1/2",3,"formCtrl","invalid"],["inputType","number","nameAttrValue","max_discount_rate","idAttrValue","max_discount_rate",1,"w-1/2",3,"formCtrl","invalid"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","left-0","right-0","p-2","fixed","gap-8"],[3,"click"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success",3,"buttonDisabled"],["em",""],[1,"mt-2","text-sm","text-danger"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["alt","\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u753b\u50cf",1,"border","border-gray-200","shadow","rounded-md",3,"src"],[1,"flex","flex-row","items-center","mt-2"],["icon","delete-bin-line",1,"w-6","cursor-pointer","ml-2","fill-red-500",3,"click"],["message","",1,"mt-1","pl-1"],["message","",1,"mt-1","pl-1","text-sm"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-sm","text-red"]],template:function(t,o){if(1&t&&(e._UZ(0,"app-breadcrumb-org",0),e.TgZ(1,"main")(2,"h1",1),e._uU(3,"\u793e\u54e1\u60c5\u5831\u65b0\u898f\u767b\u9332"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e.NdJ("click",function(){return o.handleClickCancel()}),e._UZ(6,"app-cancel-link-org"),e.qZA(),e.TgZ(7,"div")(8,"app-last-updater-org",4),e._uU(9),e.qZA()()(),e._UZ(10,"hr",5),e.TgZ(11,"form",6),e.NdJ("ngSubmit",function(){return o.handleClickSaveButton()}),e.TgZ(12,"div",7)(13,"h2",8),e._uU(14,"\u793e\u54e1\u60c5\u5831\u5165\u529b"),e.qZA(),e._UZ(15,"hr",9),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"p",13),e._uU(20),e.qZA(),e._UZ(21,"app-file",14),e.YNc(22,Ut,2,1,"div",15),e.YNc(23,kt,1,1,"ng-template",null,16,e.W1O),e.qZA()(),e.TgZ(25,"div",17)(26,"div",18)(27,"div",19)(28,"app-select-container",20)(29,"div",21)(30,"span",22),e._uU(31),e.qZA(),e.TgZ(32,"span",23),e._uU(33,"\u5fc5\u9808"),e.qZA()(),e.YNc(34,Bt,3,2,"div",24),e.qZA(),e.TgZ(35,"app-select-container",25)(36,"div",21)(37,"span",22),e._uU(38),e.qZA(),e.TgZ(39,"span",23),e._uU(40,"\u5fc5\u9808"),e.qZA()(),e.YNc(41,Gt,3,2,"div",24),e.qZA(),e.TgZ(42,"app-select-container",26)(43,"div",21)(44,"span",22),e._uU(45),e.qZA(),e.TgZ(46,"span",23),e._uU(47,"\u5fc5\u9808"),e.qZA()(),e.YNc(48,Kt,3,2,"div",27),e.qZA(),e.TgZ(49,"app-text-container",28)(50,"span",22),e._uU(51),e.qZA(),e.TgZ(52,"span",23),e._uU(53,"\u5fc5\u9808"),e.qZA(),e.YNc(54,Ht,4,3,"div",27),e.qZA()(),e.TgZ(55,"div",29)(56,"app-text-container",30)(57,"div",21)(58,"span",22),e._uU(59),e.qZA(),e.TgZ(60,"span",23),e._uU(61,"\u5fc5\u9808"),e.qZA()(),e.YNc(62,eo,3,2,"div",27),e.qZA(),e.TgZ(63,"app-text-container",31)(64,"div",21)(65,"span",22),e._uU(66),e.qZA(),e.TgZ(67,"span",23),e._uU(68,"\u5fc5\u9808"),e.qZA()(),e.YNc(69,no,3,2,"div",24),e.qZA()(),e.TgZ(70,"div",29)(71,"app-text-container",32)(72,"div",21)(73,"span",22),e._uU(74),e.qZA(),e.TgZ(75,"span",23),e._uU(76,"\u5fc5\u9808"),e.qZA()(),e.YNc(77,ao,4,3,"div",24),e.qZA(),e.TgZ(78,"app-text-container",33)(79,"div",21)(80,"span",22),e._uU(81),e.qZA(),e.TgZ(82,"span",23),e._uU(83,"\u5fc5\u9808"),e.qZA()(),e.YNc(84,po,4,3,"div",24),e.qZA()(),e.TgZ(85,"div",29)(86,"app-text-container",34)(87,"div",21)(88,"span",22),e._uU(89),e.qZA(),e.TgZ(90,"span",23),e._uU(91,"\u5fc5\u9808"),e.qZA()(),e.YNc(92,go,3,2,"div",24),e.qZA(),e.TgZ(93,"app-text-container",35),e._uU(94),e.YNc(95,Eo,4,3,"div",24),e.qZA()(),e.TgZ(96,"div",29)(97,"app-text-container",36)(98,"div",21)(99,"span",22),e._uU(100),e.qZA(),e.TgZ(101,"span",23),e._uU(102,"\u5fc5\u9808"),e.qZA()(),e.YNc(103,Fo,5,4,"div",24),e.qZA(),e.TgZ(104,"app-text-container",37)(105,"div",21)(106,"span",22),e._uU(107,"\u30ed\u30b0\u30a4\u30f3\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\uff09"),e.qZA(),e.TgZ(108,"span",23),e._uU(109,"\u5fc5\u9808"),e.qZA()(),e.YNc(110,Oo,2,1,"div",24),e.YNc(111,Mo,2,2,"div",24),e.qZA()(),e.TgZ(112,"p",38),e._uU(113," \u203b \u534a\u89d2\u82f1\u65708~24\u6587\u5b57\uff08\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u30fb\u6570\u5b57\u3092\u305d\u308c\u305e\u308c1\u6587\u5b57\u305a\u3064\u542b\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff09 "),e.qZA(),e.TgZ(114,"div",29)(115,"app-text-container",39),e._uU(116),e.YNc(117,Zo,4,3,"div",24),e.qZA(),e.TgZ(118,"app-text-container",40),e._uU(119," POS\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\u7528\uff09 "),e.YNc(120,No,2,2,"div",24),e.YNc(121,Uo,2,2,"div",24),e.qZA()(),e.TgZ(122,"p",38),e._uU(123,"\u203b \u534a\u89d2\u6570\u5b574~7\u6587\u5b57"),e.qZA(),e.TgZ(124,"div",29)(125,"app-text-container",41)(126,"span",22),e._uU(127),e.qZA(),e.YNc(128,Po,3,2,"div",24),e.qZA(),e.TgZ(129,"app-text-container",42),e._uU(130),e.YNc(131,Qo,3,2,"div",24),e.qZA()()()()()(),e.TgZ(132,"div",43)(133,"app-button",44),e.NdJ("click",function(){return o.onClickReset()}),e._uU(134,"\u30af\u30ea\u30a2"),e.qZA(),e.TgZ(135,"app-button",45),e._uU(136,"\u4fdd\u5b58"),e.qZA()()()(),e.YNc(137,Vo,2,1,"ng-template",null,46,e.W1O)),2&t){const c=e.MAs(24);e.Q6J("breadcrumbList",e.WLB(78,qo,e.DdM(76,Go),e.DdM(77,Yo))),e.xp6(8),e.Q6J("roleTypeName",o.author&&o.author.role_name?o.author.role_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),e.xp6(1),e.hij(" \u767b\u9332\u8005\uff1a",o.author?o.author.last_name+" "+o.author.first_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),e.xp6(2),e.Q6J("formGroup",o.employeeAddForm),e.xp6(9),e.hij(" \u203b \u753b\u50cf\u306e\u30d5\u30a1\u30a4\u30eb\u30b5\u30a4\u30ba\u306f\u6700\u5927",o.maxFileSizeForDisplay,"M\u30d0\u30a4\u30c8 "),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.image),e.xp6(1),e.Q6J("ngIf",o.employeeAddForm.controls.image.invalid)("ngIfElse",c),e.xp6(6),e.Q6J("formCtrl",o.employeeAddForm.controls.status_division_id)("options",o.statusDivisionOptions)("invalid",o.formControlStateManager(o.employeeAddForm.controls.status_division_id)),e.xp6(3),e.Oqu(o.logicalNames.status_division_id),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.status_division_id)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.role_id)("options",o.roleOptions)("invalid",o.formControlStateManager(o.employeeAddForm.controls.role_id)),e.xp6(3),e.Oqu(o.logicalNames.role_id),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.role_id)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.store_id)("options",o.storeOptions)("invalid",o.formControlStateManager(o.employeeAddForm.controls.store_id)||(null==o.employeeAddForm.controls.store_id.errors?null:o.employeeAddForm.controls.store_id.errors.notContains)),e.xp6(3),e.Oqu(o.logicalNames.store_id),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.store_id)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.code)("invalid",o.formControlStateManager(o.employeeAddForm.controls.code)),e.xp6(2),e.Oqu(o.logicalNames.code),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.code)),e.xp6(2),e.Q6J("formCtrl",o.employeeAddForm.controls.last_name)("invalid",o.formControlStateManager(o.employeeAddForm.controls.last_name)),e.xp6(3),e.hij("",o.logicalNames.last_name,"\uff0810\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.last_name)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.first_name)("invalid",o.formControlStateManager(o.employeeAddForm.controls.first_name)),e.xp6(3),e.hij("",o.logicalNames.first_name,"\uff0810\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.first_name)),e.xp6(2),e.Q6J("formCtrl",o.employeeAddForm.controls.last_name_kana)("invalid",o.formControlStateManager(o.employeeAddForm.controls.last_name_kana)),e.xp6(3),e.hij("",o.logicalNames.last_name_kana,"\uff08\u5168\u89d2\u30ab\u30ca7\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.last_name_kana)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.first_name_kana)("invalid",o.formControlStateManager(o.employeeAddForm.controls.first_name_kana)),e.xp6(3),e.hij("",o.logicalNames.first_name_kana,"\uff08\u5168\u89d2\u30ab\u30ca7\u6587\u5b57\u4ee5\u5185\uff09"),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.first_name_kana)),e.xp6(2),e.Q6J("formCtrl",o.employeeAddForm.controls.mail)("invalid",o.formControlStateManager(o.employeeAddForm.controls.mail)),e.xp6(3),e.Oqu(o.logicalNames.mail),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.mail)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.tel)("invalid",o.formControlStateManager(o.employeeAddForm.controls.tel)),e.xp6(1),e.hij(" ",o.logicalNames.tel,"\uff08\u534a\u89d2\u6570\u5b5710~14\u6587\u5b57\uff09 "),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.tel)),e.xp6(2),e.Q6J("formCtrl",o.employeeAddForm.controls.passwordGroup.controls.password)("invalid",o.formControlStateManager(o.employeeAddForm.controls.passwordGroup.controls.password)),e.xp6(3),e.Oqu(o.logicalNames.password),e.xp6(3),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.passwordGroup.controls.password)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.passwordGroup.controls.confirm_password)("invalid",o.formControlStateManager(o.employeeAddForm.controls.passwordGroup.controls.confirm_password)||(null==o.employeeAddForm.controls.passwordGroup.errors?null:o.employeeAddForm.controls.passwordGroup.errors.isPasswordSame)),e.xp6(6),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.passwordGroup.controls.confirm_password)),e.xp6(1),e.Q6J("ngIf",null==o.employeeAddForm.controls.passwordGroup.errors?null:o.employeeAddForm.controls.passwordGroup.errors.isPasswordSame),e.xp6(4),e.Q6J("formCtrl",o.employeeAddForm.controls.posPasswordGroup.controls.pos_password)("invalid",o.formControlStateManager(o.employeeAddForm.controls.posPasswordGroup.controls.pos_password)),e.xp6(1),e.hij(" ",o.logicalNames.pos_password," "),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.posPasswordGroup.controls.pos_password)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.posPasswordGroup.controls.confirm_pos_password)("invalid",o.formControlStateManager(o.employeeAddForm.controls.posPasswordGroup.controls.confirm_pos_password)||(null==o.employeeAddForm.controls.posPasswordGroup.errors?null:o.employeeAddForm.controls.posPasswordGroup.errors.isRequired)||(null==o.employeeAddForm.controls.posPasswordGroup.errors?null:o.employeeAddForm.controls.posPasswordGroup.errors.isPasswordSame)),e.xp6(2),e.Q6J("ngIf",null==o.employeeAddForm.controls.posPasswordGroup.errors?null:o.employeeAddForm.controls.posPasswordGroup.errors.isRequired),e.xp6(1),e.Q6J("ngIf",null==o.employeeAddForm.controls.posPasswordGroup.errors?null:o.employeeAddForm.controls.posPasswordGroup.errors.isPasswordSame),e.xp6(4),e.Q6J("formCtrl",o.employeeAddForm.controls.barcode)("invalid",o.formControlStateManager(o.employeeAddForm.controls.barcode)),e.xp6(2),e.Oqu(o.logicalNames.barcode),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.barcode)),e.xp6(1),e.Q6J("formCtrl",o.employeeAddForm.controls.max_discount_rate)("invalid",o.formControlStateManager(o.employeeAddForm.controls.max_discount_rate)),e.xp6(1),e.hij(" ",o.logicalNames.max_discount_rate," "),e.xp6(1),e.Q6J("ngIf",o.formControlStateManager(o.employeeAddForm.controls.max_discount_rate)),e.xp6(4),e.Q6J("buttonDisabled",o.employeeAddForm.invalid||o.employeeAddForm.pristine)}},dependencies:[l.O5,l.tP,a._Y,a.JL,a.sg,H.R,G.Z,W.o,K.r,ie.d,te.P,le.K,ae.O]}),n})();var me=i(2124),Wo=i(1914),zo=i(2482);function jo(n,r){1&n&&(e.TgZ(0,"span",24),e._uU(1," \u5fc5\u9808 "),e.qZA())}function Ho(n,r){if(1&n&&(e.TgZ(0,"li",20)(1,"div",21),e._uU(2),e.YNc(3,jo,2,0,"span",22),e.qZA(),e.TgZ(4,"div",23),e._uU(5),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngIf",t.required),e.xp6(2),e.Oqu(t.description)}}function Xo(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",25)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"app-icon",26),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.handleClickDeleteIcon())}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.fileName)}}const $o=function(){return{path:"/employee/list",text:"\u793e\u54e1\u4e00\u89a7"}},en=function(){return{text:"\u793e\u54e1\u4e00\u62ec\u767b\u9332"}},tn=function(n,r){return[n,r]},on=[{path:"",component:U,children:[{path:"list",component:Ae},{path:"add",component:Ko},{path:"bulk-add",component:(()=>{class n{constructor(t,o,c,p,T,A,E,C){this.formBuilder=t,this.authorService=o,this.modalService=c,this.router=p,this.employeeService=T,this.flashMessageService=A,this.errorService=E,this.common=C,this.subscription=new d.w0,this.fileNamePrefix="\u793e\u54e1",this.cancelModalTitle="\u793e\u54e1\u4e00\u62ec\u767b\u9332\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+m.yR.TITLE.CANCEL,this.exceededFileSizeLimit=S.s.IMAGE_MAX_FILE_SIZE,this.maxFileSizeForDisplay=S.s.IMAGE_MAX_FILE_SIZE_FOR_DISPLAY,this.isUploadable=!1,this.employeeBulkAddForm=this.formBuilder.group({file:[null,[this.limitFileSizeValidator()]]}),this.descriptions=[{title:"id",description:"\u8b58\u5225\u756a\u53f7 (\u534a\u89d2\u6570\u5b57\u3001\u672a\u8a18\u5165\u3067\u65b0\u898f\u767b\u9332\u3001\u66f4\u65b0\u6642\u306f\u756a\u53f7\u306f\u305d\u306e\u307e\u307e)"},{title:"status_division_id",description:"\u8868\u793a\u533a\u5206\uff087\uff1a\u901a\u5e38\u30018\uff1a\u505c\u6b62\u4e2d\u30019\uff1a\u9000\u8077\u8005\uff09",required:!0},{title:"role_id",description:"\u6a29\u9650\uff081\uff1aadmin - \u5168\u3066\u306e\u64cd\u4f5c\u6a29\u9650\u4fdd\u6709\u8005\u30013\uff1a\u7ba1\u7406\u8005 - \u57fa\u5e79\u30b7\u30b9\u30c6\u30e0\u5168\u64cd\u4f5c\u53ef\u80fd\u30014\uff1a\u4e00\u822c\u30e6\u30fc\u30b6\u30fc - \u65e5\u5e38\u696d\u52d9\uff09",required:!0},{title:"store_id",description:"\u6240\u5c5e\u5e97\u8217\uff081\uff1a\u697d\u50cd\u9928\u30012\uff1a\u540d\u8b77\u5e97\u30013\uff1a\u5e97\u82173\u30015\uff1a\u4e2d\u90e8\u5e97\uff09",required:!0},{title:"code",description:"\u793e\u54e1\u30b3\u30fc\u30c9\uff08\u534a\u89d2\u6570\u5b574\u6587\u5b57\u4ee5\u5185\uff09",required:!0},{title:"last_name",description:"\u793e\u54e1 \u59d3\uff0810\u6587\u5b57\u4ee5\u5185\uff09",required:!0},{title:"first_name",description:"\u793e\u54e1 \u540d\uff0810\u6587\u5b57\u4ee5\u5185\uff09",required:!0},{title:"last_name_kana",description:"\u793e\u54e1 \u30bb\u30a4\uff08\u5168\u89d2\u30ab\u30bf\u30ab\u30ca7\u6587\u5b57\u4ee5\u5185\uff09",required:!0},{title:"first_name_kana",description:"\u793e\u54e1 \u30e1\u30a4\uff08\u5168\u89d2\u30ab\u30bf\u30ab\u30ca7\u6587\u5b57\u4ee5\u5185\uff09",required:!0},{title:"mail",description:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08255\u6587\u5b57\u4ee5\u5185\uff09",required:!0},{title:"tel",description:"\u96fb\u8a71\u756a\u53f7\uff08\u534a\u89d2\u6570\u5b5710~14\u6587\u5b57\uff09"},{title:"password",description:"\u30ed\u30b0\u30a4\u30f3\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u534a\u89d2\u82f1\u65708~24\u6587\u5b57\uff08\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u30fb\u6570\u5b57\u3092\u305d\u308c\u305e\u308c1\u6587\u5b57\u305a\u3064\u542b\u3080\uff09\uff09",required:!0},{title:"pos_password",description:"POS\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u534a\u89d2\u6570\u5b574~7\u6587\u5b57\uff09"},{title:"barcode",description:"\u793e\u54e1\u30d0\u30fc\u30b3\u30fc\u30c9\uff08\u534a\u89d2\u6570\u5b574\u6841\u4ee5\u5185\uff09"},{title:"max_discount_rate",description:"\u6700\u5927\u5272\u5f15\u7387\uff08\u534a\u89d2\u6570\u5b57\uff09"}]}ngOnInit(){this.template$=this.employeeService.getCsv("template").pipe((0,M.K)(this.handleCatchError(""))),this.subscription.add(this.employeeBulkAddForm.controls.file.valueChanges.subscribe(t=>{this.updatePreviewElements(t)})),this.authorService.author?this.author=this.authorService.author:this.subscription.add(this.authorService.author$.subscribe(t=>{this.author=t})),this.subscription.add(this.modalService.closeEventObservable$.pipe((0,_.h)(t=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(t=>{t===m.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl("/employee/list")}))}limitFileSizeValidator(){return t=>{const o=t.value;return o?.size&&o?.size>S.s.IMAGE_MAX_FILE_SIZE?(this.employeeBulkAddForm.controls.file.setValue(null),{limitFileSize:{errorMessage:this.exceededFileSizeLimit}}):null}}handleCatchError(t){return o=>(console.error(o),(0,Z.of)(t))}handleError(t,o){this.errorService.setError({status:t,title:"\u793e\u54e1\u4e00\u62ec\u767b\u9332\u30a8\u30e9\u30fc\uff1a"+m.yR.TITLE.HAS_ERROR,message:o})}handleClickCancel(){this.isUploadable?this.modalService.setModal(this.cancelModalTitle,m.yR.BODY.CANCEL,"warning",m.yR.BUTTON_TITLE.EXECUTION,m.yR.BUTTON_TITLE.CANCEL):this.router.navigateByUrl("/employee/list")}handleClickUploadButton(){this.isUploadable=!1,this.common.loading=!0,this.subscription.add(this.employeeService.bulkAdd(this.employeeBulkAddForm.controls.file.value).pipe((0,M.K)(t=>(0,Z.of)(t)),(0,F.x)(()=>this.common.loading=!1)).subscribe(t=>{this.common.loading=!1,t instanceof N.UA?this.handleError(t.status,t.error.message):(this.flashMessageService.setFlashMessage(t.message,"success",15e3),this.router.navigateByUrl("/employee/list"))}))}handleClickDeleteIcon(){this.employeeBulkAddForm.controls.file.setValue(null)}updatePreviewElements(t){t?(this.fileName=t.name,this.isUploadable=!0):(this.fileName=void 0,this.isUploadable=!1)}listenStateChange(t){t===me.a.START&&(this.common.loading=!0),t===me.a.END&&(this.common.loading=!1)}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(se.Y),e.Y36(f.Z),e.Y36(g.F0),e.Y36(L.G),e.Y36(j.P),e.Y36(h.T),e.Y36(x.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bulk-add"]],decls:27,vars:15,consts:[[3,"breadcrumbList"],[1,"mt-8","text-xl"],[1,"mt-6","mb-2","flex","flex-row","items-center","justify-between"],[1,"cursor-pointer",3,"click"],["icon","close-line","appendClassForIcon","fill-danger group-hover:fill-danger-hover"],[1,"text-gray-900","group-hover:text-danger-hover"],[3,"roleTypeName"],[1,"width-limit-break","border-t","border-gray-400"],[1,"flex","justify-end","mt-8"],[1,"flex","justify-end","mt-8",3,"api$","fileNamePrefix","statusChange"],[3,"formGroup","ngSubmit"],[1,"mt-2","mb-28","py-8","px-6","bg-white","shadow","border","border-gray-300"],[1,"text-lg","mb-4"],[1,"mb-8"],["class","flex border border-b-0 last:border-b border-slate-400",4,"ngFor","ngForOf"],[1,"flex","justify-between","mb-2"],[1,"flex","items-center"],["text","\u30d5\u30a1\u30a4\u30eb\u9078\u629e","accept","text/csv",3,"formCtrl"],[4,"ngIf"],["btnType","submit","btnFillColor","bg-success","btnHoverColor","hover:bg-success-hover","btnTextColor","text-white","btnLineColor","border-success",3,"buttonDisabled"],[1,"flex","border","border-b-0","last:border-b","border-slate-400"],[1,"flex","items-center","w-[330px]","bg-slate-100","p-4"],["class","px-3 py-0.5 ml-2 text-xs text-white bg-warning-dark rounded-full",4,"ngIf"],[1,"grow","p-4"],[1,"px-3","py-0.5","ml-2","text-xs","text-white","bg-warning-dark","rounded-full"],[1,"flex","flex-row","items-center"],["icon","delete-bin-line",1,"w-6","cursor-pointer","ml-2","fill-red-500",3,"click"]],template:function(t,o){1&t&&(e._UZ(0,"app-breadcrumb-org",0),e.TgZ(1,"main")(2,"h1",1),e._uU(3,"\u793e\u54e1\u4e00\u62ec\u767b\u9332"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e.NdJ("click",function(){return o.handleClickCancel()}),e.TgZ(6,"app-icon-container",4)(7,"p",5),e._uU(8,"\u30ad\u30e3\u30f3\u30bb\u30eb"),e.qZA()()(),e.TgZ(9,"div")(10,"app-last-updater-org",6),e._uU(11),e.qZA()()(),e._UZ(12,"hr",7),e.TgZ(13,"div",8)(14,"app-template-download-link-org",9),e.NdJ("statusChange",function(p){return o.listenStateChange(p)}),e.qZA()(),e.TgZ(15,"form",10),e.NdJ("ngSubmit",function(){return o.handleClickUploadButton()}),e.TgZ(16,"div",11)(17,"p",12),e._uU(18,"CSV\u30d5\u30a1\u30a4\u30eb\u306e\u30d8\u30c3\u30c0\u30fc\u3068\u5024"),e.qZA(),e.TgZ(19,"ul",13),e.YNc(20,Ho,6,3,"li",14),e.qZA(),e.TgZ(21,"div",15)(22,"div",16),e._UZ(23,"app-file",17),e.YNc(24,Xo,5,1,"ng-container",18),e.qZA(),e.TgZ(25,"app-button",19),e._uU(26," \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5b9f\u884c "),e.qZA()()()()()),2&t&&(e.Q6J("breadcrumbList",e.WLB(12,tn,e.DdM(10,$o),e.DdM(11,en))),e.xp6(10),e.Q6J("roleTypeName",o.author&&o.author.role_name?o.author.role_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."),e.xp6(1),e.hij(" \u767b\u9332\u8005\uff1a",o.author?o.author.last_name+" "+o.author.first_name:"\u30c7\u30fc\u30bf\u53d6\u5f97\u4e2d..."," "),e.xp6(3),e.Q6J("api$",o.template$)("fileNamePrefix",o.fileNamePrefix),e.xp6(1),e.Q6J("formGroup",o.employeeBulkAddForm),e.xp6(5),e.Q6J("ngForOf",o.descriptions),e.xp6(3),e.Q6J("formCtrl",o.employeeBulkAddForm.controls.file),e.xp6(1),e.Q6J("ngIf",o.fileName),e.xp6(1),e.Q6J("buttonDisabled",o.employeeBulkAddForm.invalid||!o.isUploadable))},dependencies:[l.sg,l.O5,a._Y,a.JL,a.sg,H.R,G.Z,W.o,K.r,te.P,Wo.J,zo.V]}),n})()},{path:"detail/:id",component:Ie},{path:"edit/:id",component:Nt}]}];let nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(on),g.Bz]}),n})();var rn=i(9307),ln=i(6843),de=i(1945),an=i(4560);let sn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,ln.y,de.L,an.Z]}),n})();var mn=i(3718),dn=i(8367),ue=i(3894),pe=i(8511);let un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,a.UX,mn.z,dn.a,ue.h,pe.Q]}),n})();var pn=i(4933),cn=i(6968),_n=i(3042),gn=i(3962),fn=i(4470),hn=i(9434),An=i(4663),En=i(1326),vn=i(3560),Cn=i(2923),Tn=i(5274),xn=i(9104),Fn=i(6321);let yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[x.v],imports:[l.ez,a.UX,nn,sn,pn.M,cn.V,un,de.L,_n.C,gn.J,fn.x,rn.u,pe.Q,ue.h,hn.H,An.Q,En.z,vn.r,Cn.D,Tn.s,xn.u,Fn.T]}),n})()},2124:(I,v,i)=>{i.d(v,{Z:()=>Z,a:()=>M});var l=i(1571),a=i(727),g=i(9300),m=i(262),s=i(8746),d=i(4181),u=i(6585),_=i(1690),e=i(8782),f=i(1609),h=i(6895),x=i(5146),w=i(1805),U=i(387);function J(F,L){1&F&&(l.TgZ(0,"app-last-updater-org"),l._uU(1," \u6700\u7d42\u66f4\u65b0\u8005\uff1a"),l.Hsn(2,2),l.qZA())}function N(F,L){1&F&&(l._uU(0," \u767b\u9332\u8005\uff1a"),l.Hsn(1,3))}const X=[[["","pageTitle",""]],[["","form",""]],[["","updater",""]],[["","authorname",""]]],q=["[pageTitle]","[form]","[updater]","[authorname]"],M={...d.U};let Z=(()=>{class F{constructor(y,b,R,Q){this.route=y,this.router=b,this.flash=R,this.modalService=Q,this.modFn=()=>({...this.formCtrl.value}),this.modFn2=()=>({...this.formCtrl}),this.statusChange=new l.vpe,this.pagenNameList={client:u.xz.CLIENT,product:u.xz.PRODUCT,supplier:u.xz.SUPPPLIER,"client-working-field":u.xz.CLIENT_WORKING_FIELD},this.id=this.route.snapshot.params.id,this.url=this.router.url,this.detailUrl=this.url.replace("edit","detail"),this.listlUrl=this.url.replace("/add",""),this.prevUrl=this.id?`${this.detailUrl}`:"../",this.strsplit=this.url.split("/"),this.pageName=this.strsplit[2],this.isPristine=!1,this.cancelModalTitle=this.pagenNameList[this.pageName]+"\u66f4\u65b0\u30ad\u30e3\u30f3\u30bb\u30eb\uff1a"+u.yR.TITLE.CANCEL,this.detailPagePath=this.prevUrl,this.subscription=new a.w0}ngOnInit(){if(!this.id)return console.log(this.listlUrl),void(this.detailPagePath=this.listlUrl);this.subscription.add(this.modalService.closeEventObservable$.pipe((0,g.h)(y=>this.modalService.getModalProperties().title===this.cancelModalTitle)).subscribe(y=>{y===u.yR.BUTTON_CLICK_VALUE.OK_BUTTON_CLICK_VALUE&&this.router.navigateByUrl(this.detailPagePath)}))}onClickReset(){window.location.reload()}onClickSave(){const y=this.modFn();let b=this.service.add(y),R="\u4f5c\u6210\u3057\u307e\u3057\u305f",Q="\u6b63\u5e38\u306b\u767b\u9332\u3055\u308c\u307e\u3057\u305f\u3002";this.id&&(b=this.service.update(this.id,y),R="\u66f4\u65b0\u3057\u307e\u3057\u305f",Q="\u6b63\u5e38\u306b\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002"),this.statusChange.emit(M.START),b.pipe((0,m.K)(this.service.handleErrorModal()),(0,s.x)(()=>this.statusChange.emit(M.END))).subscribe(V=>{V.message===R&&this.showSuccessMessage(Q),this.router.navigate([this.prevUrl],{relativeTo:this.route})})}showSuccessMessage(y){this.flash.setFlashMessage(y,"success",15e3)}handleClickCancel(){this.modFn2().pristine?this.router.navigateByUrl(this.detailPagePath):this.modalService.setModal(this.cancelModalTitle,u.yR.BODY.CANCEL,"warning",u.yR.BUTTON_TITLE.EXECUTION,u.yR.BUTTON_TITLE.CANCEL)}}return F.\u0275fac=function(y){return new(y||F)(l.Y36(_.gz),l.Y36(_.F0),l.Y36(e.P),l.Y36(f.Z))},F.\u0275cmp=l.Xpm({type:F,selectors:[["app-template-add-edit"]],inputs:{service:"service",formCtrl:"formCtrl",modFn:"modFn",modFn2:"modFn2"},outputs:{statusChange:"statusChange"},ngContentSelectors:q,decls:15,vars:3,consts:[[1,"mt-8","text-xl"],[1,"flex","items-center","justify-between","mt-6","mb-2"],[3,"click"],[4,"ngIf","ngIfElse"],["editView",""],[1,"width-limit-break","border-t","border-gray-400"],[1,"block","mt-24"],[1,"width-limit-break","bg-primary-light","flex","flex-row","justify-center","bottom-[40px]","fixed","left-0","right-0","p-2","gap-8"],["btnFillColor","bg-success hover:bg-success-hover text-white border-success",3,"buttonDisabled","click"]],template:function(y,b){if(1&y&&(l.F$t(X),l.TgZ(0,"h2",0),l.Hsn(1),l.qZA(),l.TgZ(2,"div",1)(3,"app-cancel-link-org",2),l.NdJ("click",function(){return b.handleClickCancel()}),l.qZA(),l.YNc(4,J,3,0,"app-last-updater-org",3),l.YNc(5,N,2,0,"ng-template",null,4,l.W1O),l.qZA(),l._UZ(7,"hr",5),l.Hsn(8,1),l._UZ(9,"div",6),l.TgZ(10,"div",7)(11,"app-button",2),l.NdJ("click",function(){return b.onClickReset()}),l._uU(12,"\u30af\u30ea\u30a2"),l.qZA(),l.TgZ(13,"app-button",8),l.NdJ("click",function(){return b.onClickSave()}),l._uU(14," \u4fdd\u5b58 "),l.qZA()()),2&y){const R=l.MAs(6);l.xp6(4),l.Q6J("ngIf",b.id)("ngIfElse",R),l.xp6(9),l.Q6J("buttonDisabled",b.formCtrl.invalid)}},dependencies:[h.O5,x.r,w.R,U.K]}),F})()},67:(I,v,i)=>{i.d(v,{s:()=>a});const a={NO_IMAGE_PATH:"/assets/images/no_image.png",PLEASE_SELECT:"\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",IMAGE_MAX_FILE_SIZE:3145728,IMAGE_MAX_FILE_SIZE_FOR_DISPLAY:Math.floor(3.145728),ROUTE_DATA_BREADCRUMB:"breadcrumb",DATA_PERMISSION:{CODE:{PUBLIC:1,PROVISIONAL:2,PRIVATE:3},VALUE:{PUBLIC:"\u516c\u958b\u4e2d",PROVISIONAL:"\u4eee\u4fdd\u5b58",PRIVATE:"\u975e\u516c\u958b"}}}},6232:(I,v,i)=>{i.d(v,{E:()=>u});var l=i(2340),a=i(262),g=i(4004),m=i(1751),s=i(529),d=i(1571);let u=(()=>{class _ extends m.O{constructor(){super(...arguments),this.endpoint=l.pU.divisionApi.endpoint}getAll(f={}){return this.httpOptions.params=f,this.http.get(this.endpoint,this.httpOptions)}find(f){return this.http.get(`${this.endpoint}/${f}`)}getCsv(f){const h={responseType:"text",headers:new s.WM({"X-Download":f})};return this.http.get(this.endpoint,h).pipe((0,a.K)(this.setErrorMessage("\u4e00\u62ec\u767b\u9332\u7528\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97")))}add(f){const h=this.generateFormData(f);return this.http.post(this.endpoint,h)}bulkAdd(f){const h=this.generateFormData({file:f});return this.http.put(this.endpoint,h)}update(f,h){const x=this.generateFormData(h);return this.http.patch(`${this.endpoint}/${f}`,x)}remove(f){return this.http.delete(`${this.endpoint}/${f}`)}getAsSelectOptions(f){return this.getAll(f).pipe((0,g.U)(h=>{const x={},w=new Set(h.data.map(U=>U.name));for(const U of w)x[U]=this.generateSelectOptions(h.data,U);return x}))}generateSelectOptions(f,h){return f.filter(w=>w.name===h).map(({id:w,value:U,division_code:J})=>({value:w,text:U,code:J}))}}return _.\u0275fac=function(){let e;return function(h){return(e||(e=d.n5z(_)))(h||_)}}(),_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2e3:(I,v,i)=>{i.d(v,{d:()=>s});var l=i(2340),a=i(4004),g=i(1751),m=i(1571);let s=(()=>{class d extends g.O{constructor(){super(...arguments),this.storeEndpoint=l.pU.storeApi.endpoint}getAll(_={}){return this.httpOptions.params=_,this.http.get(this.storeEndpoint,this.httpOptions)}find(_){return this.http.get(`${this.storeEndpoint}/${_}`)}add(_){const e=this.generateFormData(_);return this.http.post(this.storeEndpoint,e)}update(_,e){const f=this.generateFormData(e);return this.http.patch(`${this.storeEndpoint}/${_}`,f)}remove(_){return this.http.delete(`${this.storeEndpoint}/${_}`)}getAsSelectOptions(){return this.getAll().pipe((0,a.U)(_=>_.data.map(f=>({value:f.id,text:f.name}))))}}return d.\u0275fac=function(){let u;return function(e){return(u||(u=m.n5z(d)))(e||d)}}(),d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);